{"version":3,"sources":["./src/app/pages/feature/manage/feature-insight/feature-insight.page.html","./src/app/pages/feature/manage/feature-insight/feature-insight.module.ts","./src/app/pages/feature/manage/feature-insight/feature-insight.page.scss","./src/app/pages/feature/manage/feature-insight/feature-insight.page.ts"],"names":[],"mappings":"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","file":"default~feature-insight-feature-insight-module~feature-manage-managefeature-module~pages-main-tab-ma~0fd01f8f.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"modalPage\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\"><ion-icon name=\\\"chevron-back-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>Insight</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-toolbar>\\n    <ion-item>\\n      <ion-label [hidden]=\\\"true\\\">Filter by Program</ion-label>\\n      <ion-select [(ngModel)]=\\\"selectedProgramId\\\" slot=\\\"end\\\" placeholder=\\\"Show All\\\">\\n        <ion-select-option value='all'>Show All</ion-select-option>\\n        <ion-select-option *ngFor=\\\"let program of listOfPrograms\\\" [value]=\\\"program._id\\\" [class.selected]=\\\"selectedProgramId === program._id\\\">{{program.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n  </ion-toolbar>\\n  <ion-list>  <!--*ngIf=\\\"platform.width() > 768\\\"-->\\n    <ion-item [ngStyle]=\\\"{'font-size': platform.width() < 400 ? '11px' : '14px'}\\\">\\n      <div class=\\\"column column-label\\\" (click)=\\\"sortDisplay('participant')\\\">{{participantsLabel}}</div>\\n      <div class=\\\"column column-label\\\" (click)=\\\"sortDisplay('leader')\\\">{{leadersLabel}}</div>\\n      <div class=\\\"column column-label\\\" (click)=\\\"sortDisplay('program')\\\">Program</div>\\n      <div class=\\\"progress column-label ion-no-margin\\\" slot=\\\"end\\\" (click)=\\\"sortDisplay('progress')\\\">Progress</div>\\n      <div class=\\\"last-date column-label ion-no-margin\\\" slot=\\\"end\\\" (click)=\\\"sortDisplay('lastDate')\\\">Last Check-in</div>\\n    </ion-item>\\n    <ion-item *ngFor=\\\"let relationship of relationshipCompletion\\\" (click)=\\\"openProgram($event, relationship)\\\" [hidden]=\\\"selectedProgramId && ![relationship.program._id, 'all'].includes(selectedProgramId)\\\">\\n      <div *ngFor=\\\"let participant of relationship.participants | slice : 0 : 1\\\" (click)=\\\"seeUserInfo($event, relationship.participants[0])\\\" class=\\\"column\\\">\\n        <ion-avatar class=\\\"insight-person-avatar\\\">\\n          <img class=\\\"response-user-img\\\" *ngIf=\\\"participant.avatar\\\" [src]=\\\"participant.avatar\\\"/>\\n          <img class=\\\"response-user-img\\\" *ngIf=\\\"!participant.avatar\\\" src=\\\"assets/img/avatar-default.jpg\\\"/>\\n        </ion-avatar>\\n        <ion-label class=\\\"insight-person-label ion-text-center ion-text-wrap\\\">{{participant.first_name}} {{participant.last_name}}</ion-label>\\n      </div>\\n      <div *ngFor=\\\"let leader of relationship.leaders | slice : 0 : 1\\\" (click)=\\\"seeUserInfo($event, relationship.leaders[0])\\\" class=\\\"column\\\">\\n        <ion-avatar class=\\\"insight-person-avatar\\\">\\n          <img class=\\\"response-user-img\\\" *ngIf=\\\"leader.avatar\\\" [src]=\\\"leader.avatar\\\"/>\\n          <img class=\\\"response-user-img\\\" *ngIf=\\\"!leader.avatar\\\" src=\\\"assets/img/avatar-default.jpg\\\"/>\\n        </ion-avatar>\\n        <ion-label class=\\\"insight-person-label ion-text-center ion-text-wrap\\\">{{leader.first_name}} {{leader.last_name}}</ion-label>\\n      </div>\\n      <div class=\\\"column\\\">\\n        <ion-label class=\\\"insight-person-label ion-text-center ion-text-wrap\\\">{{relationship.program.name}}</ion-label>\\n      </div>\\n      <ion-progress-bar class=\\\"progress ion-no-margin\\\" [value]=\\\"relationship.completed_count/relationship.content_calendar_count\\\" [buffer]=\\\"relationship.past_due_count/relationship.content_calendar_count\\\" slot=\\\"end\\\"></ion-progress-bar>\\n      <div class=\\\"last-date small-font ion-text-wrap ion-no-margin\\\" slot=\\\"end\\\">{{relationship.last_response_date | datetime: 'm:n,d:n,y:n'}}</div>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeatureInsightPage } from './feature-insight.page';\nimport {ApplicationPipesModule} from \"../../../../pipes/application-pipes\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeatureInsightPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n      ApplicationPipesModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FeatureInsightPage]\n})\nexport class FeatureInsightPageModule {}\n","export default \"app-feature-insight .column-label {\\n  text-align: center;\\n}\\napp-feature-insight .column {\\n  width: 100px;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\napp-feature-insight .column .insight-person-avatar {\\n  margin: 0 auto;\\n}\\napp-feature-insight .column .insight-person-label {\\n  margin: 5px auto 0 auto;\\n  color: grey;\\n  font-size: 12px;\\n}\\napp-feature-insight .program {\\n  width: 12%;\\n  text-align: center;\\n}\\napp-feature-insight .progress {\\n  text-align: center;\\n  width: 20%;\\n}\\napp-feature-insight .last-date {\\n  text-align: center;\\n  width: 18%;\\n}\\napp-feature-insight .small-font {\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvbWFuYWdlL2ZlYXR1cmUtaW5zaWdodC9mZWF0dXJlLWluc2lnaHQucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWF0dXJlL21hbmFnZS9mZWF0dXJlLWluc2lnaHQvZmVhdHVyZS1pbnNpZ2h0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGtCQUFBO0FDREo7QURJRTtFQUNFLFlBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0FDRko7QURJSTtFQUNFLGNBQUE7QUNGTjtBREtJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQ0hOO0FET0U7RUFDRSxVQUFBO0VBQ0Esa0JBQUE7QUNMSjtBRFFFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0FDTko7QURTRTtFQUVFLGtCQUFBO0VBQ0EsVUFBQTtBQ1JKO0FEV0U7RUFDRSxlQUFBO0FDVEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWF0dXJlL21hbmFnZS9mZWF0dXJlLWluc2lnaHQvZmVhdHVyZS1pbnNpZ2h0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1mZWF0dXJlLWluc2lnaHQge1xuXG4gIC5jb2x1bW4tbGFiZWwge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5jb2x1bW4ge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcblxuICAgIC5pbnNpZ2h0LXBlcnNvbi1hdmF0YXIge1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgLmluc2lnaHQtcGVyc29uLWxhYmVsIHtcbiAgICAgIG1hcmdpbjogNXB4IGF1dG8gMCBhdXRvO1xuICAgICAgY29sb3I6IGdyZXk7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICB9XG5cbiAgLnByb2dyYW0ge1xuICAgIHdpZHRoOiAxMiU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLnByb2dyZXNzIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgd2lkdGg6IDIwJTsgLy8gMzIlXG4gIH1cblxuICAubGFzdC1kYXRlIHtcbiAgICAvL2NvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHdpZHRoOiAxOCU7XG4gIH1cblxuICAuc21hbGwtZm9udCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG59IiwiYXBwLWZlYXR1cmUtaW5zaWdodCAuY29sdW1uLWxhYmVsIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYXBwLWZlYXR1cmUtaW5zaWdodCAuY29sdW1uIHtcbiAgd2lkdGg6IDEwMHB4O1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5hcHAtZmVhdHVyZS1pbnNpZ2h0IC5jb2x1bW4gLmluc2lnaHQtcGVyc29uLWF2YXRhciB7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLWZlYXR1cmUtaW5zaWdodCAuY29sdW1uIC5pbnNpZ2h0LXBlcnNvbi1sYWJlbCB7XG4gIG1hcmdpbjogNXB4IGF1dG8gMCBhdXRvO1xuICBjb2xvcjogZ3JleTtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuYXBwLWZlYXR1cmUtaW5zaWdodCAucHJvZ3JhbSB7XG4gIHdpZHRoOiAxMiU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmFwcC1mZWF0dXJlLWluc2lnaHQgLnByb2dyZXNzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMjAlO1xufVxuYXBwLWZlYXR1cmUtaW5zaWdodCAubGFzdC1kYXRlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTglO1xufVxuYXBwLWZlYXR1cmUtaW5zaWdodCAuc21hbGwtZm9udCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn0iXX0= */\"","import {Component, Input, OnInit, ViewEncapsulation, NgZone} from '@angular/core';\nimport {\n  ActionSheetController,\n  AlertController,\n  LoadingController,\n  ModalController, PickerController,\n  Platform\n} from \"@ionic/angular\";\nimport {Moment} from \"../../../../services/moment.service\";\nimport {Location} from \"@angular/common\";\nimport {Storage} from \"@ionic/storage\";\nimport {ElectronService} from \"ngx-electron\";\nimport {Badge} from \"@ionic-native/badge/ngx\";\nimport {SwUpdate} from \"@angular/service-worker\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {CacheService} from \"ionic-cache\";\nimport {UserData} from \"../../../../services/user.service\";\nimport {NetworkService} from \"../../../../services/network-service.service\";\nimport {Resource} from \"../../../../services/resource.service\";\nimport {Response} from \"../../../../services/response.service\";\nimport {MapService} from \"../../../../services/map.service\";\nimport {Auth} from \"../../../../services/auth.service\";\nimport {Chat} from \"../../../../services/chat.service\";\nimport {CalendarService} from \"../../../../services/calendar.service\";\nimport {ShowfeaturePage} from \"../../showfeature/showfeature.page\";\n\n@Component({\n  selector: 'app-feature-insight',\n  templateUrl: './feature-insight.page.html',\n  styleUrls: ['./feature-insight.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class FeatureInsightPage extends ShowfeaturePage implements OnInit {\n\n  relationshipCompletion: any;\n  participantAscending = true;\n  leaderAscending = true;\n  programAscending = true;\n  progressAscending = false;\n  lastActivityAscending = false;\n  listOfPrograms: any = [];\n  selectedProgramId: any;\n\n  constructor(\n      public zone: NgZone,\n      public location: Location,\n      public storage: Storage,\n      public electronService: ElectronService,\n      public badge: Badge,\n      public swUpdate: SwUpdate,\n      public route: ActivatedRoute,\n      public router: Router,\n      public cache: CacheService,\n      public platform: Platform,\n      public alertCtrl: AlertController,\n      public actionSheetCtrl: ActionSheetController,\n      public loadingCtrl: LoadingController,\n      public modalCtrl: ModalController,\n      public pickerCtrl: PickerController,\n      public networkService: NetworkService,\n      public chatService: Chat,\n      public userData: UserData,\n      public authService: Auth,\n      public mapService: MapService,\n      public momentService: Moment,\n      public resourceService: Resource,\n      public responseService: Response,\n      public calendarService: CalendarService,\n  ) {\n    super(zone, location, storage, electronService, badge, swUpdate, route, router,\n        cache, platform, alertCtrl, actionSheetCtrl, loadingCtrl, modalCtrl, pickerCtrl,\n        networkService, chatService, userData, authService, mapService,\n        momentService, resourceService, responseService, calendarService);\n  }\n\n  async ngOnInit() {\n    super.ngOnInit();\n    if (this.authService.token && this.userData.user) {\n      if (!this.moment._id) { // angular router may not have moment._id ready yet\n        this.moment._id = this.route.snapshot.paramMap.get('id');\n      }\n      await this.loadInsight();\n    }\n  }\n\n  // for current user refreshing the app\n  loadAndProcessMomentHandler = async (data) => {\n    // data.type - 'change aux data' or null or others. In all cases, reload moment and redo permission\n      // ready to check authentication status\n    this.loadInsight();\n  };\n\n  async loadInsight() {\n    if (this.moment._id) { // angular router may not have moment._id ready yet\n      const results: any = await this.momentService.loadProgramInsight(this.moment._id);\n      if (results && results.relationship_completion) {\n        this.relationshipCompletion = results.relationship_completion;\n        let objects = {};\n        this.listOfPrograms = this.relationshipCompletion.map((c) => c.program).filter((program) => {\n          if (objects[program._id]) {\n            return false;\n          }\n          objects[program._id] = true;\n          return true;\n        });\n        console.log(\"list\", this.listOfPrograms);\n      }\n    }\n  }\n\n  sortDisplay(type) {\n      if (type === 'participant') {\n        this.participantAscending = !this.participantAscending;\n        const reverseOrder = this.participantAscending;\n        this.relationshipCompletion.sort(function(a, b) {\n          if (a.participants[0].first_name < b.participants[0].first_name) {\n            return reverseOrder ? -1 : 1;\n          }\n          if (a.participants[0].first_name > b.participants[0].first_name) {\n            return reverseOrder ? 1 : -1;\n          }\n        });\n      } else if (type === 'leader') {\n        this.leaderAscending = !this.leaderAscending;\n        const reverseOrder = this.leaderAscending;\n        this.relationshipCompletion.sort(function(a, b) {\n            if (a.leaders[0].first_name < b.leaders[0].first_name) {\n              return reverseOrder ? -1 : 1;\n            }\n            if (a.leaders[0].first_name > b.leaders[0].first_name) {\n              return reverseOrder ? 1 : -1;\n            }\n          });\n      } else if (type === 'program') {\n        this.programAscending = !this.programAscending;\n        const reverseOrder = this.programAscending;\n        this.relationshipCompletion.sort(function(a, b) {\n          if (a.program.name < b.program.name) {\n            return reverseOrder ? -1 : 1;\n          }\n          if (a.program.name > b.program.name) {\n            return reverseOrder ? 1 : -1;\n          }\n        });\n      } else if (type === 'progress') {\n        this.progressAscending = !this.progressAscending;\n        const reverseOrder = this.progressAscending;\n        this.relationshipCompletion.sort(function (a, b) {\n          const c: any = a.completed_count / a.content_calendar_count;\n          const d: any = b.completed_count / b.content_calendar_count;\n          return (reverseOrder ? 1 : -1 ) * (d - c);\n        });\n      } else if (type === 'lastDate') {\n        this.lastActivityAscending = !this.lastActivityAscending;\n        const reverseOrder = this.lastActivityAscending;\n        this.relationshipCompletion.sort(function (a, b) {\n          const c: any = new Date(a.last_response_date);\n          const d: any = new Date(b.last_response_date);\n          return (reverseOrder ? 1 : -1 ) * (d - c);\n        });\n      }\n  }\n\n  closeModal() {\n    this.modalCtrl.dismiss();\n  }\n}\n"],"sourceRoot":"webpack:///"}