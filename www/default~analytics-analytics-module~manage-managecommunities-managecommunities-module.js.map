{"version":3,"sources":["./src/app/pages/manage/analytics/analytics.page.html","./src/app/pages/manage/analytics/analytics.module.ts","./src/app/pages/manage/analytics/analytics.page.scss","./src/app/pages/manage/analytics/analytics.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,uSAAwO,6DAA6D,wmBAAwmB,mCAAmC,6jBAA6jB,sDAAsD,ilBAAilB,qDAAqD,gkBAAgkB,qDAAqD,6H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACApwF;AACM;AACF;AACU;AAEV;AAEI;AAEjD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;CACF,CAAC;AAWF;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAT/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,6DAAa,CAAC;SAC9B,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;;ACzBhC;AAAe,uFAAwB,iBAAiB,GAAG,6CAA6C,mjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAnB;AACtC;AACS;AACE;AAQ1D;IAKI,uBACW,SAA0B,EAC1B,QAAkB,EAClB,aAAuB;QAHlC,iBAIK;QAHM,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,kBAAa,GAAb,aAAa,CAAU;QANlC,kBAAa,GAAG,KAAK,CAAC;QACtB,kBAAa,GAAQ,EAAE,CAAC;QAaxB,mBAAc,GAAG,UAAO,IAAI;;gBACxB,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,sBAAsB,EAAE;oBAC9C,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;;;aACJ,CAAC;IAXE,CAAC;IAEL,gCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC9G,CAAC;IAQK,4BAAI,GAAV;;;;;;6BACQ,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAA1C,wBAA0C;wBAC1C,SAAI,CAAC,aAAa;wBAAuB,qBAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,GAAG,CAAC;;wBAAjI,GAAmB,mBAAmB,GAAG,SAAwF,CAAC;;;;;;KAEzI;IAED,kCAAU,GAAV;QACI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC/C,CAAC;IAED,mCAAW,GAAX;QACI,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC7E,CAAC;;gBA5BqB,8DAAe;gBAChB,+DAAQ;gBACH,iEAAQ;;IAPzB;QAAR,2DAAK,EAAE;;oDAAgB;IADf,aAAa;QANzB,+DAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,4LAAoC;YAElC,aAAa,EAAE,+DAAiB,CAAC,IAAI;;SACxC,CAAC;yCAOwB,8DAAe;YAChB,+DAAQ;YACH,iEAAQ;OARzB,aAAa,CAmCzB;IAAD,oBAAC;CAAA;AAnCyB","file":"default~analytics-analytics-module~manage-managecommunities-managecommunities-module.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"modalPage\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\"><ion-icon name=\\\"chevron-back-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>{{userData.user.churches[userData.currentCommunityIndex].name}}: Insight</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"4\\\">\\n        <ion-card *ngIf=\\\"churchService && churchService.numberOfActiveUsers\\\">\\n          <ion-card-header>\\n            <ion-card-title>\\n              Active Users\\n            </ion-card-title>\\n            <ion-note class=\\\"padding-start\\\">\\n              (last month)\\n            </ion-note>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <h1 class=\\\"ion-text-center\\\">{{churchService.numberOfActiveUsers}}</h1>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"4\\\">\\n        <ion-card *ngIf=\\\"churchService && churchService.currentManagedCommunity\\\">\\n          <ion-card-header>\\n            <ion-card-title>\\n              Total Users\\n            </ion-card-title>\\n            <ion-note class=\\\"padding-start\\\">\\n              (as of today)\\n            </ion-note>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <h1 class=\\\"ion-text-center\\\">{{churchService.currentManagedCommunity.members.length}}</h1>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"4\\\">\\n        <ion-card *ngIf=\\\"churchService && churchService.currentManagedCommunity\\\">\\n          <ion-card-header>\\n              <ion-card-title>\\n                All Topics + Groups\\n              </ion-card-title>\\n              <ion-note class=\\\"padding-start\\\">\\n                (as of today)\\n              </ion-note>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <h1 class=\\\"ion-text-center\\\">{{churchService.currentManagedCommunity.groups.length}}</h1>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-xl=\\\"4\\\">\\n        <ion-card *ngIf=\\\"churchService && churchService.currentManagedCommunity\\\">\\n          <ion-card-header>\\n            <ion-card-title>\\n              Administrators\\n            </ion-card-title>\\n            <ion-note class=\\\"padding-start\\\">\\n              (as of today)\\n            </ion-note>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <h1 class=\\\"ion-text-center\\\">{{churchService.currentManagedCommunity.admins.length}}</h1>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnalyticsPage } from './analytics.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AnalyticsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AnalyticsPage]\n})\nexport class AnalyticsPageModule {}\n","export default \"app-analytics ion-row {\\n  height: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL21hbmFnZS9hbmFseXRpY3MvYW5hbHl0aWNzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbWFuYWdlL2FuYWx5dGljcy9hbmFseXRpY3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0UsWUFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbWFuYWdlL2FuYWx5dGljcy9hbmFseXRpY3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWFuYWx5dGljcyB7XG5cbiAgaW9uLXJvdyB7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG5cbn0iLCJhcHAtYW5hbHl0aWNzIGlvbi1yb3cge1xuICBoZWlnaHQ6IGF1dG87XG59Il19 */\"","import {Component, Input, OnDestroy, OnInit, ViewEncapsulation} from '@angular/core';\nimport {ModalController} from \"@ionic/angular\";\nimport {UserData} from \"../../../services/user.service\";\nimport {Churches} from \"../../../services/church.service\";\n\n@Component({\n  selector: 'app-analytics',\n  templateUrl: './analytics.page.html',\n  styleUrls: ['./analytics.page.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class AnalyticsPage implements OnInit, OnDestroy {\n    @Input() modalPage: any;\n    refreshNeeded = false;\n    subscriptions: any = {};\n\n    constructor(\n        public modalCtrl: ModalController,\n        public userData: UserData,\n        public churchService: Churches,\n    ) { }\n\n    ngOnInit() {\n        this.load();\n        this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshHandler);\n    }\n\n    refreshHandler = async (data) => {\n        if (data && data.type === 'load community ready') {\n            this.load();\n        }\n    };\n\n    async load() {\n        if (this.churchService.currentManagedCommunity) {\n            this.churchService.numberOfActiveUsers = await this.churchService.getAppUserUsage(this.churchService.currentManagedCommunity._id);\n        }\n    }\n\n    closeModal(){\n        this.modalCtrl.dismiss(this.refreshNeeded);\n    }\n\n    ngOnDestroy() {\n        this.subscriptions['refreshUserStatus'].unsubscribe(this.refreshHandler);\n    }\n}\n"],"sourceRoot":"webpack:///"}