{"version":3,"sources":["./src/app/pages/board/communityboard/communityboard.page.html","./src/app/pages/board/communityboard/communityboard.module.ts","./src/app/pages/board/communityboard/communityboard.page.scss","./src/app/pages/board/communityboard/communityboard.page.ts"],"names":[],"mappings":"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","file":"board-communityboard-communityboard-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"lightgrey\\\" *ngIf=\\\"(platform.is('mobileweb') && (platform.is('ios') || platform.is('android'))) && userData.showDownloadLink\\\">\\n    <ion-item-sliding side=\\\"end\\\">\\n      <ion-item lines=\\\"none\\\"  color=\\\"lightgrey\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-img src=\\\"assets/img/icon.png\\\"></ion-img>\\n        </ion-avatar>\\n        <div class=\\\"details\\\" class=\\\"ion-text-wrap\\\">\\n          <a *ngIf=\\\"platform.is('ios')\\\" href=\\\"https://itunes.apple.com/us/app/restvo-connect-with-churches/id1365903479?ls=1&mt=8\\\" style=\\\"font-size: 14px; color: var(--ion-color-button1)\\\">Download app for better experience</a>\\n          <a *ngIf=\\\"platform.is('android')\\\" href=\\\"https://play.google.com/store/apps/details?id=com.restvo.app\\\" style=\\\"font-size: 14px; color: var(--ion-color-button1)\\\">Download app for better experience</a>\\n        </div>\\n        <ion-icon name=\\\"chevron-forward-outline\\\" color=\\\"primary\\\" slot=\\\"end\\\"></ion-icon>\\n        <!--<ion-button fill=\\\"clear\\\" slot=\\\"end\\\"><ion-icon name=\\\"close\\\"></ion-icon></ion-button>-->\\n      </ion-item>\\n      <ion-item-options>\\n        <ion-item-option color=\\\"primary\\\" (click)=\\\"userData.showDownloadLink = false\\\">\\n          Dismiss\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-toolbar>\\n  <ion-toolbar>\\n    <ion-menu-toggle menu=\\\"main\\\" *ngIf=\\\"userData.user\\\" slot=\\\"start\\\">\\n      <ion-button fill=\\\"clear\\\" color=\\\"grey\\\">\\n        <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-button>\\n      <ion-badge *ngIf=\\\"this.chatService && this.chatService.connectTabBadge\\\" mode=\\\"md\\\">{{this.chatService.connectTabBadge}}</ion-badge>\\n    </ion-menu-toggle>\\n    <ion-title>News</ion-title>\\n    <!--add new featured topic-->\\n    <ion-item lines=\\\"none\\\" routerLink=\\\"/app/user/profile\\\" *ngIf=\\\"userData.user && platform.width() >= 768\\\" slot=\\\"end\\\" mode=\\\"md\\\" style=\\\"--background: transparent\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <ion-img *ngIf=\\\"userData.user && userData.user.avatar\\\" [src]=\\\"userData.user.avatar\\\"></ion-img>\\n        <ion-img *ngIf=\\\"!userData.user || !userData.user.avatar\\\" src=\\\"assets/img/avatar-default.jpg\\\"></ion-img>\\n      </ion-avatar>\\n      <ion-label>\\n        {{userData.user.first_name}} {{userData.user.last_name}}\\n      </ion-label>\\n    </ion-item>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!userData.user\\\" color=\\\"grey\\\">\\n      <ion-button routerLink=\\\"/register\\\">\\n        Sign In\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"userData.currentCommunityAdminStatus\\\">\\n      <ion-button (click)=\\\"setupLoadGroups()\\\" id=\\\"moreoptions\\\" color=\\\"grey\\\">\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ion-toolbar *ngIf=\\\"newsfeedMoreOptions\\\">\\n    <div class=\\\"moreoptions-container\\\">\\n      <ion-grid *ngIf=\\\"communitiesboards && communitiesboards.length\\\">\\n        <ion-badge style=\\\"margin: 0 auto;\\\">Tap on a topic below to write a post:</ion-badge>\\n      </ion-grid>\\n      <ion-grid class=\\\"moreoptions-grid\\\" *ngFor=\\\"let community of communitiesboards\\\">\\n        <ion-row class=\\\"moreoptions-community-name ion-text-center\\\">{{community.name}}</ion-row>\\n        <ion-row class=\\\"moreoptions-row\\\">\\n          <ion-col *ngIf=\\\"community._id !== '5ab62be8f83e2c1a8d41f894'\\\" class=\\\"ion-align-self-center\\\" size-xs=\\\"4\\\" size-sm=\\\"3\\\" size-md=\\\"3\\\" size-lg=\\\"2\\\" size-xl=\\\"2\\\">\\n            <ion-item lines=\\\"none\\\" (click)=\\\"createNewBoard(community)\\\">\\n              <div class=\\\"moreoptions-centered\\\">\\n                <ion-avatar class=\\\"moreoptions-avatar\\\">\\n                  <img src=\\\"assets/img/Campfire_Gray.png\\\"/>\\n                </ion-avatar>\\n                <ion-icon class=\\\"moreoptions-joined\\\" color=\\\"grey\\\" name=\\\"add\\\"></ion-icon>\\n                <ion-label class=\\\"moreoptions-label ion-text-center\\\">Topic</ion-label>\\n              </div>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col *ngFor=\\\"let board of community.boards\\\" class=\\\"ion-align-self-center\\\" size-xs=\\\"4\\\" size-sm=\\\"3\\\" size-md=\\\"3\\\" size-lg=\\\"2\\\" size-xl=\\\"2\\\">\\n            <ion-item lines=\\\"none\\\" (click)=\\\"openBoard($event, board, community)\\\">\\n              <div class=\\\"moreoptions-centered\\\">\\n                <ion-avatar class=\\\"moreoptions-avatar\\\">\\n                  <img [src]=\\\"board.background | background: board._id\\\"/>\\n                </ion-avatar>\\n                <ion-icon class=\\\"moreoptions-joined\\\" color=\\\"tertiary\\\" name=\\\"create\\\"></ion-icon>\\n                <ion-label class=\\\"moreoptions-label ion-text-center\\\">{{board.name}}</ion-label>\\n              </div>\\n            </ion-item>\\n          </ion-col>\\n          <ion-col *ngFor=\\\"let topic of community.topics\\\" class=\\\"ion-align-self-center\\\" size-xs=\\\"4\\\" size-sm=\\\"3\\\" size-md=\\\"3\\\" size-lg=\\\"2\\\" size-xl=\\\"2\\\">\\n            <ion-item lines=\\\"none\\\" (click)=\\\"showGroupProfile(topic)\\\">\\n              <div class=\\\"moreoptions-centered\\\">\\n                <ion-avatar class=\\\"moreoptions-avatar\\\">\\n                  <img [src]=\\\"topic.background | background: topic._id\\\"/>\\n                </ion-avatar>\\n                <ion-icon class=\\\"moreoptions-joined\\\" color=\\\"tertiary\\\" *ngIf=\\\"topic.joined\\\" name=\\\"checkmark\\\"></ion-icon>\\n                <ion-label class=\\\"moreoptions-label ion-text-center\\\">{{topic.name}}</ion-label>\\n              </div>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!--get new data when page is refreshed-->\\n  <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"ionSpinner\\\">\\n    <ion-row class=\\\"ion-justify-content-start ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n      <ion-spinner name=\\\"dots\\\"></ion-spinner>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-refresher (ionRefresh)=\\\"refresh($event)\\\" slot=\\\"fixed\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid>\\n    <div *ngFor=\\\"let community of communitiesboards\\\">\\n      <!--<ion-item (click)=\\\"showCommunityProfile(community)\\\"  [hidden]=\\\"!community.postCount\\\" lines=\\\"none\\\" color=\\\"grey\\\">\\n        <div class=\\\"community-title\\\">{{community.name}}</div>\\n      </ion-item>-->\\n      <div *ngFor=\\\"let board of community.boards\\\">\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-card *ngFor=\\\"let post of board.preview_posts\\\" (click)=\\\"openPost($event, board, post)\\\">\\n            <ion-item class=\\\"header-container\\\" lines=\\\"none\\\">\\n              <ion-avatar slot=\\\"start\\\" (click)=\\\"seeUserInfo($event, post.author)\\\">\\n                <img *ngIf=\\\"post.author.avatar\\\" [src]=\\\"post.author.avatar\\\"/>\\n                <img *ngIf=\\\"!post.author.avatar\\\" src=\\\"assets/img/avatar-default.jpg\\\"/>\\n              </ion-avatar>\\n              <div class=\\\"author-container\\\">\\n                <div class=\\\"author ion-text-wrap\\\" >\\n                  {{post.author.first_name}} {{post.author.last_name}}\\n                  <ion-icon name=\\\"alert-circle\\\" *ngIf=\\\"post.status === 'review'\\\" color=\\\"grey\\\"></ion-icon>\\n                </div>\\n                <ion-badge *ngIf=\\\"board.group\\\" (click)=\\\"openBoard($event, board, community)\\\" color=\\\"primary\\\">{{board.name}}</ion-badge>\\n                <ion-badge color=\\\"primary\\\" *ngIf=\\\"!board.group\\\">{{board.name}}</ion-badge>\\n              </div>\\n              <ion-col slot=\\\"end\\\" class=\\\"note-col\\\">\\n                <p class=\\\"note ion-text-end\\\">{{post.updatedAt | datetime: 'm:l,d:n,y:n'}}</p>\\n                <p class=\\\"note ion-text-end\\\">{{displayTimeElapsed(post.updatedAt)}}</p>\\n              </ion-col>\\n            </ion-item>\\n            <div class=\\\"photo-frame\\\" *ngIf=\\\"post.attachments?.length\\\">\\n              <img class=\\\"photo\\\" *ngIf=\\\"(['jpg', 'jpeg', 'gif', 'png']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) > -1\\\"  [src]=\\\"post.attachments[0]\\\" />\\n              <a [href]=\\\"post.attachments[0]\\\" *ngIf=\\\"(['doc', 'docx']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) > -1\\\" target=\\\"_blank\\\"><img src=\\\"assets/img/docx.svg\\\" /><p>{{post.attachments[0].substring(post.attachments[0].lastIndexOf('/') + 1)}}</p></a>\\n              <a [href]=\\\"post.attachments[0]\\\" *ngIf=\\\"(['xls', 'xlsx']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) > -1\\\" target=\\\"_blank\\\"><img src=\\\"assets/img/xlsx.svg\\\" /><p>{{post.attachments[0].substring(post.attachments[0].lastIndexOf('/') + 1)}}</p></a>\\n              <a [href]=\\\"post.attachments[0]\\\" *ngIf=\\\"(['pdf']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) > -1\\\" target=\\\"_blank\\\"><img src=\\\"assets/img/pdf.svg\\\" /><p>{{post.attachments[0].substring(post.attachments[0].lastIndexOf('/') + 1)}}</p></a>\\n              <a [href]=\\\"post.attachments[0]\\\" *ngIf=\\\"(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) < 0\\\" target=\\\"_blank\\\"><img src=\\\"assets/img/file.svg\\\" /><p>{{post.attachments[0].substring(post.attachments[0].lastIndexOf('/') + 1)}}</p></a>\\n              <div plyr [plyrSources]=\\\"[{ 'src': post.attachments[0], 'type': 'video/' + (post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) }]\\\" [plyrOptions]=\\\"resourceService.plyrOptions\\\" (plyrInit)=\\\"initPlyr($event, post.attachments[0])\\\" *ngIf=\\\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(post.attachments[0].substring(post.attachments[0].lastIndexOf('.') + 1).toLowerCase()) > -1\\\" (click)=\\\"$event.stopPropagation()\\\"></div>\\n            </div>\\n            <div class=\\\"photo-frame\\\" *ngIf=\\\"post.media?.length\\\" (click)=\\\"resourceService.clickVideo($event, post.media[0].sources)\\\">\\n              <div plyr [plyrSources]=\\\"post.media[0].sources\\\" [plyrOptions]=\\\"resourceService.plyrOptions\\\" (plyrInit)=\\\"initPlyr($event, post.media[0]._id)\\\"></div>\\n            </div>\\n            <ion-card-content>\\n              <p class=\\\"short-paragraph\\\" [innerHTML]=\\\"post.body | nl2br\\\"></p>\\n            </ion-card-content>\\n            <div class=\\\"photo-frame\\\" *ngIf=\\\"post.moments && post.moments.length && post.moments[0]._id && post.moments[0].resource && ['User Defined Activity','Track','Event','Goal','Meetup'].indexOf(post.moments[0].resource.field) > -1\\\">\\n              <img class=\\\"photo\\\" *ngIf=\\\"post.moments[0].assets.length > 0\\\" [src]=\\\"post.moments[0].assets[0]\\\">\\n            </div>\\n            <ion-item *ngIf=\\\"post.moments && post.moments.length && post.moments[0]._id\\\" lines=\\\"none\\\">\\n              <ion-thumbnail *ngIf=\\\"['User Defined Activity','Track','Event','Goal','Meetup'].indexOf(post.moments[0].resource.field) > -1 && post.moments[0].resource.hasOwnProperty('en-US') && post.moments[0].resource['en-US'].value[0] !== 'Poll'\\\" slot=\\\"start\\\">\\n                <img [src]=\\\"momentService.loadIcon(post.moments[0].resource.field).url\\\" />\\n              </ion-thumbnail>\\n              <!--User Defined Activity-->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'User Defined Activity' && post.moments[0].resource.hasOwnProperty('en-US') && post.moments[0].resource['en-US'].value[0] !== 'Poll'\\\" (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <p class=\\\"moment-name\\\" >{{post.moments[0].resource['en-US'].value[0]}}: {{post.moments[0].matrix_string[0][0]}}</p>\\n              </div>\\n              <!--Track-->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'Track'\\\" class=\\\"ion-text-wrap\\\" (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <p class=\\\"moment-name\\\" >{{post.moments[0].resource['en-US'].matrix_string[0][0]}}: {{post.moments[0].matrix_string[0][0]}}</p>\\n                <p class=\\\"moment-name\\\">{{post.moments[0].matrix_string[0][1]}}</p>\\n              </div>\\n              <!--Event-->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'Event'\\\" class=\\\"ion-text-wrap\\\" (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <p class=\\\"moment-name\\\" >{{post.moments[0].resource['en-US'].matrix_string[0][0]}}: {{post.moments[0].matrix_string[0][0]}}</p>\\n                <p class=\\\"moment-date\\\" >Date: {{post.moments[0].calendar.startDate | datetime: 'm:l,d:n,y:n'}}</p>\\n                <p class=\\\"moment-name\\\">{{post.moments[0].matrix_string[1][0]}}</p>\\n              </div>\\n              <!--Meetup-->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'Meetup'\\\"  (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <p class=\\\"moment-name\\\" >{{post.moments[0].resource['en-US'].matrix_string[0][0]}}: {{post.moments[0].matrix_string[0][0]}}</p>\\n                <p class=\\\"moment-date\\\" >Date: {{post.moments[0].calendar.startDate | datetime: 'm:l,d:n,y:n'}}</p>\\n                <p class=\\\"moment-name\\\">{{post.moments[0].matrix_string[1][0]}}</p>\\n              </div>\\n              <!--Goal-->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'Goal'\\\"  (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <p class=\\\"moment-name\\\" >{{post.moments[0].resource['en-US'].matrix_string[0][0]}}: {{post.moments[0].matrix_string[0][0]}}</p>\\n                <p *ngIf=\\\"post.moments[0].calendar\\\" class=\\\"moment-date\\\" >Accomplish By: {{post.moments[0].calendar.startDate | datetime: 'm:l,d:n,y:n'}}</p>\\n                <p class=\\\"moment-notes\\\">{{post.moments[0].matrix_string[1][0]}}</p>\\n              </div>\\n              <!-- Poll -->\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0] && post.moments[0].resource && post.moments[0].resource.field === 'Poll'\\\">\\n                <p>This poll is no longer available</p>\\n              </div>\\n              <div class=\\\"moment ion-text-wrap\\\" *ngIf=\\\"post.moments[0].resource && post.moments[0].resource.field === 'User Defined Activity' && post.moments[0].resource.hasOwnProperty('en-US') && post.moments[0].resource['en-US'].value[0] === 'Poll'\\\" (click)=\\\"openRestvoFeature($event, post.moments[0])\\\">\\n                <ion-thumbnail class=\\\"pollIconDiv\\\">\\n                  <ion-img class=\\\"pollIcon\\\" src=\\\"assets/img/Poll_Gray.png\\\"></ion-img>\\n                </ion-thumbnail>\\n                <p class=\\\"pollQuestion\\\">{{post.moments[0].resource['en-US'].matrix_string[1][1]}}</p>\\n                <div class=\\\"pollContainer\\\" *ngFor=\\\"let display of post.poll.display; index as count\\\">\\n                  <div class=\\\"optionsContainer\\\">\\n                    <p class=\\\"option\\\" >{{count+1}}. {{display.option}}</p>\\n                  </div>\\n                  <div class=\\\"votesContainer\\\">\\n                    <p class=\\\"votecount\\\">Votes: {{display.count}}</p>\\n                  </div>\\n                  <div class=\\\"userContainer\\\">\\n                    <ion-icon class=\\\"uservoted\\\" *ngIf=\\\"display.votedByUser\\\" name=\\\"checkmark\\\"></ion-icon>\\n                    <ion-button size=\\\"small\\\" shape=\\\"round\\\" fill='solid' color=\\\"darkgrey\\\" class=\\\"uservote ion-text-wrap\\\" *ngIf=\\\"!display.votedByUser\\\" (click)=\\\"momentService.submitVote($event, post.moments[0], count)\\\">Cast Vote</ion-button>\\n                  </div>\\n                </div>\\n                <div class=\\\"unresolvedPollFooter\\\">\\n                  <p>{{post.moments[0].resource['en-US'].matrix_string[1][4]}}: {{post.poll.totalVoteCount}}</p>\\n                  <p>{{post.moments[0].resource['en-US'].matrix_string[1][6]}}: {{post.moments[0].calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</p>\\n                </div>\\n              </div>\\n            </ion-item>\\n            <ion-row>\\n              <ion-col>\\n                <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"likePost($event, board, post)\\\">\\n                  <ion-icon name=\\\"thumbs-up\\\" class=\\\"ion-margin-end\\\"></ion-icon>\\n                  {{post.likes?.length}} Likes\\n                </ion-button>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"openPost($event, board, post)\\\">\\n                  <ion-icon name=\\\"chatbox-ellipses\\\" class=\\\"ion-margin-end\\\"></ion-icon>\\n                  {{post.comments?.length}} Comments\\n                </ion-button>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button  fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"presentPickPeoplePopover($event)\\\">\\n                  <ion-icon name=\\\"share\\\" class=\\\"ion-margin-end\\\"></ion-icon>Share</ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-card>\\n        </ion-row>\\n        <ion-buttons class=\\\"ion-justify-content-center\\\" *ngIf=\\\"board.preview_posts?.length < board.posts?.length\\\">\\n          <ion-button (click)=\\\"loadMorePosts(board)\\\" color=\\\"tertiary\\\" size=\\\"small\\\">\\n            Load More from {{board.name}}\\n          </ion-button>\\n        </ion-buttons>\\n        <ion-buttons class=\\\"ion-justify-content-center\\\" *ngIf=\\\"board.preview_posts?.length === 15\\\">\\n          <ion-button (click)=\\\"openBoard($event, board, community)\\\" color=\\\"tertiary\\\" size=\\\"small\\\">\\n            Read More\\n          </ion-button>\\n        </ion-buttons>\\n      </div>\\n    </div>\\n  </ion-grid>\\n  <ion-infinite-scroll position=\\\"bottom\\\" threshold=\\\"30%\\\" (ionInfinite)=\\\"listcommunityboardposts($event)\\\">\\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CommunityboardPage } from './communityboard.page';\nimport {ApplicationPipesModule} from '../../../pipes/application-pipes';\nimport { PlyrModule } from 'ngx-plyr';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CommunityboardPage,\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlyrModule,\n    ApplicationPipesModule,\n    RouterModule.forChild(routes),\n  ],\n  declarations: [CommunityboardPage]\n})\nexport class CommunityboardPageModule {}\n","export default \"app-communityboard ion-header {\\n  --background: var(--ion-color-secondary);\\n}\\napp-communityboard ion-menu-toggle ion-badge {\\n  position: relative;\\n  top: 0.1rem;\\n  right: 22px;\\n  /*& ~ ion-icon {\\n    outline-color: whitesmoke;\\n  }*/\\n  z-index: 5;\\n}\\napp-communityboard ion-spinner {\\n  position: absolute;\\n  margin: 48%;\\n}\\napp-communityboard .moreoptions-container {\\n  max-height: 30vh;\\n  overflow: scroll;\\n}\\napp-communityboard .moreoptions-grid {\\n  -webkit-animation-name: move-down;\\n          animation-name: move-down;\\n  -webkit-animation-duration: 0.5s;\\n          animation-duration: 0.5s;\\n  -webkit-animation-timing-function: ease-in;\\n          animation-timing-function: ease-in;\\n}\\napp-communityboard .moreoptions-community-name {\\n  height: 20px;\\n  color: grey;\\n  font-size: 12px;\\n}\\n@-webkit-keyframes move-down {\\n  from {\\n    transform: translateY(-90px);\\n  }\\n  to {\\n    transform: translateY(0);\\n  }\\n}\\n@keyframes move-down {\\n  from {\\n    transform: translateY(-90px);\\n  }\\n  to {\\n    transform: translateY(0);\\n  }\\n}\\napp-communityboard .moreoptions-row {\\n  width: 100%;\\n}\\napp-communityboard .moreoptions {\\n  width: 100%;\\n}\\napp-communityboard .moreoptions-centered {\\n  width: 100%;\\n  height: 65px;\\n  margin: auto 0 auto 0;\\n}\\napp-communityboard .moreoptions-centered .moreoptions-avatar {\\n  margin: 0 auto;\\n  top: 0;\\n}\\napp-communityboard .moreoptions-centered .moreoptions-joined {\\n  position: absolute;\\n  left: 60%;\\n  top: 28px;\\n}\\napp-communityboard .moreoptions-centered .moreoptions-label {\\n  margin: 5px auto 0 auto;\\n  color: grey;\\n  font-size: 12px;\\n}\\napp-communityboard .community-title {\\n  color: var(--ion-color-secondary);\\n  font-size: large;\\n  margin: 0 auto;\\n}\\napp-communityboard .feed-title {\\n  color: var(--ion-color-dark);\\n  font-size: medium;\\n}\\napp-communityboard ion-card {\\n  width: 100%;\\n  max-width: 540px;\\n}\\napp-communityboard .header-container {\\n  margin-bottom: 5px;\\n}\\napp-communityboard .author-container {\\n  width: 100%;\\n}\\napp-communityboard .author {\\n  margin: 10px 0 2px 0;\\n  display: block;\\n  width: 100%;\\n}\\napp-communityboard .note-col {\\n  height: 100%;\\n  padding-left: 0;\\n  margin-left: 3px;\\n}\\napp-communityboard .note {\\n  color: lightgrey;\\n  width: 100%;\\n  margin: 5px 0 0 0;\\n}\\napp-communityboard .date {\\n  margin: 0 0 5px 0;\\n  width: 100%;\\n  color: lightgrey;\\n}\\napp-communityboard .photo-frame {\\n  margin: 0 auto;\\n  padding: 0 auto;\\n  width: 100%;\\n}\\napp-communityboard .photo {\\n  width: 100%;\\n  height: 100%;\\n}\\napp-communityboard .short-paragraph {\\n  color: var(--ion-color-dark);\\n  max-height: 80px;\\n  line-height: 20px;\\n  /* Height / no. of lines to display */\\n  overflow: hidden;\\n}\\napp-communityboard .moment {\\n  width: 95%;\\n  margin: 5px auto;\\n  border-radius: 5px;\\n  padding: 10px 12px 10px 12px;\\n  position: relative;\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n  -ms-user-select: text;\\n  user-select: text;\\n  background-color: #f0f0f0;\\n}\\napp-communityboard .moment h2, app-communityboard .moment p {\\n  color: black;\\n}\\napp-communityboard .moment-image {\\n  max-height: 20%;\\n  width: 100%;\\n  border-radius: 5%;\\n}\\napp-communityboard .superimposedIcon {\\n  position: absolute;\\n  bottom: 50%;\\n  right: 40%;\\n  height: 20%;\\n}\\napp-communityboard .moment-name {\\n  font-weight: bold;\\n  width: 100%;\\n}\\napp-communityboard .moment-date {\\n  width: 100%;\\n  font-weight: bold;\\n}\\napp-communityboard .moment-notes {\\n  width: 100%;\\n  font-weight: bold;\\n}\\napp-communityboard .goalFooter {\\n  font-style: italic;\\n  font-weight: lighter;\\n  text-align: center;\\n}\\napp-communityboard .pollIconDiv {\\n  height: 20%;\\n  width: 100%;\\n}\\napp-communityboard .pollIconDiv .pollIcon {\\n  height: 1.8em;\\n  width: 10%;\\n  margin-left: 45%;\\n  margin-right: 45%;\\n}\\napp-communityboard .pollQuestion {\\n  color: black;\\n  font-size: medium;\\n  font-style: italic;\\n}\\napp-communityboard .pollContainer {\\n  width: 100%;\\n  display: inline-block;\\n  clear: both;\\n  border-radius: 5px;\\n  background-color: rgba(255, 255, 255, 0.4) !important;\\n  padding: 2px;\\n}\\napp-communityboard .optionsContainer {\\n  float: left;\\n  width: 60%;\\n}\\napp-communityboard .optionsContainer .option {\\n  padding-top: 5px;\\n  float: left;\\n  font-size: medium;\\n  font-weight: bold;\\n}\\napp-communityboard .votesContainer {\\n  float: left;\\n  width: 20%;\\n}\\napp-communityboard .votesContainer .votecount {\\n  padding-top: 10px;\\n  color: black;\\n  font-size: x-small;\\n}\\napp-communityboard .userContainer {\\n  float: right;\\n  width: 20%;\\n}\\napp-communityboard .userContainer .uservote {\\n  margin-top: 15px;\\n  font-size: x-small;\\n  width: 90%;\\n  height: 30px;\\n  color: black;\\n}\\napp-communityboard .userContainer .uservoted {\\n  padding-top: 20px;\\n  width: 30%;\\n  margin: 0 40%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2JvYXJkL2NvbW11bml0eWJvYXJkL2NvbW11bml0eWJvYXJkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYm9hcmQvY29tbXVuaXR5Ym9hcmQvY29tbXVuaXR5Ym9hcmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0Usd0NBQUE7QUNESjtBREtJO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUVBOztJQUFBO0VBR0EsVUFBQTtBQ0pOO0FEUUU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUNOSjtBRFNFO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ1BKO0FEVUU7RUFDRSxpQ0FBQTtVQUFBLHlCQUFBO0VBQ0EsZ0NBQUE7VUFBQSx3QkFBQTtFQUNBLDBDQUFBO1VBQUEsa0NBQUE7QUNSSjtBRFdFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FDVEo7QURZRTtFQUNFO0lBQ0UsNEJBQUE7RUNWSjtFRFlFO0lBQ0Usd0JBQUE7RUNWSjtBQUNGO0FESUU7RUFDRTtJQUNFLDRCQUFBO0VDVko7RURZRTtJQUNFLHdCQUFBO0VDVko7QUFDRjtBRGFFO0VBRUUsV0FBQTtBQ1pKO0FEZUU7RUFDRSxXQUFBO0FDYko7QURnQkU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDZEo7QURnQkk7RUFDRSxjQUFBO0VBQ0EsTUFBQTtBQ2ROO0FEaUJJO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtBQ2ZOO0FEa0JJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQ2hCTjtBRG9CRTtFQUNFLGlDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0FDbEJKO0FEcUJFO0VBQ0UsNEJBQUE7RUFDQSxpQkFBQTtBQ25CSjtBRHNCRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ3BCSjtBRHVCRTtFQUNFLGtCQUFBO0FDckJKO0FEd0JFO0VBQ0UsV0FBQTtBQ3RCSjtBRHlCRTtFQUNFLG9CQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUN2Qko7QUQwQkU7RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDeEJKO0FEMkJFO0VBQ0UsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUN6Qko7QUQ0QkU7RUFDRSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQzFCSjtBRDZCRTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQzNCSjtBRDhCRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDNUJKO0FEK0JFO0VBQ0UsNEJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQW1CLHFDQUFBO0VBQ25CLGdCQUFBO0FDNUJKO0FEZ0NFO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSw0QkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtBQzlCSjtBRCtCSTtFQUNFLFlBQUE7QUM3Qk47QURpQ0U7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FDL0JKO0FEa0NFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNoQ0o7QURtQ0U7RUFDRSxpQkFBQTtFQUNBLFdBQUE7QUNqQ0o7QURvQ0U7RUFDRSxXQUFBO0VBQ0EsaUJBQUE7QUNsQ0o7QURxQ0U7RUFDRSxXQUFBO0VBQ0EsaUJBQUE7QUNuQ0o7QURzQ0U7RUFDRSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7QUNwQ0o7QUR5Q0U7RUFDRSxXQUFBO0VBQ0EsV0FBQTtBQ3ZDSjtBRHlDSTtFQUNFLGFBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQ3ZDTjtBRDJDRTtFQUNFLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDekNKO0FENENFO0VBQ0UsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EscURBQUE7RUFDQSxZQUFBO0FDMUNKO0FENkNFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUMzQ0o7QUQ0Q0k7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUVBLGlCQUFBO0FDM0NOO0FEK0NFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUM3Q0o7QUQ4Q0k7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQzVDTjtBRGdERTtFQUNFLFlBQUE7RUFDQSxVQUFBO0FDOUNKO0FEK0NJO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQzdDTjtBRCtDSTtFQUNFLGlCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7QUM3Q04iLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9ib2FyZC9jb21tdW5pdHlib2FyZC9jb21tdW5pdHlib2FyZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtY29tbXVuaXR5Ym9hcmQge1xuXG4gIGlvbi1oZWFkZXIge1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIH1cblxuICBpb24tbWVudS10b2dnbGUge1xuICAgIGlvbi1iYWRnZSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB0b3A6IDAuMXJlbTtcbiAgICAgIHJpZ2h0OiAyMnB4O1xuXG4gICAgICAvKiYgfiBpb24taWNvbiB7XG4gICAgICAgIG91dGxpbmUtY29sb3I6IHdoaXRlc21va2U7XG4gICAgICB9Ki9cbiAgICAgIHotaW5kZXg6IDU7XG4gICAgfVxuICB9XG5cbiAgaW9uLXNwaW5uZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBtYXJnaW46IDQ4JTtcbiAgfVxuXG4gIC5tb3Jlb3B0aW9ucy1jb250YWluZXIge1xuICAgIG1heC1oZWlnaHQ6IDMwdmg7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5tb3Jlb3B0aW9ucy1ncmlkIHtcbiAgICBhbmltYXRpb24tbmFtZTogbW92ZS1kb3duO1xuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC41cztcbiAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICB9XG4gIFxuICAubW9yZW9wdGlvbnMtY29tbXVuaXR5LW5hbWUge1xuICAgIGhlaWdodDogMjBweDtcbiAgICBjb2xvcjogZ3JleTtcbiAgICBmb250LXNpemU6IDEycHg7XG4gIH1cblxuICBAa2V5ZnJhbWVzIG1vdmUtZG93biB7XG4gICAgZnJvbSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTkwcHgpO1xuICAgIH1cbiAgICB0byB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgfVxuICB9XG5cbiAgLm1vcmVvcHRpb25zLXJvdyB7XG4gICAgLy9wYWRkaW5nOiAwIDEwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAubW9yZW9wdGlvbnMge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLm1vcmVvcHRpb25zLWNlbnRlcmVkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDY1cHg7XG4gICAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuXG4gICAgLm1vcmVvcHRpb25zLWF2YXRhciB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHRvcDogMFxuICAgIH1cblxuICAgIC5tb3Jlb3B0aW9ucy1qb2luZWQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogNjAlO1xuICAgICAgdG9wOiAyOHB4O1xuICAgIH1cblxuICAgIC5tb3Jlb3B0aW9ucy1sYWJlbCB7XG4gICAgICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgfVxuXG4gIC5jb21tdW5pdHktdGl0bGUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBmb250LXNpemU6IGxhcmdlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgLmZlZWQtdGl0bGUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgZm9udC1zaXplOiBtZWRpdW07XG4gIH1cblxuICBpb24tY2FyZCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiA1NDBweDtcbiAgfVxuXG4gIC5oZWFkZXItY29udGFpbmVyIHtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIH1cblxuICAuYXV0aG9yLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuYXV0aG9yIHtcbiAgICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5ub3RlLWNvbCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBhZGRpbmctbGVmdDogMDtcbiAgICBtYXJnaW4tbGVmdDogM3B4O1xuICB9XG5cbiAgLm5vdGUge1xuICAgIGNvbG9yOiBsaWdodGdyZXk7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiA1cHggMCAwIDA7XG4gIH1cblxuICAuZGF0ZSB7XG4gICAgbWFyZ2luOiAwIDAgNXB4IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgY29sb3I6IGxpZ2h0Z3JleTtcbiAgfVxuXG4gIC5waG90by1mcmFtZSB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogMCBhdXRvO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBob3RvIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAuc2hvcnQtcGFyYWdyYXBoIHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgIG1heC1oZWlnaHQ6IDgwcHg7XG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7IC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC8vbW9tZW50c1xuICAubW9tZW50IHtcbiAgICB3aWR0aDogOTUlO1xuICAgIG1hcmdpbjogNXB4IGF1dG87XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBhZGRpbmc6IDEwcHggMTJweCAxMHB4IDEycHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgLW1vei11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICBoMiwgcCB7XG4gICAgICBjb2xvcjogYmxhY2s7XG4gICAgfVxuICB9XG5cbiAgLm1vbWVudC1pbWFnZSB7XG4gICAgbWF4LWhlaWdodDogMjAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1yYWRpdXM6IDUlO1xuICB9XG5cbiAgLnN1cGVyaW1wb3NlZEljb257XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogNTAlO1xuICAgIHJpZ2h0OiA0MCU7XG4gICAgaGVpZ2h0OiAyMCU7XG4gIH1cblxuICAubW9tZW50LW5hbWV7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAubW9tZW50LWRhdGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuXG4gIH1cbiAgLm1vbWVudC1ub3Rlc3tcbiAgICB3aWR0aDogMTAwJTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuXG4gIC5nb2FsRm9vdGVye1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICBmb250LXdlaWdodDogbGlnaHRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuXG4gIC8vUG9sbCBtZXNzYWdlXG4gIC5wb2xsSWNvbkRpdntcbiAgICBoZWlnaHQ6IDIwJTtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgIC5wb2xsSWNvbntcbiAgICAgIGhlaWdodDogMS44ZW07XG4gICAgICB3aWR0aDogMTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IDQ1JTtcbiAgICAgIG1hcmdpbi1yaWdodDogNDUlO1xuICAgIH1cbiAgfVxuXG4gIC5wb2xsUXVlc3Rpb257XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgfVxuXG4gIC5wb2xsQ29udGFpbmVye1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBjbGVhcjogYm90aDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZzogMnB4O1xuICB9XG5cbiAgLm9wdGlvbnNDb250YWluZXJ7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgd2lkdGg6IDYwJTtcbiAgICAub3B0aW9ue1xuICAgICAgcGFkZGluZy10b3A6IDVweDtcbiAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgZm9udC1zaXplOiBtZWRpdW07XG4gICAgICAvL2NvbG9yOiAjNGE5MGUyO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICB9XG5cbiAgLnZvdGVzQ29udGFpbmVye1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHdpZHRoOiAyMCU7XG4gICAgLnZvdGVjb3VudHtcbiAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xuICAgIH1cbiAgfVxuXG4gIC51c2VyQ29udGFpbmVye1xuICAgIGZsb2F0OiByaWdodDtcbiAgICB3aWR0aDogMjAlO1xuICAgIC51c2Vydm90ZXtcbiAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICBmb250LXNpemU6IHgtc21hbGw7XG4gICAgICB3aWR0aDogOTAlO1xuICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgY29sb3I6IGJsYWNrO1xuICAgIH1cbiAgICAudXNlcnZvdGVke1xuICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICB3aWR0aDogMzAlO1xuICAgICAgbWFyZ2luOiAwIDQwJTtcbiAgICB9XG4gIH1cbn1cblxuIiwiYXBwLWNvbW11bml0eWJvYXJkIGlvbi1oZWFkZXIge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIGlvbi1tZW51LXRvZ2dsZSBpb24tYmFkZ2Uge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMC4xcmVtO1xuICByaWdodDogMjJweDtcbiAgLyomIH4gaW9uLWljb24ge1xuICAgIG91dGxpbmUtY29sb3I6IHdoaXRlc21va2U7XG4gIH0qL1xuICB6LWluZGV4OiA1O1xufVxuYXBwLWNvbW11bml0eWJvYXJkIGlvbi1zcGlubmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW46IDQ4JTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMtY29udGFpbmVyIHtcbiAgbWF4LWhlaWdodDogMzB2aDtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMtZ3JpZCB7XG4gIGFuaW1hdGlvbi1uYW1lOiBtb3ZlLWRvd247XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMC41cztcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMtY29tbXVuaXR5LW5hbWUge1xuICBoZWlnaHQ6IDIwcHg7XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5Aa2V5ZnJhbWVzIG1vdmUtZG93biB7XG4gIGZyb20ge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtOTBweCk7XG4gIH1cbiAgdG8ge1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgfVxufVxuYXBwLWNvbW11bml0eWJvYXJkIC5tb3Jlb3B0aW9ucy1yb3cge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMtY2VudGVyZWQge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2NXB4O1xuICBtYXJnaW46IGF1dG8gMCBhdXRvIDA7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm1vcmVvcHRpb25zLWNlbnRlcmVkIC5tb3Jlb3B0aW9ucy1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgdG9wOiAwO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5tb3Jlb3B0aW9ucy1jZW50ZXJlZCAubW9yZW9wdGlvbnMtam9pbmVkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA2MCU7XG4gIHRvcDogMjhweDtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9yZW9wdGlvbnMtY2VudGVyZWQgLm1vcmVvcHRpb25zLWxhYmVsIHtcbiAgbWFyZ2luOiA1cHggYXV0byAwIGF1dG87XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLmNvbW11bml0eS10aXRsZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgZm9udC1zaXplOiBsYXJnZTtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLmZlZWQtdGl0bGUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBmb250LXNpemU6IG1lZGl1bTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCBpb24tY2FyZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDU0MHB4O1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5oZWFkZXItY29udGFpbmVyIHtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5hdXRob3ItY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLmF1dGhvciB7XG4gIG1hcmdpbjogMTBweCAwIDJweCAwO1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm5vdGUtY29sIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwYWRkaW5nLWxlZnQ6IDA7XG4gIG1hcmdpbi1sZWZ0OiAzcHg7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm5vdGUge1xuICBjb2xvcjogbGlnaHRncmV5O1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiA1cHggMCAwIDA7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLmRhdGUge1xuICBtYXJnaW46IDAgMCA1cHggMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGNvbG9yOiBsaWdodGdyZXk7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLnBob3RvLWZyYW1lIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDAgYXV0bztcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLnBob3RvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAuc2hvcnQtcGFyYWdyYXBoIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgbWF4LWhlaWdodDogODBweDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm1vbWVudCB7XG4gIHdpZHRoOiA5NSU7XG4gIG1hcmdpbjogNXB4IGF1dG87XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMTBweCAxMnB4IDEwcHggMTJweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XG4gIHVzZXItc2VsZWN0OiB0ZXh0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5tb21lbnQgaDIsIGFwcC1jb21tdW5pdHlib2FyZCAubW9tZW50IHAge1xuICBjb2xvcjogYmxhY2s7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm1vbWVudC1pbWFnZSB7XG4gIG1heC1oZWlnaHQ6IDIwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDUlO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5zdXBlcmltcG9zZWRJY29uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDUwJTtcbiAgcmlnaHQ6IDQwJTtcbiAgaGVpZ2h0OiAyMCU7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm1vbWVudC1uYW1lIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5tb21lbnQtZGF0ZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAubW9tZW50LW5vdGVzIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5nb2FsRm9vdGVyIHtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXdlaWdodDogbGlnaHRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC5wb2xsSWNvbkRpdiB7XG4gIGhlaWdodDogMjAlO1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAucG9sbEljb25EaXYgLnBvbGxJY29uIHtcbiAgaGVpZ2h0OiAxLjhlbTtcbiAgd2lkdGg6IDEwJTtcbiAgbWFyZ2luLWxlZnQ6IDQ1JTtcbiAgbWFyZ2luLXJpZ2h0OiA0NSU7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLnBvbGxRdWVzdGlvbiB7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udC1zaXplOiBtZWRpdW07XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAucG9sbENvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGNsZWFyOiBib3RoO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAycHg7XG59XG5hcHAtY29tbXVuaXR5Ym9hcmQgLm9wdGlvbnNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDYwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAub3B0aW9uc0NvbnRhaW5lciAub3B0aW9uIHtcbiAgcGFkZGluZy10b3A6IDVweDtcbiAgZmxvYXQ6IGxlZnQ7XG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAudm90ZXNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDIwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAudm90ZXNDb250YWluZXIgLnZvdGVjb3VudCB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBjb2xvcjogYmxhY2s7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAudXNlckNvbnRhaW5lciB7XG4gIGZsb2F0OiByaWdodDtcbiAgd2lkdGg6IDIwJTtcbn1cbmFwcC1jb21tdW5pdHlib2FyZCAudXNlckNvbnRhaW5lciAudXNlcnZvdGUge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIHdpZHRoOiA5MCU7XG4gIGhlaWdodDogMzBweDtcbiAgY29sb3I6IGJsYWNrO1xufVxuYXBwLWNvbW11bml0eWJvYXJkIC51c2VyQ29udGFpbmVyIC51c2Vydm90ZWQge1xuICBwYWRkaW5nLXRvcDogMjBweDtcbiAgd2lkdGg6IDMwJTtcbiAgbWFyZ2luOiAwIDQwJTtcbn0iXX0= */\"","import {Component, OnInit, OnDestroy, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {CacheService} from 'ionic-cache';\nimport {Router} from '@angular/router';\nimport {Storage} from '@ionic/storage';\nimport { Plyr } from \"plyr\";\n\nimport {\n    ActionSheetController,\n    IonContent,\n    IonInfiniteScroll,\n    NavController,\n    ModalController,\n    AlertController,\n    Platform,\n    IonSlides\n} from '@ionic/angular';\n\nimport {UserData} from \"../../../services/user.service\";\nimport {Board} from \"../../../services/board.service\";\nimport {Moment} from \"../../../services/moment.service\"\nimport {Groups} from \"../../../services/group.service\";\nimport {Response} from \"../../../services/response.service\";\nimport {Churches} from \"../../../services/church.service\";\nimport {Chat} from \"../../../services/chat.service\";\nimport {Auth} from \"../../../services/auth.service\";\nimport {EditboardpostPage} from \"../editboardpost/editboardpost.page\";\nimport {ShowrecipientinfoPage} from \"../../connect/showrecipientinfo/showrecipientinfo.page\";\nimport {ShowboardpostPage} from \"../showboardpost/showboardpost.page\";\nimport {ShowcommunityPage} from \"../../community/showcommunity/showcommunity.page\";\nimport {GroupboardPage} from \"../groupboard/groupboard.page\";\nimport {EditcommunityPage} from \"../../community/editcommunity/editcommunity.page\";\nimport {EditgroupPage} from \"../../group/editgroup/editgroup.page\";\nimport {Resource} from \"../../../services/resource.service\";\nimport {GroupchatPage} from \"../../group/groupchat/groupchat.page\";\nimport {ShowgroupPage} from \"../../group/showgroup/showgroup.page\";\nimport {ShowfeaturePage} from \"../../feature/showfeature/showfeature.page\";\n\n@Component({\n  selector: 'app-communityboard',\n  templateUrl: './communityboard.page.html',\n  styleUrls: ['./communityboard.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CommunityboardPage implements OnInit, OnDestroy {\n    @ViewChild(IonContent, {static: false}) content: IonContent;\n    @ViewChild(IonSlides, {static: false}) slides: IonSlides;\n    @ViewChild(IonInfiniteScroll, {static: false}) infiniteScroll: IonInfiniteScroll;\n\n    communitiesboards: any;\n    searchKeyword: string = '';\n    communityNum: number = 0;\n    reachedEnd: boolean = false;\n    ionSpinner: boolean = false;\n    isGroupLeader: boolean = false;\n    newsfeedMoreOptions = false;\n    mediaList: Array<{_id: string, player: Plyr}> = [];\n\n    subscriptions: any = {};\n\n    constructor(public platform: Platform,\n                private cache: CacheService,\n                private router: Router,\n                private storage: Storage,\n                private actionSheetCtrl: ActionSheetController,\n                private navCtrl: NavController,\n                private authService: Auth,\n                public momentService: Moment,\n                private resourceService: Resource,\n                private responseService: Response,\n                private boardService: Board,\n                private chatService: Chat,\n                public userData: UserData,\n                private churchService: Churches,\n                private groupService: Groups,\n                private modalCtrl: ModalController,\n                private alertCtrl: AlertController) { }\n\n  async ngOnInit() {\n      // PWA fast load is executed after an event sent from app.component.ts's checkAuthenticationWithToken()\n      this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshPage);\n      this.subscriptions['refreshMoment'] = this.momentService.refreshMoment$.subscribe(this.refreshMomentHandler);\n  }\n\n    async ionViewWillEnter() {\n        // boardService is ready in regular page entry, but not ready in PWA fast load and needs to listen to refresh event from maintab.ts\n        if (this.userData.user){\n            await this.boardService.loadUserChurchBoards();\n            this.reloadBoardPosts();\n            this.content.scrollToTop(0);\n        }\n    }\n\n    refreshPage = async (res) => {\n        if (res && res.type === 'refresh community board page') {\n            this.newsfeedMoreOptions = false;\n            await this.boardService.loadUserChurchBoards();\n            this.reloadBoardPosts();\n        }\n        if (res && res.type === 'refresh board') {\n            const boardId = res.boardId;\n            const data = res.data;\n            for (let community of this.communitiesboards) {\n                for (let board of community.boards) {\n                    if (board._id === boardId) { // the incoming board is displayed\n                        board.updatedAt = new Date().toISOString();\n                        if (data.action === 'create post') {\n                            this.reloadBoardPosts();\n                        } else if(data.action === 'delete post') {\n                            let index = board.posts.map((c) => {return c._id;}).indexOf(data.postId);\n                            if (board.posts[index].media && board.posts[index].media.length) {\n                                this.destroyPlayers(board.posts[index].media._id);\n                            }\n                            board.posts.splice(index, 1);\n                            this.reorderCommunitiesBoards();\n                        } else if (data.action === 'like' || data.action === 'cancel like') {\n                            for (let boardpost of board.posts) {\n                                if (boardpost.bucketId === data.bucketId && boardpost._id === data.postId) {\n                                    if (data.action === 'like') {\n                                        boardpost.likes.push(data.author);\n                                    } else if (data.action === 'cancel like') {\n                                        let index = boardpost.likes.indexOf(data.author);\n                                        boardpost.likes.splice(index, 1);\n                                    }\n                                }\n                            }\n                        } else if (data.action === 'update post') {\n                            for (let boardpost of board.posts) {\n                                if (boardpost._id === data.post._id) {\n                                    boardpost.body = data.post.body;\n                                    boardpost.attachments = data.post.attachments;\n                                    if (boardpost.media && boardpost.media.length && data.post.media && !data.post.media.length) {\n                                        this.destroyPlayers(boardpost.media[0]._id);\n                                    }\n                                    boardpost.media = data.post.media;\n                                    this.reorderCommunitiesBoards();\n                                    if (data.post.moments && data.post.moments.length && data.post.moments[0] && data.post.moments[0].resource.hasOwnProperty('en-US') && data.post.moments[0].resource['en-US'].value[0] === 'Poll') {\n                                        this.reloadBoardPosts(); //reload is needed to create a new moment socket.io for the feature\n                                    } else {\n                                        boardpost.moments = data.post.moments;\n                                    }\n                                }\n                                if (boardpost.comments && boardpost.comments.length && boardpost.comments[0]){\n                                    this.reloadBoardPosts();\n                                }\n                            }\n                        } else if (data.action === 'create comment') {\n                            console.log(\"create comment\", data);\n                            for (let boardpost of board.posts) {\n                                if (boardpost._id === data.comment.parentId) { //first level comment\n                                    boardpost.comments.unshift(data.comment)\n                                }\n                            }\n                            //this.reorderCommunitiesBoards();\n                        } else { // data.action === 'refresh board'. Need to refresh all users' feeds\n                            await this.boardService.loadUserChurchBoards();\n                            this.reloadBoardPosts();\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    async reloadBoardPosts(){\n        setTimeout(async () => {\n            this.destroyPlayers(null);\n            this.infiniteScroll.disabled = false;\n            this.reachedEnd = false;\n            this.communitiesboards = [];\n            this.communityNum = -1;\n            this.listcommunityboardposts({target: this.infiniteScroll});\n        }, 100);\n    }\n\n    async listcommunityboardposts(event) {\n        this.communityNum++;\n        let currentCommunityId = '';\n        if (this.userData.user && this.userData.user.churches && this.userData.user.churches.length) {\n            currentCommunityId = this.userData.user.churches[this.userData.currentCommunityIndex]._id;\n        } else {\n            currentCommunityId = '5ab62be8f83e2c1a8d41f894';\n        }\n        let selectedCurrentCommunity = (currentCommunityId === this.userData.communitiesboards[this.communityNum]._id); // if matches current community which can only be Restvo\n        let selectedRestvo = (currentCommunityId === '5ab62be8f83e2c1a8d41f894');\n        if (!this.reachedEnd && (selectedCurrentCommunity)) { // || selectedRestvo)) { // only showing Restvo\n            let buckets: any;\n            this.communitiesboards.push(this.userData.communitiesboards[this.communityNum]);\n            this.communitiesboards[this.communitiesboards.length - 1].postCount = 0;\n            for (let board of this.communitiesboards[this.communitiesboards.length - 1].boards) {\n                board.posts = [];\n                board.preview_posts = [];\n                board.postCount = 0;\n                buckets = await this.boardService.loadBoardBuckets(board._id, this.searchKeyword, 1); // load the first page of each feed\n                this.ionSpinner = false;\n                for (const bucket of buckets){\n                    bucket.posts.forEach((post, i) => {\n                        this.communitiesboards[this.communitiesboards.length - 1].postCount++;\n                        board.postCount++;\n                        post.bucketId = bucket._id;\n                        board.posts.push(post);\n                        if (((new Date().getTime() - new Date(post.updatedAt).getTime()) < 7 * 24 * 60 * 60 * 1000) || i < 2) {\n                            board.preview_posts.push(post);\n                        }\n                    });\n                }\n                let momentIds = [];\n                for (let post of board.posts) {\n                    if (post.moments && post.moments.length && post.moments[0].resource && post.moments[0].resource.hasOwnProperty('en-US') && post.moments[0].resource['en-US'].value[0] === 'Poll') {\n                        momentIds.push(post.moments[0]._id);\n                        post.poll = {\n                            display: [],\n                            responses: [],   //list of all of the responses that users give.\n                            winner: [],      //list of the highest vote count indexes\n                            totalVoteCount: 0\n                        };\n                        for (let option of post.moments[0].matrix_string[1]) {\n                            post.poll.display.push({option: option, votedByUser: false, count: 0});\n                        }\n                    }\n                    //this.communitiesboards.push(post);\n                }\n                if (momentIds.length){\n                    momentIds.forEach((momentId) => {\n                        if (this.momentService.socket) {\n                            this.momentService.socket.emit('join moment', momentId) ;\n                        }\n                    });\n                    let responseRequest = this.responseService.findResponsesByMomentIds(JSON.parse(JSON.stringify(momentIds)));\n                    let responseResponse = this.cache.loadFromDelayedObservable('response-' + board._id, responseRequest, 'boards', 5, 'all');\n                    responseResponse.subscribe(async (responses) => {\n                        board.posts.forEach(async (boardpost: any) => {\n                            if (boardpost.moments[0] && boardpost.moments[0].resource && boardpost.moments[0].resource.field && boardpost.moments[0].resource.hasOwnProperty('en-US') && boardpost.moments[0].resource['en-US'].value[0] === 'Poll') {\n                                for (let response of responses) {\n                                    if (response.moment == boardpost.moments[0]._id) {\n                                        const index = boardpost.poll.responses.map((c) => c._id).indexOf(response._id);\n                                        if (index < 0) { //if the response hasn't been added to the response list\n                                            boardpost.poll.responses.push(response);\n                                        } else { //if it has been added, and if the incoming response is newer\n                                            if (new Date(boardpost.poll.responses[index].createdAt).getTime() < new Date(response.createdAt).getTime()) {\n                                                boardpost.poll.responses.splice(index, 1, response);\n                                            }\n                                        }\n                                    }\n                                }\n                                //now the latest response have been included, reset the display array\n                                await boardpost.poll.display.forEach((displayitem) => {\n                                    displayitem.count = 0;\n                                    displayitem.votedByUser = false;\n                                });\n                                //reconstruct the display array\n                                boardpost.poll.totalVoteCount = boardpost.poll.responses.length;\n                                for (let response of boardpost.poll.responses) {\n                                    if (response.matrix_number[0].length > 1) { // 1.6.3 Poll feature has length of 2, i.e. [option_id, index]\n                                        if (response.matrix_number[0][1] > (boardpost.poll.display.length - 1)) {\n                                            return; // if this response belongs to an option that has been deleted\n                                        }\n                                        if (this.userData.user && response.user === this.userData.user._id) { // response.user is not populated. Note: this is different from the response in refreshMoment handler, where the user is populated\n                                            boardpost.poll.display[response.matrix_number[0][1]].votedByUser = true;\n                                        }\n                                        boardpost.poll.display[response.matrix_number[0][1]].count++;\n                                    }\n                                }\n                            }\n                        });\n                    });\n                }\n            }\n            if (this.newsfeedMoreOptions) {\n                this.loadCommunityGroups(this.communitiesboards[this.communitiesboards.length - 1]);\n            }\n            event.target.complete();\n            if (this.communitiesboards[this.communitiesboards.length - 1].postCount < 4 && this.communityNum < (this.userData.communitiesboards.length - 1)) {\n                await this.listcommunityboardposts({target: this.infiniteScroll});\n            }\n            if ((selectedCurrentCommunity/* && !selectedRestvo*/) || this.communityNum === (this.userData.communitiesboards.length - 1)) {\n                this.reachedEnd = true;\n                event.target.disabled = true;\n            }\n        } else {\n            this.ionSpinner = false;\n            if (this.communityNum < this.userData.communitiesboards.length - 1) {\n                await this.listcommunityboardposts({target: this.infiniteScroll});\n            }\n            if (this.communityNum === this.userData.communitiesboards.length - 1){\n                this.reachedEnd = true;\n                event.target.disabled = true;\n            }\n            event.target.complete();\n        }\n        console.log(\"check\", this.communitiesboards)\n    }\n\n    loadMorePosts(board) {\n        board.preview_posts = board.posts;\n    }\n\n    async openBoard(event, board, community){\n        event.stopPropagation();\n        if (board.group && board._id){\n            /*let selectedBoard = JSON.parse(JSON.stringify(board));\n            let selectedGroup = JSON.parse(JSON.stringify(board.group));\n            delete selectedBoard.group;\n            selectedGroup.board = board._id;\n            selectedGroup.name = board.name;\n            const boardPage = await this.modalCtrl.create({component: GroupboardPage, componentProps: {\n                    group: selectedGroup,\n                    page: 'board'\n                }});\n            await boardPage.present();*/\n            this.createNewPost(board);\n        } else {\n            if (await this.userData.hasAdminAccess(community._id)) {\n                this.createNewPost(board);\n            } else {\n                const alert = await this.alertCtrl.create({\n                    header: 'Community Topic',\n                    subHeader: 'You do not have access to post in ' + community.name + ' - ' + board.name + '. Submitting post to a community topic will be available in a future release.',\n                    buttons: ['Dismiss'],\n                    cssClass: 'level-15'\n                });\n                return await alert.present();\n            }\n        }\n    }\n\n    async createNewBoard(community) {\n        let hasAdminAccess = false;\n        if (this.userData.user.churches[this.userData.currentCommunityIndex]._id === '5ab62be8f83e2c1a8d41f894') {\n            hasAdminAccess = await this.userData.hasAdminAccess(community._id);\n        } else {\n            hasAdminAccess = this.userData.currentCommunityAdminStatus;\n        }\n        this.promptBoardName(hasAdminAccess, community._id);\n\n    }\n\n    async promptBoardName(access, communityId) {\n        const alert = await this.alertCtrl.create({\n            header: 'Enter a Name for the new Topic:',\n            inputs: [{\n                name: 'name',\n                type: 'text',\n                placeholder: 'Name for the new Topic'\n            }],\n            buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel topic creation');\n                        return\n                    }\n                }, {\n                    text: 'Ok',\n                    handler: data => {\n                        if (access){\n                            this.promptBoardType(data.name, communityId);\n                        } else {\n                            this.createPersonalBoard(data.name, communityId);\n                        }\n                    }\n                }\n            ],\n            cssClass: 'level-15'\n        });\n        await alert.present();\n    }\n\n    async promptBoardType(name, communityId) {\n        const alert = await this.alertCtrl.create({\n            header: 'Make ' + name + ' a default News Feed for all community members?',\n            inputs: [{\n                    name: 'community',\n                    type: 'radio',\n                    label: 'Yes, set as default.',\n                    value: 'default',\n                    checked: true\n                },\n                {\n                    name: 'personal',\n                    type: 'radio',\n                    label: 'No, leave it as optional.',\n                    value: 'optional'\n                }],\n            buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel topic creation');\n                        return\n                    }\n                }, {\n                    text: 'Ok',\n                    handler: data => {\n                        console.log(\"result\", data);\n                        if (data === 'default'){\n                            this.createCommunityBoard(name, communityId);\n                        } else {\n                            this.createPersonalBoard(name, communityId);\n                        }\n                    }\n                }\n            ],\n            cssClass: 'level-15'\n        });\n        await alert.present();\n    }\n\n    async createCommunityBoard(name, communityId) {\n        this.ionSpinner = true;\n        let boardId = await this.churchService.editCommunityBoard({action: \"create\", board: {name: name, church: communityId}});\n        //refresh the boards slide array\n        this.boardService.socket.emit('join board', boardId);\n        this.reloadBoardPosts();\n    }\n\n    async createPersonalBoard(name, communityId) {\n        this.ionSpinner = true;\n        const [church] = await this.churchService.loadChurchProfile(communityId);\n        const group = {name: name, details: '', emailDisabled: false, smsDisabled: false, churchId: communityId, board: '', meeting_day: '', meeting_frequency: '', beginAt: new Date().toISOString(), endAt: new Date().toISOString(), meeting_location: {location: '', street: church.meeting_location.street, city: church.meeting_location.city, state: church.meeting_location.state, country: church.meeting_location.country}, published: false, public_group: true, flagged: false, publishedAt: null, expiredAt: null};\n        const createdGroup: any = await this.groupService.createGroupProfile(group); //will also update userData's groups and userData's communityboards list\n        //refresh the boards slide array\n        this.boardService.socket.emit('join board', createdGroup.board);\n        this.reloadBoardPosts();\n    }\n\n    async createNewPost(board) {\n        const editPostPage = await this.modalCtrl.create({component: EditboardpostPage, componentProps: { boardId: board._id }});\n        await editPostPage.present();\n        const {data: refreshNeeded} = await editPostPage.onDidDismiss();\n        if(refreshNeeded){\n            //this.reloadBoardPosts();\n        }\n    }\n\n    async openPost(event, board, post) {\n        event.stopPropagation();\n        let isGroupLeader = false;\n        let hasAdminAccess = false;\n        if (board.group && board.group.leaders){\n            isGroupLeader = board.group.leaders.map((c) => c._id).indexOf(this.userData.user._id) > -1;\n        }\n        if (board.group && board.group.churchId) {\n            hasAdminAccess = await this.userData.hasAdminAccess(board.group.churchId);\n        }\n        const showBoardPage = await this.modalCtrl.create({component: ShowboardpostPage, componentProps: { boardId: board._id, post: post, isGroupLeader: isGroupLeader, hasAdminAccess: hasAdminAccess }});\n        await showBoardPage.present();\n        const {data: refreshNeeded} = await showBoardPage.onDidDismiss();\n        if(refreshNeeded){\n            //this.reloadBoardPosts();\n        }\n    }\n\n    async openRestvoFeature(event, moment) { //when tap on a Restvo feature\n        event.stopPropagation();\n        const modal = await this.modalCtrl.create({component: ShowfeaturePage, componentProps: {moment: moment, modalPage: true}});\n        await modal.present();\n        const {data: refreshNeeded} = await modal.onDidDismiss();\n        if (refreshNeeded) {\n            this.reloadBoardPosts();\n        }\n    }\n\n    async likePost(event, board, post){\n        event.stopPropagation();\n        let action = (post.likes.indexOf(this.userData.user._id) > -1) ? \"cancel like\" : \"like\";\n        await this.boardService.likePost(board._id, post.bucketId, post._id, action);\n        //this.reloadBoardPosts();\n    }\n\n    async showCommunityProfile(community) {\n        const modal = await this.modalCtrl.create({component: ShowcommunityPage,\n            componentProps: {community: community, modalPage: true}});\n        await modal.present();\n        const {data: refreshNeeded} = await modal.onDidDismiss();\n        if (refreshNeeded) {\n        }\n\n    }\n\n    async seeUserInfo(event, recipient) {\n        event.stopPropagation();\n        const modal = await this.modalCtrl.create({component: ShowrecipientinfoPage, componentProps: {recipient: recipient, modalPage: true}});\n        await modal.present();\n        const {data: refreshNeeded} = await modal.onDidDismiss();\n        if (refreshNeeded) {\n        }\n    }\n\n    async presentPickPeoplePopover(event) {\n        event.stopPropagation();\n        const alert = await this.alertCtrl.create({\n            header: 'Sharing is Coming Soon',\n            subHeader: 'This feature will be available in a future release.',\n            buttons: ['Dismiss'],\n            cssClass: 'level-15'\n        });\n        return await alert.present();\n    }\n\n    //get the latest user data from the server\n    refresh(event) {\n        this.ionSpinner = true;\n        this.communitiesboards = [];\n        this.reloadBoardPosts();\n        setTimeout(() => {\n            event.target.complete();\n        }, 2000);\n    }\n\n    async noNetworkConnection(){\n        const networkAlert = await this.alertCtrl.create({\n            header: 'No Internet Connection',\n            subHeader: 'Please check your internet connection.',\n            buttons: ['Dismiss'],\n            cssClass: 'level-15'\n        });\n        await networkAlert.present();\n    }\n\n    displayTimeElapsed(dateTime) {\n        let minElapsed = Math.round((new Date().getTime() - new Date(dateTime).getTime())/(1000 * 60));\n        if(minElapsed < 60){\n            return minElapsed.toString() + 'm ago';\n        }\n        else if(minElapsed >= 60 && minElapsed < (60 * 24)){\n            return Math.round(minElapsed/60).toString() + 'h ago';\n        }\n        else if(minElapsed >= (60 * 24) && minElapsed < (60 * 24 * 6)){\n            return Math.round(minElapsed/(60*24)).toString() + 'd ago';\n        }\n        else if(minElapsed >= (60 * 24 * 6) && minElapsed < (60 * 24 * 30)){\n            return Math.round(minElapsed/(60*24*7)).toString() + 'wk ago';\n        }\n        else{\n            return Math.round(minElapsed/(60*24*30)).toString() + 'mo ago';\n        }\n    }\n\n    refreshMomentHandler = async (res) => {\n        if (res && res.momentId && res.data) {\n            const data = res.data;\n            for (let community of this.communitiesboards) {\n                for (let board of community.boards) {\n                    for (let boardpost of board.posts) {\n                        if (boardpost.moments && boardpost.moments.length && data.moment && (boardpost.moments[0]._id === data.moment._id) && boardpost.moments[0].resource.hasOwnProperty('en-US') && boardpost.moments[0].resource['en-US'].value[0] === 'Poll') {\n                            const index = boardpost.poll.responses.map((c) => c._id).indexOf(data.response._id);\n                            if (index < 0) { //if the response hasn't been added to the response list\n                                boardpost.poll.responses.push(data.response);\n                            } else { //if it has been added, replace with the incoming one\n                                boardpost.poll.responses.splice(index, 1, data.response);\n                            }\n                            //now the latest response have been included, reset the display array\n                            await boardpost.poll.display.forEach((displayitem) => {\n                                displayitem.count = 0;\n                                displayitem.votedByUser = false;\n                            });\n                            //reconstruct the display array\n                            boardpost.poll.totalVoteCount = boardpost.poll.responses.length;\n                            for (const response of boardpost.poll.responses) {\n                                if (response.matrix_number[0].length > 1) { // 1.6.3 Poll feature has length of 2, i.e. [option_id, index]\n                                    if (response.matrix_number[0][1] > (boardpost.poll.display.length - 1)) {\n                                        return; // if this response belongs to an option that has been deleted\n                                    }\n                                    if (this.userData.user && response.user._id === this.userData.user._id) { // response.user is not populated. Note: this is different from the response in refreshMoment handler, where the user is populated\n                                        boardpost.poll.display[response.matrix_number[0][1]].votedByUser = true;\n                                    }\n                                    boardpost.poll.display[response.matrix_number[0][1]].count++;\n                                }\n                            }\n                        }\n                    }\n\n                }\n            }\n        }\n    };\n\n    reorderCommunitiesBoards() {\n        for (const community of this.communitiesboards) { // sort each community's feeds' order\n            community.boards.sort((a, b) => {\n                const c: any = new Date(a.updatedAt);\n                const d: any = new Date(b.updatedAt);\n                return (d - c);\n            });\n        }\n        this.communitiesboards.sort((a, b) => { // sort community by its most up-to-date feed\n            const e: any = new Date(a.boards[0].updatedAt);\n            const f: any = new Date(b.boards[0].updatedAt);\n            return (f - e);\n        });\n    }\n\n    async createNewCommunity() {\n        let industries = [];\n        this.resourceService.load('en-US', \"Industry\").subscribe(async (fields: any) => {\n            for(let i = 0; i < fields.length; i++){\n                console.log(\"id\", fields[i]._id);\n                industries.push({_id: fields[i]._id, name: fields[i][\"en-US\"].value[0], selected: false});\n            }\n            const editCommunity = await this.modalCtrl.create({component: EditcommunityPage, componentProps: {industries: industries}} );\n            await editCommunity.present();\n            const {data: refreshNeeded} = await editCommunity.onDidDismiss();\n            if (refreshNeeded) {\n                //this.loadMap();\n            }\n        }, async (err) => {\n            const networkAlert = await this.alertCtrl.create({\n                header: 'No Internet Connection',\n                message: 'Please check your internet connection.',\n                buttons: ['Dismiss'],\n                cssClass: 'level-15'\n            });\n            await networkAlert.present();\n        });\n    }\n\n    async createNewGroup() {\n        const editGroupPage = await this.modalCtrl.create({component: EditgroupPage, componentProps: {personalGroup: false, publishGroup: false}});\n        await editGroupPage.present();\n        const {data: refreshNeeded} = await editGroupPage.onDidDismiss();\n        if (refreshNeeded){\n            this.router.navigateByUrl('/app/myconversations/chat');\n        }\n    }\n\n    async setupLoadGroups() {\n        this.newsfeedMoreOptions = !this.newsfeedMoreOptions;\n        if (this.newsfeedMoreOptions) {\n            try {\n                for (let community of this.communitiesboards) {\n                    this.loadCommunityGroups(community);\n                }\n            } catch (err) {\n                this.ionSpinner = false;\n            }\n        }\n    }\n\n    async loadCommunityGroups(community) {\n        const groups: any = await this.churchService.loadChurchGroupProfiles(community._id, 'all'); // show both published and unpublished\n        this.ionSpinner = false;\n        community.topics = []; // reset the array\n        community.groups = [];\n        let listOfCurrentCommunityBoardIds = community.boards.map((c) => {return c._id});\n        let listOfUserGroupIds = this.userData.user.groups.map((c) => {return c._id;});\n        groups.forEach((group: any) => {\n            group.joined = listOfUserGroupIds.indexOf(group._id) > -1;\n            if (group.board) {\n                if (listOfCurrentCommunityBoardIds.indexOf(group.board) < 0) {\n                    community.topics.push(group);\n                }\n            } else if (group.conversation) {\n                community.groups.push(group);\n            }\n        });\n    }\n\n    async showGroupProfile(group){\n        let groupIds = this.userData.user.groups.map((c) => {return c._id;});\n        if (groupIds.indexOf(group._id) > -1 || this.userData.currentCommunityAdminStatus){ //if user is admin or has already joined this group\n            if (group.conversation) {\n                this.chatService.currentChatProps.push({\n                    conversationId: group.conversation,\n                    name: group.name,\n                    group: group,\n                    badge: true,\n                    page: 'chat',\n                    modalPage: true\n                });\n                const groupPage = await this.modalCtrl.create({\n                    component: GroupchatPage,\n                    componentProps: this.chatService.currentChatProps[this.chatService.currentChatProps.length - 1]\n                });\n                await groupPage.present();\n                const {data: refreshNeeded} = await groupPage.onDidDismiss();\n                if (refreshNeeded) {\n                    this.setupLoadGroups();\n                }\n            } else {\n                const groupPage = await this.modalCtrl.create({component: GroupboardPage, componentProps: {\n                        group: group,\n                        page: 'board'\n                    }});\n                await groupPage.present();\n                const {data: refreshNeeded} = await groupPage.onDidDismiss();\n                if (refreshNeeded) {\n                    this.setupLoadGroups();\n                }\n            }\n        } else {\n            if (group.conversation){\n                const aboutPage = await this.modalCtrl.create({component: ShowgroupPage, componentProps: {\n                        group: group\n                    }});\n                await aboutPage.present();\n            } else if (group.board) {\n                const groupPage = await this.modalCtrl.create({component: GroupboardPage, componentProps: {\n                        group: group,\n                        page: 'board'\n                    }});\n                await groupPage.present();\n            }\n        }\n    }\n\n    executeSearch(event){\n        event.stopPropagation();\n        //this.ionSpinner = true;\n        this.setupLoadGroups();\n    }\n\n    initPlyr(event, mediaId) {\n        let player: Plyr;\n        player = event;\n        this.mediaList.push({ _id: mediaId, player: player});\n    }\n\n    destroyPlayers(mediaId) {\n        if (mediaId) {\n            const media = this.mediaList.find((c) => c._id === mediaId);\n            media.player.destroy();\n        } else {\n            for (const media of this.mediaList) {\n                media.player.destroy();\n            }\n        }\n    }\n\n    ngOnDestroy(){\n        this.subscriptions['refreshUserStatus'].unsubscribe(this.refreshPage);\n    }\n}\n"],"sourceRoot":"webpack:///"}