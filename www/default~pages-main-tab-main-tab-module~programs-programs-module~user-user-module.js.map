{"version":3,"sources":["./src/app/pages/user/programs/programs.page.html","./src/app/pages/user/programs/programs.module.ts","./src/app/pages/user/programs/programs.page.scss","./src/app/pages/user/programs/programs.page.ts"],"names":[],"mappings":"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","file":"default~pages-main-tab-main-tab-module~programs-programs-module~user-user-module.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"modalPage\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\"><ion-icon name=\\\"chevron-back-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>Mentoring</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-label>Choose Your Default Mentoring:</ion-label>\\n  </ion-item>\\n  <ion-grid class=\\\"program-grid\\\">\\n    <ion-row class=\\\"program-row\\\">\\n      <ion-col class=\\\"ion-align-self-center\\\" *ngFor=\\\"let program of programs\\\" size-xs=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"4\\\" size-lg=\\\"4\\\" size-xl=\\\"3\\\">\\n        <ion-card class=\\\"program-card\\\" (click)=\\\"selectDefault($event, program)\\\">   <!--[ngStyle]=\\\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\\\"-->\\n          <ion-card-header class=\\\"ion-no-padding\\\">\\n            <div class=\\\"program-photo-container\\\" [ngClass]=\\\"{'opacity': program._id !== (userData.defaultProgram && userData.defaultProgram._id) }\\\">\\n              <ion-img class=\\\"program-photo\\\" [src]=\\\"(program.assets && program.assets[0]) | background: program._id\\\"></ion-img>\\n            </div>\\n          </ion-card-header>\\n          <div class=\\\"program-type\\\"><ion-badge color=\\\"button1\\\">{{program.resource['en-US'].value[0]}}</ion-badge></div>\\n          <div class=\\\"program-name\\\">{{program.matrix_string[0][0]}}</div>\\n          <ion-button class=\\\"info-moment ion-no-padding ion-no-margin\\\" (click)=\\\"openProgram($event, program)\\\" fill=\\\"clear\\\" size=\\\"small\\\">\\n            <ion-icon name=\\\"information-circle-outline\\\" color=\\\"secondary\\\"></ion-icon>\\n          </ion-button>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProgramsPage } from './programs.page';\nimport {ApplicationPipesModule} from \"../../../pipes/application-pipes\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProgramsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n      ApplicationPipesModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProgramsPage]\n})\nexport class ProgramsPageModule {}\n","export default \"app-programs .program-row {\\n  height: 100px;\\n}\\napp-programs .program-card {\\n  width: auto;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  margin: 0 3%;\\n}\\napp-programs .program-photo-container {\\n  height: 80px;\\n  overflow: hidden;\\n}\\napp-programs .program-photo {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  cursor: pointer;\\n  height: 100%;\\n  margin: auto;\\n  display: block;\\n}\\napp-programs .program-name {\\n  position: absolute;\\n  bottom: 2%;\\n  left: 2%;\\n  color: white;\\n  font-size: 12px;\\n  cursor: pointer;\\n  z-index: 15;\\n}\\napp-programs .program-type {\\n  position: absolute;\\n  top: 2%;\\n  left: 2%;\\n  font-size: 12px;\\n  cursor: pointer;\\n}\\napp-programs .info-moment {\\n  position: absolute;\\n  top: 0;\\n  right: 2px;\\n}\\napp-programs .opacity {\\n  opacity: 0.4;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL3VzZXIvcHJvZ3JhbXMvcHJvZ3JhbXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy91c2VyL3Byb2dyYW1zL3Byb2dyYW1zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGFBQUE7QUNESjtBRElFO0VBQ0UsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxZQUFBO0FDRko7QURLRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQ0hKO0FEUUU7RUFDRSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUVBLFlBQUE7RUFFQSxZQUFBO0VBQ0EsY0FBQTtBQ1JKO0FEWUU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ1ZKO0FEYUU7RUFDRSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNYSjtBRGNFO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsVUFBQTtBQ1pKO0FEZUU7RUFDRSxZQUFBO0FDYkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91c2VyL3Byb2dyYW1zL3Byb2dyYW1zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1wcm9ncmFtcyB7XG5cbiAgLnByb2dyYW0tcm93IHtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICB9XG5cbiAgLnByb2dyYW0tY2FyZCB7XG4gICAgd2lkdGg6IGF1dG87XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICBtYXJnaW46IDAgMyU7XG4gIH1cblxuICAucHJvZ3JhbS1waG90by1jb250YWluZXIge1xuICAgIGhlaWdodDogODBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIC8vYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIC8vbWFyZ2luOiA1JSBhdXRvO1xuICB9XG5cbiAgLnByb2dyYW0tcGhvdG8ge1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAvL29wYWNpdHk6IDUwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgLy93aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgLy9tYXgtaGVpZ2h0OiAyMDBweDtcbiAgfVxuXG4gIC5wcm9ncmFtLW5hbWUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDIlO1xuICAgIGxlZnQ6IDIlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnByb2dyYW0tdHlwZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMiU7XG4gICAgbGVmdDogMiU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5pbmZvLW1vbWVudCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMnB4O1xuICB9XG5cbiAgLm9wYWNpdHkge1xuICAgIG9wYWNpdHk6IDAuNDtcbiAgfVxufSIsImFwcC1wcm9ncmFtcyAucHJvZ3JhbS1yb3cge1xuICBoZWlnaHQ6IDEwMHB4O1xufVxuYXBwLXByb2dyYW1zIC5wcm9ncmFtLWNhcmQge1xuICB3aWR0aDogYXV0bztcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgbWFyZ2luOiAwIDMlO1xufVxuYXBwLXByb2dyYW1zIC5wcm9ncmFtLXBob3RvLWNvbnRhaW5lciB7XG4gIGhlaWdodDogODBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbmFwcC1wcm9ncmFtcyAucHJvZ3JhbS1waG90byB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cbmFwcC1wcm9ncmFtcyAucHJvZ3JhbS1uYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDIlO1xuICBsZWZ0OiAyJTtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDEycHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgei1pbmRleDogMTU7XG59XG5hcHAtcHJvZ3JhbXMgLnByb2dyYW0tdHlwZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAyJTtcbiAgbGVmdDogMiU7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuYXBwLXByb2dyYW1zIC5pbmZvLW1vbWVudCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMnB4O1xufVxuYXBwLXByb2dyYW1zIC5vcGFjaXR5IHtcbiAgb3BhY2l0eTogMC40O1xufSJdfQ== */\"","import {Component, Input, OnDestroy, OnInit, ViewEncapsulation} from '@angular/core';\nimport {UserData} from \"../../../services/user.service\";\nimport {ModalController} from \"@ionic/angular\";\nimport {ShowfeaturePage} from \"../../feature/showfeature/showfeature.page\";\nimport {Router} from \"@angular/router\";\nimport {Storage} from \"@ionic/storage\";\n\n@Component({\n  selector: 'app-programs',\n  templateUrl: './programs.page.html',\n  styleUrls: ['./programs.page.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ProgramsPage implements OnInit, OnDestroy {\n\n  @Input() modalPage: any;\n\n  subscriptions: any = {};\n  resources: any;\n  programs: any;\n\n  constructor(\n      private router: Router,\n      private storage: Storage,\n      public userData: UserData,\n      private modalCtrl: ModalController\n  ) { }\n\n  async ngOnInit() {\n      this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshHandler);\n  }\n\n    refreshHandler = () => {\n        if (this.userData.user) {\n            this.loadPrograms();\n        }\n    };\n\n  async loadPrograms() {\n      this.userData.defaultProgram = await this.storage.get('defaultProgram');\n      this.programs = await this.userData.loadPrograms(false);\n    this.programs.forEach((program) => {\n        if (program.user_list_1.includes(this.userData.user._id)) {\n          program.isParticipant = true;\n        }\n        if (program.user_list_2.includes(this.userData.user._id)) {\n            program.isOrganizer = true;\n        }\n        if (program.user_list_3.includes(this.userData.user._id)) {\n            program.isLeader = true;\n        }\n    });\n  }\n\n  async openProgram(event, program) {\n      event.stopPropagation();\n      if (!this.modalPage) {\n          this.router.navigate(['/app/user/activity/' + program._id], { replaceUrl: false });\n      } else {\n          const recipientModal = await this.modalCtrl.create({component: ShowfeaturePage, componentProps: { moment: { _id: program._id }, modalPage: true}} );\n          await recipientModal.present();\n      }\n  }\n\n    selectDefault(event, program) {\n      event.stopPropagation();\n      this.userData.defaultProgram = program;\n      this.userData.UIAdminMode = true;\n      this.storage.set('defaultProgram', this.userData.defaultProgram);\n      let activityURL;\n        if (program.user_list_2.includes(this.userData.user._id) || program.user_list_3.includes(this.userData.user._id)) {\n            activityURL = '/app/dashboard/insight/' + this.userData.defaultProgram._id;\n        } else {\n            activityURL = '/app/discover/home/' + this.userData.defaultProgram._id;\n        }\n        this.router.navigate([activityURL]);\n        if (this.modalPage) {\n            setTimeout(() => {\n                this.closeModal();\n            }, 1000);\n        }\n    }\n\n    closeModal() {\n        this.modalCtrl.dismiss();\n    }\n\n    ngOnDestroy() {\n        this.subscriptions['refreshUserStatus'].unsubscribe(this.refreshHandler);\n    }\n}\n"],"sourceRoot":"webpack:///"}