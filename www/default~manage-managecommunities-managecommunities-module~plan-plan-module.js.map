{"version":3,"sources":["./src/app/pages/manage/plan/plan.page.html","./src/app/pages/manage/plan/plan.module.ts","./src/app/pages/manage/plan/plan.page.scss","./src/app/pages/manage/plan/plan.page.ts","./src/app/services/payment.service.ts"],"names":[],"mappings":"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","file":"default~manage-managecommunities-managecommunities-module~plan-plan-module.js","sourcesContent":["export default \"<ion-header *ngIf=\\\"modalPage\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\"><ion-icon name=\\\"chevron-back-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>{{userData.user.churches[userData.currentCommunityIndex].name}}: Plan</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"ionSpinner\\\">\\n    <ion-row class=\\\"ion-justify-content-start ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n      <ion-spinner name=\\\"dots\\\"></ion-spinner>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-slides (ionSlidesDidLoad)=\\\"onSlidesLoaded()\\\">\\n    <ion-slide>\\n      <ion-grid *ngIf=\\\"resource\\\">\\n        <ion-row>\\n          <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"6\\\">\\n            <ion-card class=\\\"ion-text-center\\\">\\n              <ion-card-header>\\n                <ion-card-title>{{resource['en-US'].matrix_string[0][0]}}</ion-card-title>\\n                <img src=\\\"\\\"/>\\n              </ion-card-header>\\n              <ion-card-header>\\n                <ion-card-title>{{resource['en-US'].matrix_string[0][1]}}</ion-card-title>\\n                <ion-card-subtitle>{{resource['en-US'].matrix_string[0][2]}}</ion-card-subtitle>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <ion-list class=\\\"ion-text-center\\\">\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[0][11]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[0][12]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[0][13]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[0][14]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[0][15]}}\\n                  </ion-item>\\n                </ion-list>\\n              </ion-card-content>\\n              <ion-col *ngIf=\\\"churchService.currentManagedCommunity && (!churchService.currentManagedCommunity.hasOwnProperty('subscription') || churchService.currentManagedCommunity.subscription === 'Free')\\\">\\n                <ion-button color=\\\"primary\\\" fill=\\\"solid\\\" shape=\\\"round\\\" [disabled]=\\\"true\\\">Current Plan</ion-button>\\n              </ion-col>\\n              <ion-col *ngIf=\\\"churchService.currentManagedCommunity && churchService.currentManagedCommunity.hasOwnProperty('subscription') && churchService.currentManagedCommunity.subscription !== 'Free'\\\">\\n                <ion-button color=\\\"primary\\\" fill=\\\"solid\\\" shape=\\\"round\\\" (click)=\\\"selectPlan('Free')\\\">Downgrade Plan</ion-button>\\n              </ion-col>\\n            </ion-card>\\n          </ion-col>\\n          <ion-col size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"6\\\">\\n            <ion-card class=\\\"ion-text-center\\\">\\n              <ion-card-header>\\n                <ion-card-title>{{resource['en-US'].matrix_string[1][0]}}</ion-card-title>\\n                <img src=\\\"\\\"/>\\n              </ion-card-header>\\n              <ion-card-header>\\n                <ion-card-title>{{resource['en-US'].matrix_string[1][1]}}</ion-card-title>\\n                <ion-card-subtitle>{{resource['en-US'].matrix_string[1][2]}}</ion-card-subtitle>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <ion-list class=\\\"ion-text-center\\\">\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[1][11]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[1][12]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[1][13]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[1][14]}}\\n                  </ion-item>\\n                  <ion-item>\\n                    {{resource['en-US'].matrix_string[1][15]}}\\n                  </ion-item>\\n                </ion-list>\\n              </ion-card-content>\\n              <ion-col *ngIf=\\\"churchService.currentManagedCommunity && churchService.currentManagedCommunity.hasOwnProperty('subscription') && churchService.currentManagedCommunity.subscription === resource['en-US'].matrix_string[1][0]\\\">\\n                <ion-button color=\\\"primary\\\" fill=\\\"solid\\\" shape=\\\"round\\\" [disabled]=\\\"true\\\">Current Plan</ion-button>\\n              </ion-col>\\n              <ion-col *ngIf=\\\"churchService.currentManagedCommunity && (!churchService.currentManagedCommunity.hasOwnProperty('subscription') || churchService.currentManagedCommunity.subscription !== resource['en-US'].matrix_string[1][0])\\\">\\n                <ion-button color=\\\"primary\\\" fill=\\\"solid\\\" shape=\\\"round\\\" (click)=\\\"selectPlan(resource['en-US'].matrix_string[1][0])\\\">Upgrade Plan</ion-button>\\n              </ion-col>\\n            </ion-card>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-slide>\\n    <ion-slide>\\n      <ion-grid *ngIf=\\\"resource\\\">\\n        <ion-row>\\n          <ion-col>\\n            <ion-label class=\\\"text-start\\\">You are switching to the Standard Plan</ion-label>\\n            <ion-card>\\n                <ion-card-title>Billing Amount</ion-card-title>\\n              <ion-card-content>\\n                <h2 class=\\\"ion-text-center\\\">{{churchService.numberOfActiveUsers}} active users x {{resource['en-US'].matrix_string[1][1]}} (per user, per month) = ${{(churchService.numberOfActiveUsers*resource.matrix_number[1][0]).toFixed(2)}}</h2>\\n              </ion-card-content>\\n            </ion-card>\\n            <ion-card>\\n                <ion-card-title>Billing Information</ion-card-title>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"billingForm\\\">\\n                  <div [id]=stripeElementName class=\\\"field\\\"></div>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">Name</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"text\\\" formControlName=\\\"name\\\" placeholder=\\\"Jane Doe\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">Email Address</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"email\\\" formControlName=\\\"email\\\" placeholder=\\\"jane@restvo.com\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">Street</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"text\\\" formControlName=\\\"line1\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">City</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"text\\\" formControlName=\\\"city\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">State</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"text\\\" formControlName=\\\"state\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">Zip/Postal Code</ion-label>\\n                    <ion-input autocomplete=\\\"on\\\" type=\\\"text\\\" formControlName=\\\"postal_code\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-label position=\\\"stacked\\\">Country</ion-label>\\n                    <ion-select [interfaceOptions]=\\\"{cssClass: 'level-15'}\\\" formControlName=\\\"country\\\">\\n                      <ion-select-option value=\\\"US\\\" [class.selected]='true'>United States</ion-select-option>\\n                      <ion-select-option value=\\\"AU\\\">Australia</ion-select-option>\\n                      <ion-select-option value=\\\"AT\\\">Austria</ion-select-option>\\n                      <ion-select-option value=\\\"BE\\\">Belgium</ion-select-option>\\n                      <ion-select-option value=\\\"BR\\\">Brazil</ion-select-option>\\n                      <ion-select-option value=\\\"CA\\\">Canada</ion-select-option>\\n                      <ion-select-option value=\\\"CN\\\">China</ion-select-option>\\n                      <ion-select-option value=\\\"DK\\\">Denmark</ion-select-option>\\n                      <ion-select-option value=\\\"FI\\\">Finland</ion-select-option>\\n                      <ion-select-option value=\\\"FR\\\">France</ion-select-option>\\n                      <ion-select-option value=\\\"DE\\\">Germany</ion-select-option>\\n                      <ion-select-option value=\\\"HK\\\">Hong Kong</ion-select-option>\\n                      <ion-select-option value=\\\"IE\\\">Ireland</ion-select-option>\\n                      <ion-select-option value=\\\"IT\\\">Italy</ion-select-option>\\n                      <ion-select-option value=\\\"JP\\\">Japan</ion-select-option>\\n                      <ion-select-option value=\\\"LU\\\">Luxembourg</ion-select-option>\\n                      <ion-select-option value=\\\"MX\\\">Mexico</ion-select-option>\\n                      <ion-select-option value=\\\"NL\\\">Netherlands</ion-select-option>\\n                      <ion-select-option value=\\\"NZ\\\">New Zealand</ion-select-option>\\n                      <ion-select-option value=\\\"NO\\\">Norway</ion-select-option>\\n                      <ion-select-option value=\\\"PT\\\">Portugal</ion-select-option>\\n                      <ion-select-option value=\\\"SG\\\">Singapore</ion-select-option>\\n                      <ion-select-option value=\\\"ES\\\">Spain</ion-select-option>\\n                      <ion-select-option value=\\\"SE\\\">Sweden</ion-select-option>\\n                      <ion-select-option value=\\\"CH\\\">Switzerland</ion-select-option>\\n                      <ion-select-option value=\\\"GB\\\">United Kingdom</ion-select-option>\\n                    </ion-select>\\n                  </ion-item>\\n                </form>\\n                <ion-row>\\n                  <ion-col>\\n                    <ion-button color=\\\"primary\\\" shape=\\\"round\\\" fill=\\\"solid\\\" expand=\\\"block\\\" (click)=\\\"submitBillingForm()\\\">Submit</ion-button>\\n                  </ion-col>\\n                </ion-row>\\n                <ion-row>\\n                  <ion-col>\\n                    <ion-button color=\\\"danger\\\" shape=\\\"round\\\" fill=\\\"solid\\\" expand=\\\"block\\\" (click)=\\\"prevSlide()\\\">Cancel</ion-button>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-slide>\\n  </ion-slides>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PlanPage } from './plan.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlanPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PlanPage]\n})\nexport class PlanPageModule {}\n","export default \"app-plan ion-spinner {\\n  position: absolute;\\n  margin: 48%;\\n}\\napp-plan ion-card {\\n  margin: 5% 10% 5% 10%;\\n  padding: 5% 0 8%;\\n}\\napp-plan ion-item {\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\napp-plan ion-slides {\\n  width: 100%;\\n}\\napp-plan ion-grid {\\n  width: 100%;\\n}\\napp-plan ion-slide {\\n  width: 100%;\\n}\\napp-plan .field {\\n  flex: 1;\\n  padding: 0 15px;\\n  background: transparent;\\n  font-weight: 400;\\n  color: #31325f;\\n  outline: none;\\n  cursor: text;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL21hbmFnZS9wbGFuL3BsYW4ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9tYW5hZ2UvcGxhbi9wbGFuLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtBQ0RKO0FESUU7RUFDRSxxQkFBQTtFQUNBLGdCQUFBO0FDRko7QURLRTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7QUNISjtBRE1FO0VBQ0UsV0FBQTtBQ0pKO0FET0U7RUFDRSxXQUFBO0FDTEo7QURRRTtFQUNFLFdBQUE7QUNOSjtBRFNFO0VBQ0UsT0FBQTtFQUNBLGVBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDUEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9tYW5hZ2UvcGxhbi9wbGFuLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1wbGFuIHtcblxuICBpb24tc3Bpbm5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbjogNDglO1xuICB9XG5cbiAgaW9uLWNhcmQge1xuICAgIG1hcmdpbjogNSUgMTAlIDUlIDEwJTtcbiAgICBwYWRkaW5nOiA1JSAwIDglO1xuICB9XG5cbiAgaW9uLWl0ZW0ge1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgaW9uLXNsaWRlcyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBpb24tZ3JpZCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBpb24tc2xpZGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLmZpZWxkIHtcbiAgICBmbGV4OiAxO1xuICAgIHBhZGRpbmc6IDAgMTVweDtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGNvbG9yOiAjMzEzMjVmO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgY3Vyc29yOiB0ZXh0O1xuICB9XG59IiwiYXBwLXBsYW4gaW9uLXNwaW5uZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogNDglO1xufVxuYXBwLXBsYW4gaW9uLWNhcmQge1xuICBtYXJnaW46IDUlIDEwJSA1JSAxMCU7XG4gIHBhZGRpbmc6IDUlIDAgOCU7XG59XG5hcHAtcGxhbiBpb24taXRlbSB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cbmFwcC1wbGFuIGlvbi1zbGlkZXMge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1wbGFuIGlvbi1ncmlkIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtcGxhbiBpb24tc2xpZGUge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1wbGFuIC5maWVsZCB7XG4gIGZsZXg6IDE7XG4gIHBhZGRpbmc6IDAgMTVweDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiAjMzEzMjVmO1xuICBvdXRsaW5lOiBub25lO1xuICBjdXJzb3I6IHRleHQ7XG59Il19 */\"","import {Component, Input, OnDestroy, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\nimport { CacheService } from 'ionic-cache';\nimport { StripeService, Elements, Element as StripeElement, ElementsOptions } from \"ngx-stripe\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport {AlertController, IonContent, IonSlides, ModalController, Platform} from \"@ionic/angular\";\nimport {UserData} from \"../../../services/user.service\";\nimport {Churches} from \"../../../services/church.service\";\nimport {PaymentService} from \"../../../services/payment.service\";\nimport {Resource} from \"../../../services/resource.service\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-plan',\n  templateUrl: './plan.page.html',\n  styleUrls: ['./plan.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PlanPage implements OnInit, OnDestroy {\n    @ViewChild(IonContent, {static: false}) content: IonContent;\n    @ViewChild(IonSlides, {static: false}) slides: IonSlides;\n\n    @Input() modalPage: any;\n    elements: Elements;\n    card: StripeElement;\n    // optional parameters\n    elementsOptions: ElementsOptions = {\n        locale: 'en'\n    };\n    billingForm: FormGroup;\n    community: any;\n    numberOfActiveUsers: any;\n    refreshNeeded = false;\n    stripeElementName = 'card-element-plan';\n    ionSpinner = false;\n    resource: any;\n\n    subscriptions: any = {};\n\n    constructor(\n        private cache: CacheService,\n        private platform: Platform,\n        private router: Router,\n        private formBuilder: FormBuilder,\n        private stripeService: StripeService,\n        public modalCtrl: ModalController,\n        private alertCtrl: AlertController,\n        public userData: UserData,\n        public churchService: Churches,\n        private paymentService: PaymentService,\n        public resourceService: Resource,\n    ) {}\n\n    ngOnInit() {\n        this.billingForm = this.formBuilder.group({\n            name: ['', [Validators.required]],\n            email: ['', [Validators.required]],\n            line1: ['', [Validators.required]],\n            line2: [''],\n            city: ['', [Validators.required]],\n            state: ['', [Validators.required]],\n            postal_code: ['', [Validators.required]],\n            country: ['', [Validators.required]],\n        });\n        let loadResource = this.resourceService.load('en-US', \"Restvo Plans\");\n        let resource = this.cache.loadFromDelayedObservable('loadResource: Restvo Plans', loadResource, 'resource', 3600, 'none');\n        resource.subscribe(result => {\n            this.resource = result[0];\n        }, async (err) => {\n            let networkAlert = await await this.alertCtrl.create({\n                header: 'No Internet Connection',\n                message: 'Please check your internet connection.',\n                buttons: ['Dismiss'],\n                cssClass: 'level-15'\n            });\n            await networkAlert.present();\n        });\n        this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshHandler);\n    }\n\n    onSlidesLoaded () {\n        this.slides.lockSwipes(true);\n    }\n\n    refreshHandler = async (data) => {\n        if (data && data.type === 'load community ready') {\n            this.prevSlide();\n            this.churchService.numberOfActiveUsers = await this.churchService.getAppUserUsage(this.churchService.currentManagedCommunity._id);\n\n        }\n    };\n\n    ionViewDidEnter() {\n        this.stripeElementName = 'card-element-plan' + (this.modalPage ? '-modal' : '');\n    }\n\n    prevSlide() {\n        this.slides.lockSwipes(false);\n        this.slides.slidePrev();\n        this.content.scrollToTop();\n        this.slides.lockSwipes(true);\n    }\n\n    nextSlide() {\n        this.slides.lockSwipes(false);\n        this.slides.slideNext();\n        this.content.scrollToTop();\n        this.slides.lockSwipes(true);\n    }\n\n    prepareBillingElement() {\n        this.stripeService.elements(this.elementsOptions)\n            .subscribe(elements => {\n                this.elements = elements;\n                // Only mount the element the first time\n                if (!this.card) {\n                    this.card = this.elements.create('card', {\n                        style: {\n                            base: {\n                                iconColor: '#666EE8',\n                                color: '#31325F',\n                                fontWeight: 300,\n                                fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n                                fontSize: '18px',\n                                '::placeholder': {\n                                    color: '#CFD7E0'\n                                }\n                            }\n                        }\n                    });\n                    this.card.mount('#' + this.stripeElementName);\n                } else {\n                    this.card.mount('#' + this.stripeElementName);\n                }\n            });\n    }\n\n    async selectPlan(plan) {\n        try {\n            if (plan === this.resource['en-US'].matrix_string[1][0] && !this.churchService.currentManagedCommunity.subscriptionId){\n                this.churchService.numberOfActiveUsers = await this.churchService.getAppUserUsage(this.churchService.currentManagedCommunity._id);\n                if (!this.platform.is('cordova')) {\n                    this.nextSlide();\n                    this.prepareBillingElement();\n                } else {\n                    const alert = await this.alertCtrl.create({\n                        header: 'Opening the In-App Browser',\n                        subHeader: 'To upgrade your plan, you will be redirected to app.restvo.com.',\n                        buttons: [{ text: 'Ok',\n                            handler: () => {\n                                const navTransition = alert.dismiss();\n                                navTransition.then(async () => {\n                                    window.open('https://app.restvo.com/register', \"_blank\");\n                                });\n                            }},\n                            { text: 'Cancel' }],\n                        cssClass: 'level-15'\n                    });\n                    await alert.present();\n                }\n            } else if (plan === this.resource['en-US'].matrix_string[1][0] && this.churchService.currentManagedCommunity.subscriptionId){\n                await this.paymentService.subscribe(this.churchService.currentManagedCommunity._id, this.resource['en-US'].matrix_string[1][0], null, null);\n                this.userData.refreshUserStatus({type: 'change aux data'});\n            } else {\n                const alert = await this.alertCtrl.create({\n                    header: 'Cancel ' + this.resource['en-US'].matrix_string[1][0] + ' Plan',\n                    subHeader: 'Are you sure you want to cancel your subscription to the ' + this.resource['en-US'].matrix_string[1][0] + ' Plan?',\n                    buttons: [{ text: 'Ok',\n                        handler: () => {\n                            const navTransition = alert.dismiss();\n                            navTransition.then(async () => {\n                                await this.paymentService.subscribe(this.churchService.currentManagedCommunity._id, 'Free', null,null);\n                                this.userData.refreshUserStatus({type: 'change aux data'});\n                            });\n                        }},\n                        { text: 'Cancel' }],\n                    cssClass: 'level-15'\n                });\n                await alert.present();\n            }\n        } catch (err) {\n            const alert = await this.alertCtrl.create({\n                header: 'Something Went Wrong', //delete board\n                subHeader: 'We cannot process your request at this time. Please try again later.',\n                buttons: [{ text: 'Ok' }],\n                cssClass: 'level-15'\n            });\n            await alert.present();\n        }\n    }\n\n    async submitBillingForm() {\n        try {\n            this.ionSpinner = true;\n            const owner = this.billingForm.value;\n            owner.address = { line1: owner.line1, line2: owner.line2, city: owner.city, state: owner.state, postal_code: owner.postal_code, country: owner.country };\n            delete owner.line1;\n            delete owner.line2;\n            delete owner.city;\n            delete owner.state;\n            delete owner.postal_code;\n            delete owner.country;\n            this.stripeService.createSource(this.card, {\n                type: 'card',\n                currency: 'usd',\n                owner: owner,\n            }).subscribe(async (result) => {\n                if (result.source) {\n                    const updateResult = await this.paymentService.subscribe(this.churchService.currentManagedCommunity._id, this.resource['en-US'].matrix_string[1][0], owner, result.source);\n                    this.ionSpinner = false;\n                    if (updateResult === 'success') {\n                        this.userData.refreshUserStatus({type: 'change aux data'});\n                        const alert = await this.alertCtrl.create({\n                            header: 'Success',\n                            subHeader: this.churchService.currentManagedCommunity.name + ' is now upgraded to the ' + this.resource['en-US'].matrix_string[1][0] + ' Plan.',\n                            buttons: [{\n                                text: 'Ok',\n                                handler: () => {\n                                    const navTransition = alert.dismiss();\n                                    navTransition.then( async () => {\n                                        this.card.clear();\n                                        this.billingForm.reset();\n                                        this.prevSlide();\n                                    });\n                                }\n                            }],\n                            cssClass: 'level-15'\n                        });\n                        await alert.present();\n                    } else {\n                        const alert = await this.alertCtrl.create({\n                            header: 'Something Went Wrong',\n                            subHeader: 'We cannot process your request at this time. Please try again later.',\n                            buttons: [{ text: 'Ok' }],\n                            cssClass: 'level-15'\n                        });\n                        await alert.present();\n                    }\n                } else if (result.error) {\n                    this.ionSpinner = false;\n                    // Error creating the source\n                    console.log(result.error.message);\n                    const alert = await this.alertCtrl.create({\n                        header: 'Something Went Wrong',\n                        subHeader: 'We cannot process your request at this time.',\n                        message: result.error.message,\n                        buttons: [{ text: 'Ok' }],\n                        cssClass: 'level-15'\n                    });\n                    await alert.present();\n                }\n            });\n        } catch (err) {\n            this.ionSpinner = false;\n            const alert = await this.alertCtrl.create({\n                header: 'Something Went Wrong',\n                subHeader: 'We cannot process your request at this time. Please try again later.',\n                buttons: [{ text: 'Ok' }],\n                cssClass: 'level-15'\n            });\n            await alert.present();\n        }\n\n    }\n\n    closeModal(){\n        this.modalCtrl.dismiss(this.refreshNeeded);\n    }\n\n    ngOnDestroy() {\n        //this.card.unmount();\n        this.subscriptions['refreshUserStatus'].unsubscribe(this.refreshHandler);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/timeout';\nimport 'rxjs/add/operator/toPromise';\nimport { NetworkService } from './network-service.service';\nimport { Auth } from './auth.service';\nimport { UserData } from './user.service';\n\n@Injectable({ providedIn: 'root' })\nexport class PaymentService {\n\n    constructor(private http: HttpClient,\n                public authService: Auth,\n                public networkService: NetworkService,\n                public userData: UserData) {\n    }\n\n    loadCustomer(churchId) {\n        return this.http.get(this.networkService.domain + '/api/payment/loadcustomer/' + churchId, this.authService.httpAuthOptions).toPromise();\n    }\n\n\n    loadBillingInfo(churchId) {\n        return this.http.get(this.networkService.domain + '/api/payment/loadbilling/' + churchId, this.authService.httpAuthOptions).toPromise();\n    }\n\n    listInvoices(churchId, query) {\n        return this.http.get(this.networkService.domain + '/api/payment/listinvoices/' + churchId + query, this.authService.httpAuthOptions).toPromise();\n    }\n\n\n    subscribe(churchId, plan, owner, source) {\n        return this.http.post(this.networkService.domain + '/api/payment/subscribe/' + churchId, JSON.stringify({plan: plan, owner: owner, source: source}), this.authService.httpAuthOptions).toPromise();\n    }\n\n    updateBillingMethod(churchId, source) {\n        return this.http.post(this.networkService.domain + '/api/payment/updatebilling/' + churchId, JSON.stringify({source: source}), this.authService.httpAuthOptions).toPromise();\n    }\n}\n"],"sourceRoot":"webpack:///"}