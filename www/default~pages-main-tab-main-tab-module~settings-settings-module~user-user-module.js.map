{"version":3,"sources":["./src/app/pages/user/settings/settings.page.html","./src/app/pages/user/settings/settings.module.ts","./src/app/pages/user/settings/settings.page.scss","./src/app/pages/user/settings/settings.page.ts"],"names":[],"mappings":"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","file":"default~pages-main-tab-main-tab-module~settings-settings-module~user-user-module.js","sourcesContent":["export default \"<ion-header  *ngIf=\\\"modalPage\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\"><ion-icon name=\\\"chevron-back-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>Privacy and Security</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"userData && userData.user\\\">\\n\\n  <!--CONTACTS-->\\n  <div *ngIf=\\\"platform.is('cordova')\\\">\\n    <ion-item lines=\\\"none\\\" color=\\\"lightgrey\\\">Find Friends on Restvo</ion-item>\\n    <ion-item>\\n      <ion-label>Import Address Book</ion-label>\\n      <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"UIimportContactList\\\" (ionChange)=\\\"toggleImportContactList()\\\"></ion-toggle>\\n    </ion-item>\\n  </div>\\n\\n<!--  &lt;!&ndash;ACCOUNT&ndash;&gt;\\n  <ion-item lines=\\\"none\\\" color=\\\"lightgrey\\\">Account</ion-item>\\n  <ion-item>\\n    <ion-label>Restvo ID</ion-label>\\n    <ion-label *ngIf=\\\"userData.user.mobile\\\" color=\\\"grey\\\" style=\\\"text-align: right;\\\">{{userData.user.mobile}}</ion-label>\\n    <ion-label *ngIf=\\\"!userData.user.mobile\\\" color=\\\"grey\\\" style=\\\"text-align: right;\\\">{{userData.user.email}}</ion-label>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label>Full Name</ion-label>\\n    <ion-label color=\\\"lightgrey\\\" style=\\\"text-align: right;\\\">{{userData.user.first_name}} {{userData.user.last_name}}</ion-label>\\n  </ion-item>-->\\n\\n  <ion-item lines=\\\"none\\\" color=\\\"lightgrey\\\">Privacy</ion-item>\\n  <ion-item class=\\\"ion-text-wrap\\\">\\n    <ion-label>Allow to be Discovered <ion-icon name=\\\"information-circle\\\" (click)=\\\"explainDiscover()\\\"></ion-icon></ion-label>\\n    <ion-toggle [(ngModel)]=\\\"UIAllowedDiscovered\\\" (ionChange)=\\\"toggleAllowedDiscovered()\\\"></ion-toggle>\\n  </ion-item>\\n  <ion-item class=\\\"ion-text-wrap\\\">\\n    <ion-label>Allow All Friends to View Contact Info</ion-label>\\n    <ion-toggle [(ngModel)]=\\\"UIShareContactInfo\\\" (ionChange)=\\\"toggleShareContactInfo()\\\"></ion-toggle>\\n  </ion-item>\\n\\n  <!--SECURITY-->\\n  <ion-item lines=\\\"none\\\" color=\\\"lightgrey\\\">Security</ion-item>\\n  <ion-button color='light' (click)=\\\"resetPassword()\\\" shape=\\\"round\\\" expand=\\\"full\\\" class=\\\"ion-margin-vertical\\\">\\n    <span *ngIf=\\\"userData.user.password\\\">Reset Password</span>\\n    <span *ngIf=\\\"!userData.user.password\\\">Create Password</span>\\n  </ion-button>\\n  <ion-button color='light' (click)=\\\"changePhone()\\\" shape=\\\"round\\\" expand=\\\"full\\\" class=\\\"ion-margin-vertical\\\">Register a New Phone</ion-button>\\n  <ion-button color='light' (click)=\\\"permanentlyEraseUser()\\\" shape=\\\"round\\\" expand=\\\"full\\\" class=\\\"ion-margin-vertical\\\">Delete Account</ion-button>\\n  <ion-button color='light' (click)=\\\"logout($event)\\\" shape=\\\"round\\\" expand=\\\"full\\\" class=\\\"ion-margin-vertical\\\">Sign Out</ion-button>\\n  <p class=\\\"ion-padding\\\" style=\\\"text-align: center; color: black; margin-top: 15px;\\\">{{appName}} {{appVersionNumber}}</p>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport {ApplicationPipesModule} from \"../../../pipes/application-pipes\";\nimport {SettingsPage} from \"./settings.page\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: SettingsPage,\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        ApplicationPipesModule,\n        RouterModule.forChild(routes),\n    ],\n    declarations: [\n        SettingsPage,\n    ],\n})\nexport class SettingsPageModule {}\n","export default \"app-settings ion-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\napp-settings .delete-button {\\n  color: var(--ion-color-primary);\\n  text-decoration: underline;\\n  background: none;\\n  border: none;\\n  font-size: 15px;\\n  word-wrap: break-word;\\n}\\napp-settings .section-title {\\n  color: white;\\n  --background: var(--ion-color-grey);\\n  text-align: left;\\n  font-size: large;\\n}\\napp-settings .security-button {\\n  background-color: var(--ion-color-grey);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL3VzZXIvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy91c2VyL3NldHRpbmdzL3NldHRpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtBQ0RKO0FESUU7RUFDRSwrQkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0FDRko7QURLRTtFQUNFLFlBQUE7RUFDQSxtQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNISjtBRE1FO0VBQ0UsdUNBQUE7QUNKSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXIvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLXNldHRpbmdzIHtcblxuICBpb24tY29udGVudCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLmRlbGV0ZS1idXR0b24ge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgfVxuXG4gIC5zZWN0aW9uLXRpdGxlIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBmb250LXNpemU6IGxhcmdlO1xuICB9XG5cbiAgLnNlY3VyaXR5LWJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICB9XG5cbn1cblxuXG5cbiIsImFwcC1zZXR0aW5ncyBpb24tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5hcHAtc2V0dGluZ3MgLmRlbGV0ZS1idXR0b24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXNpemU6IDE1cHg7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbn1cbmFwcC1zZXR0aW5ncyAuc2VjdGlvbi10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGZvbnQtc2l6ZTogbGFyZ2U7XG59XG5hcHAtc2V0dGluZ3MgLnNlY3VyaXR5LWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbn0iXX0= */\"","import {Component, OnInit, OnDestroy, ViewEncapsulation, Input} from '@angular/core';\nimport {Location} from '@angular/common';\nimport { Router } from '@angular/router';\nimport { ElectronService } from 'ngx-electron';\nimport { CacheService } from 'ionic-cache';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\nimport { Badge } from '@ionic-native/badge/ngx';\nimport { Storage } from '@ionic/storage';\nimport { Auth } from '../../../services/auth.service';\nimport { AlertController, LoadingController, Platform, MenuController, ModalController } from '@ionic/angular';\nimport { UserData } from \"../../../services/user.service\";\nimport { Aws } from \"../../../services/aws.service\";\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class SettingsPage implements OnInit, OnDestroy {\n\n    @Input() modalPage: any;\n\n    subscriptions: any = {};\n    loading: any;\n    appName = '';\n    appVersionNumber = '';\n    awaitUserInput = false;\n    UIenabledPushNotification: boolean;\n    UIimportContactList: any;\n    UIAllowedDiscovered: any;\n    UIShareContactInfo: any;\n\n  constructor(private storage: Storage,\n              private location: Location,\n              private router: Router,\n              private electronService: ElectronService,\n              private appVersion: AppVersion,\n              private cache: CacheService,\n              private loadingCtrl: LoadingController,\n              public modalCtrl: ModalController,\n              private menuCtrl: MenuController,\n              private alertCtrl: AlertController,\n              public platform: Platform,\n              private badge: Badge,\n              private authService: Auth,\n              private awsService: Aws,\n              public userData: UserData) { }\n\n    async ngOnInit() {\n        this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshUserStatusHandler);\n    }\n\n    refreshUserStatusHandler = async (data) => {\n        if (this.authService.token) {\n            this.prepareUserSettings();\n        }\n        this.userData.splitPaneState = 'md';\n    };\n\n    async prepareUserSettings() {\n        await this.userData.load();\n        this.UIenabledPushNotification = this.userData.user.enablePushNotification;\n        this.UIimportContactList = this.userData.user.importContactList;\n        this.UIAllowedDiscovered = !this.userData.user.hideInDirectory;\n        this.UIShareContactInfo = this.userData.user.shareContactInfo;\n        setTimeout(() =>{\n            this.awaitUserInput = true;\n        }, 50);\n        if (this.platform.is('cordova')) {\n            this.appVersion.getAppName().then((appName) => {\n                this.appName = appName;\n            });\n            this.appVersion.getVersionNumber().then((appVersionNumber) => {\n                this.appVersionNumber = appVersionNumber;\n            });\n            console.log(this.appName);\n        }\n    }\n\n    async toggleImportContactList() {\n        this.UIimportContactList = await this.userData.toggleImportContactList(this.UIimportContactList);\n    }\n\n    async toggleAllowedDiscovered() {\n        this.UIAllowedDiscovered = await this.userData.toggleAllowedDiscovered(this.UIAllowedDiscovered);\n    }\n\n    async toggleShareContactInfo() {\n        this.UIShareContactInfo = await this.userData.toggleShareContactInfo(this.UIShareContactInfo);\n    }\n\n    async resetPassword(){\n        this.modalCtrl.dismiss();\n        this.menuCtrl.enable(false);\n        this.router.navigate(['/register', {slide: '6', exitType: 'dashboard'}]);\n    }\n\n    async changePhone() {\n        this.modalCtrl.dismiss();\n        this.menuCtrl.enable(false);\n        this.router.navigate(['/register', {slide: '3', exitType: 'dashboard'}]);\n    }\n\n    async permanentlyEraseUser() {\n        const alert = await this.alertCtrl.create({\n            header: 'Permanently Delete Your Account',\n            subHeader: 'This action cannot be reversed. Are you sure you want to proceed?',\n            cssClass: 'level-15',\n            buttons: [{ text: 'Yes, delete my account.',\n                handler: async () => {\n                    alert.dismiss();\n                    const loading = await this.loadingCtrl.create({\n                        message: 'Loading...'\n                    });\n                    await loading.present();\n                    if (this.modalPage) {\n                        await this.modalCtrl.dismiss();\n                    }\n                    // erase avatar first when the user's auth is still in place\n                    if (this.userData.user.avatar && this.userData.user.avatar.length){\n                        await this.awsService.removeFile(this.userData.user.avatar);\n                    }\n                    this.userData.permanentlyEraseUser().subscribe(async () => {\n                        this.storage.clear();\n                        this.cache.clearAll();\n                        if (this.platform.is('cordova') && this.userData.user.enablePushNotification) {\n                            this.badge.set(0);\n                        }\n                        if (this.electronService.isElectronApp) {\n                            this.electronService.ipcRenderer.send('SYSTEM_TRAY:::SET_BADGE', 0);\n                        }\n                        setTimeout(() => {\n                            loading.dismiss();\n                            this.userData.resetUserData();\n                            this.menuCtrl.enable(false);\n                            this.router.navigate(['/activity/5d5785b462489003817fee18']);\n                            //this.router.navigate(['/register', { slide : '0', exitType: 'slide' }]);\n                        }, 500);\n                    }, async (err) => {\n                        loading.dismiss();\n                        const networkAlert = await this.alertCtrl.create({\n                            header: 'No Internet Connection',\n                            subHeader: 'Please connect to the internet connection to complete the log out process.',\n                            buttons: ['Dismiss'],\n                            cssClass: 'level-15'\n                        });\n                        await networkAlert.present();\n                    });\n                }}, { text: 'No, I changed my mind.' }]\n        });\n        await alert.present();\n    }\n\n    async logout(event) {\n        event.stopPropagation();\n        await this.userData.logout();\n        if (this.modalPage) {\n            this.modalCtrl.dismiss();\n        }\n    }\n\n    async explainDiscover(){\n        const alert = await this.alertCtrl.create({\n            header: 'Allow to be Discovered',\n            subHeader: \"Allow others in your community to find you in the Discover Section by toggling it to 'on'. If toggled 'off', others in the community will not be able to find you.\",\n            buttons: [{ text: 'Ok'}],\n            cssClass: 'level-15'\n        });\n        await alert.present();\n    }\n\n    closeModal() {\n        if (this.modalPage) {\n            this.modalCtrl.dismiss();\n        } else {\n            this.location.back();\n        }\n    }\n\n    ngOnDestroy() {\n        this.subscriptions['refreshUserStatus'].unsubscribe(this.refreshUserStatusHandler);\n    }\n}\n"],"sourceRoot":"webpack:///"}