{"version":3,"sources":["./src/app/pages/connect/videoconference/videoconference.page.html","./src/app/pages/connect/videoconference/videoconference-routing.module.ts","./src/app/pages/connect/videoconference/videoconference.module.ts","./src/app/pages/connect/videoconference/videoconference.page.scss","./src/app/pages/connect/videoconference/videoconference.page.ts"],"names":[],"mappings":"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","file":"connect-videoconference-videoconference-module.js","sourcesContent":["export default \"<ion-content *ngIf=\\\"!platform.is('mobileweb')\\\">\\n  <div *ngIf=\\\"platform.is('cordova')\\\" style=\\\"height: 100%\\\">\\n    <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"!userData.readyToControlVideoChat\\\">\\n      <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n        <ion-spinner name=\\\"dots\\\"></ion-spinner>\\n      </ion-row>\\n    </ion-grid>\\n    <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"userData.readyToControlVideoChat\\\">\\n      <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n        <div>\\n          <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"margin-bottom: 50px\\\">\\n            <ion-img class=\\\"login-logo\\\" src=\\\"assets/img/icon.png\\\"></ion-img>\\n          </ion-row>\\n          <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-button (click)=\\\"reload()\\\" fill=\\\"clear\\\">Join Video Session</ion-button>\\n          </ion-row>\\n          <ion-row class=\\\"ion-justify-content-center\\\" *ngIf=\\\"!authService.token\\\">\\n            <ion-button (click)=\\\"goToHome()\\\" fill=\\\"clear\\\">Go to Home</ion-button>\\n          </ion-row>\\n        </div>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n  <div *ngIf=\\\"!platform.is('cordova')\\\" style=\\\"height: 100%\\\">\\n    <div id=\\\"videoConference\\\" *ngIf=\\\"!videoEnded\\\"></div>\\n    <ion-grid style=\\\"height: 100%\\\" *ngIf=\\\"videoEnded\\\">\\n      <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n        <ion-list>\\n          <ion-row class=\\\"ion-justify-content-center ion-margin-bottom\\\">\\n            <ion-label>Your Have Left the Video Session</ion-label>\\n          </ion-row>\\n          <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-button (click)=\\\"reload()\\\" fill=\\\"clear\\\">Rejoin Video Session</ion-button>\\n          </ion-row>\\n          <ion-row class=\\\"ion-justify-content-center\\\">\\n            <ion-button (click)=\\\"goToHome()\\\" fill=\\\"clear\\\">Go to Home</ion-button>\\n          </ion-row>\\n        </ion-list>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n</ion-content>\\n<ion-content *ngIf=\\\"platform.is('mobileweb')\\\">\\n  <ion-grid style=\\\"height: 100%\\\">\\n    <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\" style=\\\"height: 100%\\\">\\n      <div>\\n        <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"margin-bottom: 50px\\\">\\n          <ion-img class=\\\"login-logo\\\" src=\\\"assets/img/icon.png\\\"></ion-img>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"margin: 30px 10%\\\">\\n          <ion-card-subtitle class=\\\"ion-text-center\\\">You need the Restvo mobile app to join this meeting on your phone.</ion-card-subtitle>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-button *ngIf=\\\"platform.is('android')\\\" href=\\\"https://play.google.com/store/apps/details?id=com.restvo.app\\\">Download the app</ion-button>\\n          <ion-button *ngIf=\\\"platform.is('ios')\\\" href=\\\"https://itunes.apple.com/us/app/restvo-connect-with-churches/id1365903479?ls=1&mt=8\\\">Download the app</ion-button>\\n          <ion-button *ngIf=\\\"!platform.is('ios') && !platform.is('android')\\\" routerLink=\\\"https://restvo.com\\\">Download the app</ion-button>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-button (click)=\\\"location.back()\\\" fill=\\\"clear\\\">Continue to the app</ion-button>\\n        </ion-row>\\n      </div>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VideoconferencePage } from './videoconference.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VideoconferencePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VideoconferencePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VideoconferencePageRoutingModule } from './videoconference-routing.module';\n\nimport { VideoconferencePage } from './videoconference.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VideoconferencePageRoutingModule\n  ],\n  declarations: [VideoconferencePage]\n})\nexport class VideoconferencePageModule {}\n","export default \"app-videoconference #videoConference {\\n  background-color: var(--ion-color-secondary);\\n  border: none;\\n  height: 100%;\\n}\\napp-videoconference .login-logo {\\n  max-width: 25%;\\n  margin: 0 auto;\\n}\\napp-videoconference .welcome-name {\\n  font-size: 20px;\\n  margin: 2% auto 0 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2Nvbm5lY3QvdmlkZW9jb25mZXJlbmNlL3ZpZGVvY29uZmVyZW5jZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2Nvbm5lY3QvdmlkZW9jb25mZXJlbmNlL3ZpZGVvY29uZmVyZW5jZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSw0Q0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FDQUo7QURHRTtFQUNFLGNBQUE7RUFDQSxjQUFBO0FDREo7QURJRTtFQUNFLGVBQUE7RUFFQSxzQkFBQTtBQ0hKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY29ubmVjdC92aWRlb2NvbmZlcmVuY2UvdmlkZW9jb25mZXJlbmNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC12aWRlb2NvbmZlcmVuY2Uge1xuICAjdmlkZW9Db25mZXJlbmNlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmxvZ2luLWxvZ28ge1xuICAgIG1heC13aWR0aDogMjUlO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgLndlbGNvbWUtbmFtZSB7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIC8vY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIG1hcmdpbjogMiUgYXV0byAwIGF1dG87XG4gIH1cbn1cbiIsImFwcC12aWRlb2NvbmZlcmVuY2UgI3ZpZGVvQ29uZmVyZW5jZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICBib3JkZXI6IG5vbmU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC12aWRlb2NvbmZlcmVuY2UgLmxvZ2luLWxvZ28ge1xuICBtYXgtd2lkdGg6IDI1JTtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtdmlkZW9jb25mZXJlbmNlIC53ZWxjb21lLW5hbWUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIG1hcmdpbjogMiUgYXV0byAwIGF1dG87XG59Il19 */\"","import {Component, OnDestroy, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {Resource} from '../../../services/resource.service';\nimport {get} from \"scriptjs\";\nimport {Location} from \"@angular/common\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {MenuController, Platform} from \"@ionic/angular\";\nimport {UserData} from \"../../../services/user.service\";\nimport {Chat} from \"../../../services/chat.service\";\nimport {Auth} from \"../../../services/auth.service\";\nimport {Plugins} from \"@capacitor/core\";\nconst { Jitsi } = Plugins;\n\ndeclare var JitsiMeetExternalAPI: any;\n\n@Component({\n  selector: 'app-videoconference',\n  templateUrl: './videoconference.page.html',\n  styleUrls: ['./videoconference.page.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class VideoconferencePage implements OnInit, OnDestroy {\n  @ViewChild('videoConference', {static: false}) videoConference: any;\n\n  videoChatRoomId: any;\n  videoChatRoomSubject = ' ';\n  channelLastN = '6'; // only the last 6 active dominate speakers' stream will be sent\n  startWithAudioMuted = false;\n  startWithVideoMuted = false;\n\n  subscriptions: any = {};\n\n  jitsi: any = {};\n  videoEnded = false;\n\n  constructor(\n      public platform: Platform,\n      public location: Location,\n      private router: Router,\n      private menuCtrl: MenuController,\n      private route: ActivatedRoute,\n      private resourceService: Resource,\n      private authService: Auth,\n      private userData: UserData,\n      private chatService: Chat\n  ) { }\n\n  async ngOnInit() {\n    this.authService.cachedRouteParams = this.route.snapshot.params;\n    this.videoChatRoomId = this.route.snapshot.paramMap.get('id');\n    this.videoChatRoomSubject = this.route.snapshot.paramMap.get('videoChatRoomSubject') || this.videoChatRoomSubject;\n    this.channelLastN = this.route.snapshot.paramMap.get('channelLastN') || this.channelLastN;\n    this.startWithAudioMuted = this.route.snapshot.paramMap.get('startWithAudioMuted') === 'true';\n    this.startWithVideoMuted = this.route.snapshot.paramMap.get('startWithVideoMuted') === 'true';\n    this.subscriptions['userLoaded'] = this.userData.refreshUserStatus$.subscribe(this.userLoadedHander);\n  }\n\n  ionViewWillEnter() { // for unauthenticated user joining after the re-routing by Angular router\n    if (!this.router.url.includes('app/video') && !this.platform.is('cordova') && !this.userData.videoChatRoomId && this.userData.readyToControlVideoChat) {\n      this.initializeVideoConference();\n    }\n  }\n\n  userLoadedHander = () => { // for authenticated user joining when the observable is first subscribed to\n    if (this.userData.user && this.authService.token && !this.platform.is('cordova') && !this.userData.videoChatRoomId && this.userData.readyToControlVideoChat) {\n      this.initializeVideoConference();\n    }\n  };\n\n  async initializeVideoConference() {\n    this.userData.readyToControlVideoChat = false;\n    setTimeout(() => {\n      this.userData.readyToControlVideoChat = true;\n    }, this.platform.is('cordova') ? 2000 : 10000); // default video chat load timeout = 2 sec for mobile plugin, 10s for desktop. it needs shorter load time because TODO: onJitsiUnloaded is not working on mobile plugin so needs to manually readyToControlVideoChat to true after 2 sec\n    const videoEndpoint: any = await this.resourceService.assignVideoEndpoint(this.videoChatRoomId);\n    if (this.platform.is('cordova')) { // native device, open jitsi capacitor plugin\n      await Jitsi.joinConference({\n        roomName: this.videoChatRoomId,\n        url: videoEndpoint.ssl + videoEndpoint.url,\n        channelLastN: this.channelLastN,\n        startWithAudioMuted: this.startWithAudioMuted,\n        startWithVideoMuted: this.startWithVideoMuted\n      });\n      window.addEventListener('onConferenceJoined', this.onJitsiLoaded);\n      window.addEventListener('onConferenceLeft', this.onJitsiUnloaded);\n    } else if (!this.platform.is('mobileweb')) { // desktop app\n      get('https://meet.jit.si/external_api.js', () => {\n        const domain = videoEndpoint.url;\n        const options = {\n          roomName: this.videoChatRoomId,\n          width: '100%',\n          height: '100%',\n          parentNode: document.querySelector('#videoConference'),\n          configOverwrite: {\n            channelLastN: parseInt(this.channelLastN || '-1', 10),\n            startWithAudioMuted: this.startWithAudioMuted,\n            startWithVideoMuted: this.startWithVideoMuted,\n            externalConnectUrl: 'https://app.restvo.com/video/' + this.videoChatRoomId\n          },\n          interfaceConfigOverwrite: {\n            APP_NAME: 'Restvo Video',\n            NATIVE_APP_NAME: 'Restvo',\n            SHOW_JITSI_WATERMARK: false,\n            SHOW_BRAND_WATERMARK: true,\n            BRAND_WATERMARK_LINK: 'https://wee.nyc3.cdn.digitaloceanspaces.com/app/icon_email.png',\n            DEFAULT_REMOTE_DISPLAY_NAME: 'Restvo friend',\n            ENABLE_FEEDBACK_ANIMATION: false,\n            TOOLBAR_BUTTONS: [\n              'microphone', 'camera', 'closedcaptions', 'desktop', 'fullscreen',\n              'fodeviceselection', 'hangup', 'profile', 'info', 'recording',\n              'livestreaming', 'etherpad', 'sharedvideo', 'settings', 'raisehand',\n              'videoquality', 'filmstrip', 'invite', 'stats', 'shortcuts',\n              'tileview'\n            ],\n            MOBILE_APP_PROMO: false\n          },\n          onload: this.onJitsiLoaded()\n        };\n        this.jitsi = new JitsiMeetExternalAPI(domain, options);\n      });\n    }\n  }\n\n  onJitsiLoaded = async () => {\n    console.log('loaded Jitsi');\n    this.userData.readyToControlVideoChat = true;\n    this.userData.videoChatRoomId = this.videoChatRoomId;\n    if (!this.platform.is('cordova')) {\n      setTimeout(async () => {\n        if (this.userData && this.userData.user) {\n          this.jitsi.executeCommand('displayName', this.userData.user.first_name + ' ' + this.userData.user.last_name);\n        }\n        if (this.userData && this.userData.user && this.userData.user.avatar) {\n          this.jitsi.executeCommand('avatarUrl', this.userData.user.avatar);\n        }\n        this.jitsi.executeCommand('subject', (this.videoChatRoomSubject || ' '));\n        this.jitsi.on('readyToClose', this.onJitsiUnloaded);\n      }, 1000);\n      if (this.authService.token && await this.userData.checkRestExpired()) { this.chatService.socket.emit('online status', this.videoChatRoomId, this.userData.user._id, { action: 'ping', state: 'online', origin: this.chatService.socket.id, videoChatRoomId: this.videoChatRoomId }); }\n    }\n  }\n\n  onJitsiUnloaded = async () => {\n    console.log('unloading Jitsi');\n    this.userData.readyToControlVideoChat = true;\n    if (this.authService.token && await this.userData.checkRestExpired()) {\n      this.chatService.socket.emit('online status', this.videoChatRoomId, this.userData.user._id, { action: 'ping', state: 'leave video chat', origin: this.chatService.socket.id, videoChatRoomId: this.videoChatRoomId });\n    }\n    this.userData.videoChatRoomId = '';\n    if (this.platform.is('cordova')) {\n      window.removeEventListener('onConferenceJoined', this.onJitsiLoaded);\n      window.removeEventListener('onConferenceLeft', this.onJitsiUnloaded);\n    } else {\n      await this.jitsi.dispose();\n      // @ts-ignore\n      $(`#videoConference`).empty();\n      this.videoEnded = true;\n    }\n  };\n\n  reload() {\n    if (this.platform.is('cordova') && !this.userData.videoChatRoomId && this.userData.readyToControlVideoChat) {\n      this.initializeVideoConference();\n    } else {\n      window.location.reload();\n    }\n  }\n\n  async goToHome() {\n    await this.menuCtrl.enable(this.userData.user);\n    this.router.navigateByUrl('/activity/5d5785b462489003817fee18');\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions['userLoaded'].unsubscribe(this.userLoadedHander);\n  }\n}\n"],"sourceRoot":"webpack:///"}