(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		"stencil-ion-action-sheet-ios-entry-js"
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		"stencil-ion-action-sheet-md-entry-js"
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		"stencil-ion-alert-ios-entry-js"
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		"stencil-ion-alert-md-entry-js"
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		"common",
		"stencil-ion-app_8-ios-entry-js"
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		"common",
		"stencil-ion-app_8-md-entry-js"
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		"stencil-ion-avatar_3-ios-entry-js"
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		"stencil-ion-avatar_3-md-entry-js"
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		"stencil-ion-back-button-ios-entry-js"
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		"stencil-ion-back-button-md-entry-js"
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		"stencil-ion-backdrop-ios-entry-js"
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		"stencil-ion-backdrop-md-entry-js"
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		"stencil-ion-button_2-ios-entry-js"
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		"stencil-ion-button_2-md-entry-js"
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		"stencil-ion-card_5-ios-entry-js"
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		"stencil-ion-card_5-md-entry-js"
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		"stencil-ion-checkbox-ios-entry-js"
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		"stencil-ion-checkbox-md-entry-js"
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		"stencil-ion-chip-ios-entry-js"
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		"stencil-ion-chip-md-entry-js"
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		"stencil-ion-col_3-entry-js"
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		"stencil-ion-datetime_3-ios-entry-js"
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		"stencil-ion-datetime_3-md-entry-js"
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		"stencil-ion-fab_3-ios-entry-js"
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		"stencil-ion-fab_3-md-entry-js"
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		"stencil-ion-img-entry-js"
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		"stencil-ion-infinite-scroll_2-ios-entry-js"
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		"stencil-ion-infinite-scroll_2-md-entry-js"
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		"stencil-ion-input-ios-entry-js"
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		"stencil-ion-input-md-entry-js"
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		"stencil-ion-item-option_3-ios-entry-js"
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		"stencil-ion-item-option_3-md-entry-js"
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		"stencil-ion-item_8-ios-entry-js"
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		"stencil-ion-item_8-md-entry-js"
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		"stencil-ion-loading-ios-entry-js"
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		"stencil-ion-loading-md-entry-js"
	],
	"./ion-menu_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_3-ios.entry.js",
		"common",
		"stencil-ion-menu_3-ios-entry-js"
	],
	"./ion-menu_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_3-md.entry.js",
		"common",
		"stencil-ion-menu_3-md-entry-js"
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		"common",
		"stencil-ion-modal-ios-entry-js"
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		"common",
		"stencil-ion-modal-md-entry-js"
	],
	"./ion-nav_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_2.entry.js",
		"common",
		"stencil-ion-nav_2-entry-js"
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		"common",
		"stencil-ion-popover-ios-entry-js"
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		"common",
		"stencil-ion-popover-md-entry-js"
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		"stencil-ion-progress-bar-ios-entry-js"
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		"stencil-ion-progress-bar-md-entry-js"
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		"stencil-ion-radio_2-ios-entry-js"
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		"stencil-ion-radio_2-md-entry-js"
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		"stencil-ion-range-ios-entry-js"
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		"stencil-ion-range-md-entry-js"
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		"stencil-ion-refresher_2-ios-entry-js"
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		"stencil-ion-refresher_2-md-entry-js"
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		"stencil-ion-reorder_2-ios-entry-js"
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		"stencil-ion-reorder_2-md-entry-js"
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		"stencil-ion-ripple-effect-entry-js"
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		"stencil-ion-route_4-entry-js"
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		"stencil-ion-searchbar-ios-entry-js"
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		"stencil-ion-searchbar-md-entry-js"
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		"stencil-ion-segment_2-ios-entry-js"
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		"stencil-ion-segment_2-md-entry-js"
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		"stencil-ion-select_3-ios-entry-js"
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		"stencil-ion-select_3-md-entry-js"
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		"stencil-ion-slide_2-ios-entry-js"
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		"stencil-ion-slide_2-md-entry-js"
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		"stencil-ion-spinner-entry-js"
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		"stencil-ion-split-pane-ios-entry-js"
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		"stencil-ion-split-pane-md-entry-js"
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		"stencil-ion-tab-bar_2-ios-entry-js"
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		"stencil-ion-tab-bar_2-md-entry-js"
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		"common",
		"stencil-ion-tab_2-entry-js"
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		"stencil-ion-text-entry-js"
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		"stencil-ion-textarea-ios-entry-js"
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		"stencil-ion-textarea-md-entry-js"
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		"stencil-ion-toast-ios-entry-js"
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		"stencil-ion-toast-md-entry-js"
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		"stencil-ion-toggle-ios-entry-js"
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		"stencil-ion-toggle-md-entry-js"
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		"stencil-ion-virtual-scroll-entry-js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
/*!**************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-app>\n  <ion-split-pane contentId=\"main-app\" [when]=\"userData.splitPaneState\">\n    <ion-menu menuId=\"main\" side=\"start\" contentId=\"main-app\" mode=\"md\" type=\"overlay\">\n      <ion-content>\n        <ion-toolbar class=\"title-container\" id=\"main-menu-toolbar\">\n          <ion-item>\n            <ion-label>Restvo</ion-label>\n            <!--<ion-label *ngIf=\"!userData.defaultProgram\">Restvo</ion-label>\n            <ion-label *ngIf=\"userData.defaultProgram\">{{userData.defaultProgram.matrix_string[0][0]}}</ion-label>-->\n          </ion-item>\n        </ion-toolbar>\n        <ion-list>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/dashboard/insight/' + userData.defaultProgram._id]\" *ngIf=\"userData.defaultProgram && userData.UIAdminMode && (userData.defaultProgram.user_list_2.includes(userData.user._id) || userData.defaultProgram.user_list_3.includes(userData.user._id))\">\n              <ion-icon slot=\"start\" ios=\"people-sharp\" md=\"people-sharp\"></ion-icon>\n              <ion-label>Dashboard</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/discover/home/' + userData.defaultProgram._id]\" *ngIf=\"userData.defaultProgram && (!userData.UIAdminMode || (!userData.defaultProgram.user_list_2.includes(userData.user._id) && !userData.defaultProgram.user_list_3.includes(userData.user._id)))\">\n              <ion-icon slot=\"start\" ios=\"people-sharp\" md=\"people-sharp\"></ion-icon>\n              <ion-label>Dashboard</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/discover']\" *ngIf=\"!userData.defaultProgram\">\n              <ion-icon slot=\"start\" ios=\"people-sharp\" md=\"people-sharp\"></ion-icon>\n              <ion-label>Discover</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item slot=\"start\" [routerLink]=\"['/app/news']\" *ngIf=\"!userData.UIAdminMode\">\n              <ion-icon slot=\"start\" name=\"newspaper\"></ion-icon>\n              <ion-label>News</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/myconversations']\">\n              <ion-icon slot=\"start\" name=\"chatbox\"></ion-icon>\n              <ion-label>Chat</ion-label>\n              <ion-badge *ngIf=\"chatService && chatService.connectTabBadge\" slot=\"end\" mode=\"md\">{{chatService.connectTabBadge}}</ion-badge>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/me']\">\n              <ion-icon slot=\"start\" ios=\"person-sharp\" md=\"person-sharp\"></ion-icon>\n              <ion-label>Me</ion-label>\n              <ion-badge [color]=\"userData.UIrestStatus === 'active' ? 'tertiary' : 'primary'\" (click)=\"chatService.toggleRestStatus($event)\" *ngIf=\"chatService && userData.user\">\n                {{userData.UIrestStatus}}\n              </ion-badge>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/manage']\">\n              <ion-icon slot=\"start\" name=\"bulb\"></ion-icon>\n              <ion-label>Manage</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item [routerLink]=\"['/app/user/profile']\">\n              <ion-icon slot=\"start\" name=\"cog\"></ion-icon>\n              <ion-label>\n                Settings\n              </ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n          <ion-item>\n            <ion-label class=\"ion-text-wrap\">Mentoring Mode</ion-label>\n            <ion-toggle [(ngModel)]=\"userData.UIAdminMode\" (ionChange)=\"toggleAdminMode()\"></ion-toggle>\n          </ion-item>\n\n          <div *ngIf=\"userData.developerModeClick > 2 || networkService.domain !== 'https://server.restvo.com'\">\n            <ion-list-header>Developer Mode</ion-list-header>\n            <ion-item>\n              <ion-label position=\"stacked\">Backend:</ion-label>\n              <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" class=\"developer-selector\" [(ngModel)]=\"networkService.domain\" (ionChange)=\"saveToLocalStorage()\">\n                <ion-select-option value=\"https://server.restvo.com\" class=\"ion-text-wrap\">Production Server</ion-select-option>\n                <ion-select-option value=\"https://server.dev.restvo.com\" class=\"ion-text-wrap\">Development Cron Server (4010)</ion-select-option>\n                <ion-select-option value=\"https://server1.dev.restvo.com\" class=\"ion-text-wrap\">11 Dev Server (4011)</ion-select-option>\n                <ion-select-option value=\"https://server2.dev.restvo.com\" class=\"ion-text-wrap\">12 Dev Server (4012)</ion-select-option>\n                <ion-select-option value=\"https://server3.dev.restvo.com\" class=\"ion-text-wrap\">13 Dev Server (4013)</ion-select-option>\n                <ion-select-option value=\"https://server4.dev.restvo.com\" class=\"ion-text-wrap\">14 Dev Server (4014)</ion-select-option>\n              </ion-select>\n            </ion-item>\n            <ion-item>\n              <p style=\"font-size: 12px; color: var(--ion-color-dark)\">Address: {{networkService.domain}}</p>\n            </ion-item>\n          </div>\n        </ion-list>\n        <div style=\"height: 100px;\" *ngIf=\"userData.developerModeClick < 3 && networkService.domain === 'https://server.restvo.com'\" (click)=\"userData.developerModeClick = userData.developerModeClick + 1\"></div>\n      </ion-content>\n    </ion-menu>\n    <ion-router-outlet id=\"main-app\" [swipeGesture]=\"false\"></ion-router-outlet>\n  </ion-split-pane>\n</ion-app>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/focus-photo/focus-photo.page.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/focus-photo/focus-photo.page.html ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"modalCtrl.dismiss()\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{filename}}</ion-title>\n    <ion-buttons slot=\"end\">\n      <a [href]=\"imageUri\" download>\n        <ion-button color=\"dark\">Save</ion-button>\n      </a>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <pinch-zoom class=\"container\">\n    <img [src]=\"imageUri\">\n  </pinch-zoom>\n</ion-content>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.html":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.html ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-content>\n  <ion-grid style=\"height: 100%\" *ngIf=\"!loadCompleted\">\n    <ion-row class=\"ion-justify-content-start ion-align-items-center\" style=\"height: 100%\">\n      <ion-spinner name=\"dots\"></ion-spinner>\n    </ion-row>\n  </ion-grid>\n  <ion-list class=\"ion-no-padding\">\n    <ion-toolbar class=\"header-toolbar\" lines=\"none\">\n      <ion-buttons class=\"header-buttons\" slot=\"start\">\n        <ion-button (click)=\"closeModal()\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n      </ion-buttons>\n    </ion-toolbar>\n    <div *ngIf=\"recipient\">\n      <div>\n        <ion-item lines=\"none\">\n          <div class=\"image-cropper\">\n            <img *ngIf=\"recipient.avatar\" [src]=\"recipient.avatar\" onerror=\"this.src='assets/img/avatar-default.jpg'\"/>\n            <img *ngIf=\"!recipient.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n          </div>\n        </ion-item>\n        <ion-item lines=\"none\">\n          <p class=\"name ion-text-center ion-text-md-uppercase\">{{recipient.first_name}} {{recipient.last_name}} <span *ngIf=\"recipient.role === 'Contact' || recipient.role === 'Pending'\">{{recipient.name}}</span></p>\n        </ion-item>\n        <ion-row class=\"ion-justify-content-center ion-text-md-uppercase ion-margin-bottom\">\n          <ion-badge shape=\"round\">{{recipient.role}}</ion-badge>\n        </ion-row>\n        <div *ngFor=\"let program of result.programs\">\n          <div *ngIf=\"program._id === '5d5785b462489003817fee18'\">\n            <ion-item class=\"section\" color=\"lightgrey\" lines=\"none\"> <!--section header-->\n              <ion-label class=\"section-label\" color=\"darkgrey\">About Me</ion-label>\n            </ion-item>\n            <div *ngFor=\"let leader of program.leader\" style=\"margin: 0 16px\">\n              <div class=\"question-answer-container\">\n                <div *ngIf=\"leader._id === 1570150762856667\" class=\"question\">I am...</div>\n                <div *ngIf=\"leader._id !== 1570150762856667\" class=\"question\">{{leader.question}}</div>\n                <div *ngFor=\"let answer of leader.user_answer\">\n                  <div class=\"answer\" [innerHTML]=\"answer | nl2br\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <ion-item class=\"section\" color=\"lightgrey\" lines=\"none\"> <!--section header-->\n          <ion-label class=\"section-label\" color=\"darkgrey\">Programs</ion-label>\n        </ion-item>\n        <ion-grid class=\"program-grid\">\n          <ion-row class=\"program-row\">\n            <ion-col class=\"ion-align-self-center\" *ngFor=\"let program of result.programs\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\" [hidden]=\"program._id === '5d5785b462489003817fee18'\">\n              <ion-card class=\"program-card\" (click)=\"selectedProgram = program._id\">   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n                <ion-card-header class=\"ion-no-padding\">\n                  <div class=\"program-photo-container\" [ngClass]=\"{'opacity': program._id !== selectedProgram }\">\n                    <ion-img class=\"program-photo\" [src]=\"(program.assets && program.assets[0]) | background: program._id\"></ion-img>\n                  </div>\n                  <!--<ion-label class=\"program-name\">{{program.matrix_string[0][0]}}</ion-label>-->\n                </ion-card-header>\n                <div class=\"program-name\">{{program.name}}</div>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n        <div *ngFor=\"let program of result.programs\">\n          <div *ngIf=\"selectedProgram === program._id\">\n            <ion-item>\n              {{program.name}}\n              <ion-button shape=\"round\" (click)=\"openProgram(program._id)\" slot=\"end\">Learn More</ion-button>\n            </ion-item>\n            <div *ngFor=\"let leader of program.leader\" style=\"margin-left: 16px\">\n              <div class=\"question-answer-container\" *ngIf=\"leader.user_answer?.length && leader.user_answer[0].length\">\n                <div class=\"question\">{{leader.question}}</div>\n                <div *ngFor=\"let answer of leader.user_answer\">\n                  <div class=\"answer\" [innerHTML]=\"answer | nl2br\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div *ngIf=\"userData.currentCommunityAdminStatus && recipient.reportStatus?.length\">\n          <ion-item class=\"ion-text-wrap\">\n            <ion-label class=\"label-title\" color=\"danger\">Abuse Report Status</ion-label>\n            <ion-badge color=\"primary\">{{recipient.reportStatus}}</ion-badge>\n          </ion-item>\n          <ion-card *ngFor=\"let reportItem of recipient.reportHistory\">\n            <ion-card-header>\n              <ion-card-title>\n                Report Received on {{reportItem.reportedAt | datetime: 'm:l,d:n,y:n'}}\n              </ion-card-title>\n            </ion-card-header>\n            <ion-card-content>\n              <ion-item lines=\"none\">\n                <ion-label class=\"label-title\">Report Detail</ion-label>\n                <ion-label class=\"user-detail ion-text-wrap\">{{reportItem.report}}</ion-label>\n              </ion-item>\n            </ion-card-content>\n          </ion-card>\n          <ion-row><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"clearAbuseReport()\">Clear Report<span *ngIf=\"recipient.reportHistory?.length > 1\">s</span></ion-button></ion-col></ion-row>\n          <ion-row *ngIf=\"!isConnected\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='danger' (click)=\"blockUserFromCommunity()\">Block User from Community</ion-button></ion-col></ion-row>\n        </div>\n        <div>\n          <ion-item [hidden]=\"!recipient.email\">\n            <ion-label class=\"label-title\" >Email</ion-label>\n            <ion-label class=\"user-detail ion-text-wrap\">{{recipient.email}}</ion-label>\n          </ion-item>\n          <ion-item [hidden]=\"!recipient.mobile\" (click)=\"callAction(recipient.mobile)\" class=\"ion-text-wrap\">\n            <ion-label class=\"label-title\">Mobile</ion-label>\n            <ion-label class=\"user-detail\">{{recipient.mobile}}</ion-label>\n          </ion-item>\n          <ion-item [hidden]=\"!recipient.mobile_phone || (recipient.mobile === recipient.mobile_phone)\" (click)=\"callAction(recipient.mobile_phone)\" class=\"ion-text-wrap\">\n            <ion-label class=\"label-title\">Mobile</ion-label>\n            <ion-label class=\"user-detail\">{{recipient.mobile_phone}}</ion-label>\n          </ion-item>\n          <ion-item [hidden]=\"!recipient.home_phone\" (click)=\"callAction(recipient.home_phone)\" class=\"ion-text-wrap\">\n            <ion-label class=\"label-title\">Home</ion-label>\n            <ion-label class=\"user-detail\">{{recipient.home_phone}}</ion-label>\n          </ion-item>\n          <ion-item [hidden]=\"!(recipient.street || recipient.city || recipient.state || recipient.zip)\">\n            <ion-label class=\"label-title\">Address</ion-label>\n            <ion-label class=\"user-detail ion-text-wrap\">{{recipient.street}} {{recipient.city}} {{recipient.state}} {{recipient.zip}}</ion-label>\n          </ion-item>\n        </div>\n        <div class=\"padding-horizontal\" *ngIf=\"isConnected && !isBlocked && (recipient._id !== userData.user._id)\">\n          <ion-row *ngIf=\"!recipientHasSharedContact\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"createContactMessage(2)\">Request Contact Info</ion-button></ion-col></ion-row>\n        </div>\n      </div>\n      <div class=\"padding-horizontal\" *ngIf=\"userData.user && (recipient._id !== userData.user._id) && loadCompleted && (recipient.role !== 'Contact' || recipient.role === 'Pending')\" [hidden]=\"manageMode === false\">\n        <ion-item class=\"section\" color=\"lightgrey\" lines=\"none\"> <!--section header-->\n          <ion-label class=\"section-label\" color=\"darkgrey\">Relationship Actions</ion-label>\n        </ion-item>\n        <ion-row *ngIf=\"isConnected && !isBlocked\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"messageRecipient()\">Message</ion-button></ion-col></ion-row>\n        <ion-row *ngIf=\"!isConnected\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"messageRecipient()\">Add as Friend</ion-button></ion-col></ion-row>\n        <ion-row *ngIf=\"!userHasSharedContact && isConnected && !isBlocked\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"shareContactInfo()\">Share My Contact Info</ion-button></ion-col></ion-row>\n        <ion-row *ngIf=\"userHasSharedContact && isConnected && !isBlocked\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='warning' (click)=\"shareContactInfo()\">Turn Off Sharing My Contact Info</ion-button></ion-col></ion-row>\n        <!--<ion-row *ngIf=\"!isBlocked\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"inviteToGroup()\">Invite to Group</ion-button></ion-col></ion-row>-->\n        <ion-row *ngIf=\"!isBlocked\"><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='primary' (click)=\"createRelationship()\">Create Relationship</ion-button></ion-col></ion-row>\n        <ion-row><ion-col><ion-button expand='full' size=\"small\" shape=\"round\" color='warning' (click)=\"reportUserAbuse($event)\">Report {{recipient.first_name}}</ion-button></ion-col></ion-row>\n      </div>\n\n      <div style=\"margin-top: 5px;\" *ngIf=\"userData.currentCommunityAdminStatus && manageMode\">\n        <ion-item class=\"section\" color=\"lightgrey\" lines=\"none\"> <!--section header-->\n          <ion-label class=\"section-label\" color=\"darkgrey\">Management</ion-label>\n        </ion-item>\n        <ion-item class=\"ion-text-wrap\">\n          Grant permission to let {{recipient.first_name}} manage {{userData.user.churches[userData.currentCommunityIndex].name}}.\n        </ion-item>\n        <ion-item>\n          <ion-label>Administrator</ion-label>\n          <ion-toggle [(ngModel)]=\"appUserIsAdmin\" (ionChange)=\"toggleAdminStatus()\" disabled={{!manageMode}}></ion-toggle>\n        </ion-item>\n      </div>\n    </div>\n  </ion-list>\n</ion-content>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/createfeature/createfeature.page.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/createfeature/createfeature.page.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header no-border id=\"createfeature-header\">\n  <ion-toolbar *ngIf=\"resource && resource._id && moment.resource && moment.resource.field\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"closeModal(false)\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title class=\"ion-text-wrap\">{{moment.matrix_string[0][0] || 'Create Community'}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"resource && resource._id && moment.resource && moment.resource.field && moment.resource.matrix_number.length\">\n  <ion-slides [options]=\"slidesOpts\" (ionSlideWillChange)=\"changeSlide('create')\" pager *ngIf=\"view === 'create'\">\n    <!--Collect Community Name-->\n    <ion-slide *ngIf=\"moment.resource.matrix_number[0].indexOf(10000) > -1\">\n      <ion-grid class=\"slide-grid\">\n        <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\">\n          <ion-col>\n            <ion-item lines=\"none\">\n              <div style=\"font-size: 14px\" class=\"ion-text-wrap\">{{resource['en-US'].value[37]}}</div>\n            </ion-item>\n            <ion-item lines=\"none\">\n              <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"brush\"></ion-icon></div>\n              <ion-textarea [(ngModel)]=\"moment.matrix_string[moment.resource.matrix_number[0].indexOf(10000)][0]\" rows=\"1\" [minRows]=\"1\" [maxRows]=\"2\" autosize autocorrect=\"on\" [placeholder]=\"moment.resource['en-US'].value[0] + ' ' + moment.resource['en-US'].matrix_string[0][1]\" ></ion-textarea>\n            </ion-item>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <ion-slide>\n      <ion-grid class=\"slide-grid\">\n        <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\">\n          <ion-col class=\"ion-align-self-center\">\n            <ion-item lines=\"none\">\n              <div style=\"font-size: 14px\" class=\"ion-text-wrap\">Choose Programs for Your Community:</div>\n            </ion-item>\n            <ion-grid>\n              <ion-row class=\"ion-justify-content-center ion-align-items-center\">\n                <ion-col class=\"ion-align-self-center\" *ngFor=\"let referenceActivity of referenceActivities; index as j; trackBy: customTrackBy\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"openPlanModule(j)\">\n                    <ion-card-header class=\"ion-no-padding\">\n                      <div class=\"program-photo-container\">\n                        <ion-img class=\"program-photo\" [src]=\"(referenceActivity.assets && referenceActivity.assets[0]) | background: referenceActivity._id\"></ion-img>\n                      </div>\n                    </ion-card-header>\n                    <div class=\"program-name light\">{{referenceActivity.matrix_string[0][0]}}</div>\n                    <ion-button class=\"remove-moment ion-no-padding ion-no-margin\" (click)=\"removePlanItem($event, j)\" fill=\"clear\" size=\"small\">\n                      <ion-icon name=\"close\" color=\"secondary\"></ion-icon>\n                    </ion-button>\n                  </ion-card>\n                </ion-col>\n                <ion-col class=\"ion-align-self-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"addPlanItem()\">\n                    <ion-card-header class=\"ion-no-padding\" color=\"lightgrey\">\n                      <ion-row class=\"program-photo-container ion-justify-content-center ion-align-items-center\">\n                        <ion-icon name=\"add\" color=\"darkgrey\"></ion-icon>\n                      </ion-row>\n                    </ion-card-header>\n                    <div class=\"program-name dark\">Add Program</div>\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <ion-slide> <!--Edit Form-->\n      <ion-grid class=\"slide-grid\">\n        <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\">\n          <ion-col>\n            <ion-item lines=\"none\"> <!--Summary-->\n              <div class=\"moment-label\" style=\"font-style: italic; color: var(--ion-color-darkgrey)\" slot=\"start\">Here is a summary of your community:</div>\n            </ion-item>\n            <ion-item lines=\"none\"> <!--Name-->\n              <ion-label class=\"summary-label\">Name:</ion-label>\n              <ion-input class=\"ion-text-start\" type=\"text\" [(ngModel)]=\"moment.matrix_string[moment.resource.matrix_number[0].indexOf(10000)][0]\"></ion-input>\n            </ion-item>\n            <ion-item lines=\"none\"> <!--Description-->\n              <ion-label class=\"summary-label\">Description:</ion-label>\n              <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"5\" autosize class=\"ion-text-start ion-text-wrap\" [(ngModel)]=\"moment.matrix_string[moment.resource.matrix_number[0].indexOf(10010)][0]\"></ion-textarea>\n            </ion-item>\n            <ion-item lines=\"none\" *ngIf=\"moment.assets?.length\">\n              <ion-label class=\"summary-label\">Media:</ion-label>\n            </ion-item>\n            <div *ngIf=\"moment.assets?.length\">\n              <ion-grid class=\"selected-grid\">\n                <ion-row>\n                  <ion-col *ngFor=\"let url of moment.assets; index as j\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" class=\"ion-margin-horizontal\">\n                    <div class=\"selected-item\" *ngIf=\"url\">\n                      <ion-thumbnail class=\"thumbnail-item\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n                        <ion-img [src]=\"url\"></ion-img>\n                      </ion-thumbnail>\n                      <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                      <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                      <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                      <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n                      <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n\n                      <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                      <!--<div class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"player = $event\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>-->\n                      <ion-button *ngIf=\"!url.toLowerCase().includes('youtu')\" class=\"remove-media ion-no-padding ion-no-margin\" (click)=\"removeMedia(i, j+((item === 10010 || item === 40010) ? 11 : 0))\" fill=\"clear\" size=\"small\">\n                        <ion-icon name=\"close\"></ion-icon>\n                      </ion-button>\n                      <ion-button *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"remove-video ion-no-padding ion-no-margin\" (click)=\"removeMedia(i, j+((item === 10010 || item === 40010) ? 11 : 0))\" fill=\"clear\" size=\"small\">\n                        <ion-icon name=\"close\"></ion-icon>\n                      </ion-button>\n                    </div>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </div>\n            <ion-item lines=\"none\">\n              <ion-label class=\"summary-label\">Programs:</ion-label>\n            </ion-item>\n            <ion-grid>\n              <ion-row class=\"ion-justify-content-center ion-align-items-center\">\n                <ion-col class=\"ion-align-self-center\" *ngFor=\"let referenceActivity of referenceActivities; index as j; trackBy: customTrackBy\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"openPlanModule(j)\">\n                    <ion-card-header class=\"ion-no-padding\">\n                      <div class=\"program-photo-container\">\n                        <ion-img class=\"program-photo\" [src]=\"(referenceActivity.assets && referenceActivity.assets[0]) | background: referenceActivity._id\"></ion-img>\n                      </div>\n                    </ion-card-header>\n                    <div class=\"program-name light\">{{referenceActivity.matrix_string[0][0]}}</div>\n                    <ion-button class=\"remove-moment ion-no-padding ion-no-margin\" (click)=\"removePlanItem($event, j)\" fill=\"clear\" size=\"small\">\n                      <ion-icon name=\"close\" color=\"secondary\"></ion-icon>\n                    </ion-button>\n                  </ion-card>\n                </ion-col>\n                <ion-col class=\"ion-align-self-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"addPlanItem()\">\n                    <ion-card-header class=\"ion-no-padding\" color=\"lightgrey\">\n                      <ion-row class=\"program-photo-container ion-justify-content-center ion-align-items-center\">\n                        <ion-icon name=\"add\" color=\"darkgrey\"></ion-icon>\n                      </ion-row>\n                    </ion-card-header>\n                    <div class=\"program-name dark\">Add Program</div>\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n  <!--Community Tutorial-->\n  <ion-slides [options]=\"slidesOpts\" (ionSlideWillChange)=\"changeSlide('tutorial')\" (ionSlidesDidLoad)=\"loadedTutorialSlides()\" pager *ngIf=\"view === 'tutorial' && moment._id\">\n    <!--Manage Users-->\n    <ion-slide>\n      <ion-grid class=\"slide-grid\">\n        <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\">\n          <ion-col class=\"ion-align-self-center\">\n            <ion-item lines=\"none\">\n              <div style=\"font-size: 14px\" class=\"ion-text-wrap\">Choose one to begin inviting leaders and members:</div>\n            </ion-item>\n            <ion-grid>\n              <ion-row class=\"ion-justify-content-center ion-align-items-center\">\n                <ion-col class=\"ion-align-self-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"inviteToJoinCommunity()\">\n                    <ion-card-header class=\"ion-no-padding\">\n                      <div class=\"program-photo-container\">\n                        <ion-img class=\"program-photo\" [src]=\"(moment.assets && moment.assets[0]) | background: moment._id\"></ion-img>\n                      </div>\n                    </ion-card-header>\n                    <div class=\"program-name light\">{{moment.matrix_string[0][0]}}</div>\n                  </ion-card>\n                </ion-col>\n                <ion-col class=\"ion-align-self-center\" *ngFor=\"let referenceActivity of referenceActivities; index as j; trackBy: customTrackBy\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"2\">\n                  <ion-card class=\"program-card\" (click)=\"inviteToJoinProgram(j)\">\n                    <ion-card-header class=\"ion-no-padding\">\n                      <div class=\"program-photo-container\">\n                        <ion-img class=\"program-photo\" [src]=\"(referenceActivity.assets && referenceActivity.assets[0]) | background: referenceActivity._id\"></ion-img>\n                      </div>\n                    </ion-card-header>\n                    <div class=\"program-name light\">{{referenceActivity.matrix_string[0][0]}}</div>\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <ion-slide>\n      <ion-grid class=\"slide-grid\">\n        <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\">\n          <ion-item lines=\"none\">Congratulations! You have completed the set up process for {{moment.matrix_string[0][0]}}.</ion-item>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n  <ion-grid style=\"height: 100%\" *ngIf=\"ionSpinner\">\n    <ion-row class=\"ion-justify-content-start ion-align-items-center\" style=\"height: 100%\">\n      <ion-spinner name=\"dots\"></ion-spinner>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n<ion-footer>\n  <ion-toolbar *ngIf=\"resource && resource._id && moment.resource && moment.resource.field && view === 'create'\">\n    <ion-row>\n      <ion-button *ngIf=\"!createReachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" (click)=\"clickNextButton('next')\">\n        <div>{{resource['en-US'].value[38]}}</div>\n      </ion-button>\n      <ion-button *ngIf=\"createReachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" (click)=\"saveStep1()\" [disabled]=\"!moment.matrix_string[0][0]\">\n        {{resource['en-US'].value[39]}}\n      </ion-button>\n    </ion-row>\n  </ion-toolbar>\n  <ion-toolbar *ngIf=\"resource && resource._id && moment.resource && moment.resource.field && view === 'tutorial' && moment._id\">\n    <ion-row>\n      <ion-button *ngIf=\"!tutorialReachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" (click)=\"clickNextButton('next')\">\n        <div>{{resource['en-US'].value[38]}}</div>\n      </ion-button>\n      <ion-button *ngIf=\"tutorialReachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" (click)=\"saveActivity(true)\">\n        {{resource['en-US'].value[40]}}\n      </ion-button>\n    </ion-row>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editfeature/editfeature.page.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editfeature/editfeature.page.html ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar *ngIf=\"resource && resource._id && moment.resource && moment.resource.field\">\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"closeModal(this.anyChangeMade)\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title slot=\"start\">\n      <span *ngIf=\"moment._id\">{{moment.resource['en-US'].value[0]}}</span> <!--Create-->\n      <span *ngIf=\"!moment._id && moment.resource['en-US'].value[0]?.length\">{{moment.resource['en-US'].value[0]}}</span>\n      <span *ngIf=\"!moment._id && !moment.resource['en-US'].value[0]?.length\" style=\"font-style: italic\">Template Type</span>\n    </ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"saveActivity(false)\" id=\"save-event\">{{resource['en-US'].value[4]}}</ion-button> <!--Save-->\n    </ion-buttons>\n  </ion-toolbar>\n  <ion-toolbar *ngIf=\"editTemplate && resource && resource._id && moment.resource && moment.resource.field\">\n    <ion-item>\n      <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"folder\"></ion-icon></div>\n      <ion-input style=\"font-style: italic\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\" [placeholder]=\"resource['en-US'].value[5]\" [(ngModel)]=\"moment.resource['en-US'].value[0]\"></ion-input> <!--Template Type-->\n      <ion-button (click)=\"edit()\">{{resource['en-US'].value[4]}} {{resource['en-US'].value[9]}}</ion-button> <!--Save Template-->\n    </ion-item>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"resource && resource._id && moment.resource && moment.resource.field\">\n  <ion-list [ngClass]=\"{'editTemplate': editTemplate}\">\n    <ion-item *ngIf=\"!editTemplate\"> <!--Template Name and Save Template button-->\n      <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"folder\"></ion-icon></div>\n      <ion-label *ngIf=\"!editTemplate\">{{moment.resource['en-US'].value[0]}}</ion-label>\n     <!-- <ion-input *ngIf=\"editTemplate\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\" [placeholder]=\"resource['en-US'].value[5]\" [(ngModel)]=\"moment.resource['en-US'].value[0]\"></ion-input> &lt;!&ndash;Template Type&ndash;&gt;-->\n      <ion-button (click)=\"edit()\">{{resource['en-US'].value[8]}} {{resource['en-US'].value[9]}}</ion-button> <!--Customize Template-->\n    </ion-item>\n    <ion-item-group *ngIf=\"moment.program\">\n      <ion-item>\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n        <ion-label>Program Id</ion-label>\n        <ion-label class=\"moment-input\">{{moment.program}}</ion-label>\n      </ion-item>\n      <ion-item lines=\"none\">\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n        <ion-label>Onboarding Type</ion-label>\n      </ion-item>\n      <ion-item-group class=\"ion-margin-left\" lines=\"full\">\n        <ion-item lines=\"none\">\n          <ion-label class=\"ion-margin-left\">Participant Onboarding</ion-label>\n          <ion-checkbox [(ngModel)]=\"moment.array_boolean[2]\"></ion-checkbox>\n        </ion-item>\n        <ion-item lines=\"none\">\n          <ion-label class=\"ion-margin-left\">Leader Onboarding</ion-label>\n          <ion-checkbox [(ngModel)]=\"moment.array_boolean[4]\"></ion-checkbox>\n        </ion-item>\n        <ion-item lines=\"none\">\n          <ion-label class=\"ion-margin-left\">Organizer Onboarding</ion-label>\n          <ion-checkbox [(ngModel)]=\"moment.array_boolean[3]\"></ion-checkbox>\n        </ion-item>\n      </ion-item-group>\n      <ion-item> <!--Advanced Features: TODO: Debugging required-->\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n        <ion-label>{{resource['en-US'].value[26]}}</ion-label>\n        <ion-toggle [(ngModel)]=\"advancedFeature\" (ionChange)=\"loadPeerOnboardActivities(null)\"></ion-toggle>\n      </ion-item>\n      <div *ngFor=\"let response of peer_responses\">\n        <ion-item *ngIf=\"advancedFeature && peer_preferences?.length && peer_responses?.length\"> <!--Parent Activity selection-->\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n          <ion-label>{{resource['en-US'].value[27]}}</ion-label>\n          <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" [(ngModel)]=\"response.moment\" (ionChange)=\"selectedParentMoment(response)\" placeholder=\"None\">\n            <ion-select-option *ngFor=\"let preference of peer_preferences\" [value]=\"preference._id\">{{preference.matrix_string[0][0]}}</ion-select-option>\n          </ion-select>\n        </ion-item>\n        <ion-item *ngIf=\"advancedFeature && peer_preferences[response.index]\"> <!--Parent question selection-->\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n          <ion-label>{{resource['en-US'].value[28]}}</ion-label>\n          <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" [(ngModel)]=\"response.selectedComponentIndex\" (ionChange)=\"selectedParentQuestion(response)\" placeholder=\"None\">\n            <div *ngFor=\"let item of peer_preferences[response.index].resource.matrix_number[0]; index as j\">\n              <ion-select-option *ngIf=\"item === 40000 || item === 40020\" [value]=\"j\">{{peer_preferences[response.index].resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n            </div>\n          </ion-select>\n        </ion-item>\n        <ion-item *ngIf=\"advancedFeature && peer_preferences[response.index] && response.selectedComponentIndex\"> <!--Parent answer selection-->\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"code-working\"></ion-icon></div>\n          <ion-label>{{resource['en-US'].value[29]}}</ion-label>\n          <ion-select *ngIf=\"peer_preferences[response.index].resource.matrix_number[0][response.selectedComponentIndex] === 40000\" [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"alert\" [multiple]=\"peer_preferences[response.index].matrix_number[response.selectedComponentIndex][0]\" [(ngModel)]=\"response.selectedOptionIndexes\" (ionChange)=\"selectedParentAnswers(response)\" placeholder=\"None\">\n            <ion-select-option *ngFor=\"let option of peer_preferences[response.index].matrix_string[response.selectedComponentIndex]; index as k\" [value]=\"k\">{{option}}</ion-select-option>\n          </ion-select>\n          <ion-select *ngIf=\"peer_preferences[response.index].resource.matrix_number[0][response.selectedComponentIndex] === 40020\" [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"alert\" [multiple]=\"peer_preferences[response.index].matrix_number[response.selectedComponentIndex][0]\" [(ngModel)]=\"response.selectedOptionIndexes\" (ionChange)=\"selectedParentAnswers(response)\" placeholder=\"None\">\n            <div *ngFor=\"let optionId of peer_preferences[response.index].matrix_number[response.selectedComponentIndex] | slice : 5; index as k\">\n              <div *ngIf=\"k % 2 === 0\">\n                <ion-select-option [value]=\"optionId\">{{peer_preferences[response.index].matrix_string[response.selectedComponentIndex][k]}}</ion-select-option>\n              </div>\n            </div>\n          </ion-select>\n        </ion-item>\n      </div>\n    </ion-item-group>\n\n    <ion-reorder-group (ionItemReorder)=\"reorderComponents($event)\" [disabled]=\"!editTemplate\">\n      <div *ngFor=\"let item of moment.resource.matrix_number[0]; trackBy: customTrackBy; index as i\">\n        <!--title-->\n        <ion-item *ngIf=\"item === 10000\" lines=\"none\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"brush\"></ion-icon></div>\n          <ion-textarea [(ngModel)]=\"moment.matrix_string[i][0]\" rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize autocorrect=\"on\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\" [placeholder]=\"moment.resource['en-US'].value[0] + ' ' + resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]\" ></ion-textarea>\n        </ion-item>\n        <!--section header-->\n        <ion-item color=\"lightgrey\" *ngIf=\"item === 10050\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\" color=\"darkgrey\"></ion-icon></ion-reorder>\n          <ion-input class=\"section-header\" color=\"darkgrey\" [(ngModel)]=\"moment.resource['en-US'].matrix_string[i][1]\"></ion-input>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"secondary\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <!--location-->\n        <ion-item-group *ngIf=\"item === 10100\">\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"pin\"></ion-icon></div>\n            <div class=\"moment-input\" (click)=\"addNewReminder()\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\">\n            <p *ngIf=\"moment.location.location.length\" class=\"ion-text-wrap\">{{moment.location.location}}</p>\n            <ion-searchbar *ngIf=\"!moment.location.location.length\" [(ngModel)]=\"addressSearchString\" debounce=\"1500\" (ionChange)=\"searchAddress()\" searchIcon=\"navigate\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]\"></ion-searchbar>\n            <ion-button *ngIf=\"moment.location.location.length\" (click)=\"clearAddress()\" slot=\"end\" size=\"small\">\n              <ion-icon name=\"close\"></ion-icon>\n            </ion-button>\n          </ion-item>\n          <ion-list>\n            <ion-item *ngFor=\"let result of searchAddressResults\" (click)=\"selectAddress(result)\">\n              <p>{{result.display_name}}</p>\n            </ion-item>\n          </ion-list>\n          <div class=\"map-container\" *ngIf=\"addressURL.length\">\n            <img [src]=\"addressURL\" />\n          </div>\n        </ion-item-group>\n        <!--Visibility-->\n        <ion-item-group *ngIf=\"item === 20000\">\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"search\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\" *ngIf=\"['owner','admin','staff'].includes(userData.user.role)\"> <!--List in Discover-->\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}<ion-icon name=\"information-circle\" (click)=\"explainDiscover(i)\"></ion-icon></ion-label>\n            <ion-toggle [(ngModel)]=\"moment.array_boolean[0]\"></ion-toggle>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Share in Marketplace-->\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-label>\n            <ion-toggle [(ngModel)]=\"moment.array_boolean[1]\"></ion-toggle>\n          </ion-item>\n          <ion-item *ngIf=\"moment.array_boolean[0]\" class=\"padding-start\" lines=\"none\"> <!--Community-->\n            <ion-label position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]}}</ion-label>\n            <ion-select multiple=\"true\" [interfaceOptions]=\"{cssClass: 'level-15'}\" [(ngModel)]=\"moment.array_community\">\n              <ion-select-option *ngFor=\"let church of churches\" [value]=\"church._id\" [class.selected]=\"church.selected\" [disabled]=\"church._id === '5ab62be8f83e2c1a8d41f894'\">{{church.name}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!--Display Community in List View-->\n          <ion-item lines=\"none\" class=\"ion-margin-start\">\n            <ion-icon name=\"eye\" class=\"moment-label\"></ion-icon>\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-label>\n            <ion-toggle [(ngModel)]=\"moment.matrix_number[i][0]\"></ion-toggle>\n          </ion-item>\n          <ion-item *ngIf=\"moment.array_boolean[0] && categories && categories.length\" class=\"padding-start\" lines=\"none\">\n            <ion-label position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}} *</ion-label>\n            <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"alert\" multiple=\"true\" [(ngModel)]=\"moment.categories\">\n              <ion-select-option *ngFor=\"let category of categories\" [value]=\"category._id\">{{category['en-US'].value}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <!--Display Category in List View-->\n          <ion-item lines=\"none\" class=\"ion-margin-start\">\n            <ion-icon name=\"eye\" class=\"moment-label\"></ion-icon>\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]}}</ion-label>\n            <ion-toggle [(ngModel)]=\"moment.matrix_number[i][1]\"></ion-toggle>\n          </ion-item>\n        </ion-item-group>\n        <ion-item-group *ngIf=\"item === 20010\"> <!--Slider-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"albums\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item class=\"ion-padding-left\" lines=\"none\">\n            <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"alert-circle\"></ion-icon></div>\n            <ion-label class=\"moment-input\" class=\"ion-text-wrap\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n          </ion-item>\n        </ion-item-group>\n        <ion-item-group *ngIf=\"item === 20020\"> <!--Tabs-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"albums\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Default Tab-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]}} {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n            <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"popover\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\">\n              <ion-select-option *ngFor=\"let tabId of moment.matrix_number[i] | slice: 5; index as k\" [value]=\"tabId\">{{moment.matrix_string[i][k]}}</ion-select-option> <!--Tab-->\n            </ion-select>\n          </ion-item>\n          <ion-card *ngFor=\"let tabId of moment.matrix_number[i] | slice: 5; index as j\">\n            <ion-card-header>\n              <ion-item lines=\"none\">\n                <ion-input slot=\"start\" [(ngModel)]=\"moment.matrix_string[i][j]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1] + ' ' + (j + 1).toString()\"></ion-input>\n                <ion-buttons slot=\"end\" class=\"ion-no-margin\">\n                  <ion-button fill=\"clear\" (click)=\"removeTab(i, j)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n                </ion-buttons>\n              </ion-item>\n            </ion-card-header>\n            <ion-card-content>\n              <div *ngFor=\"let component_tab_attribute of moment.resource.matrix_number[3]; index as k\">\n                <ion-item *ngIf=\"tabId === component_tab_attribute\" class=\"person-content-item\">\n                  <ion-label>{{moment.resource['en-US'].matrix_string[k][0]}}</ion-label>\n                  <ion-buttons slot=\"end\" class=\"ion-no-margin\">\n                    <ion-button fill=\"clear\" (click)=\"removeTabComponent(k)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n                  </ion-buttons>\n                </ion-item>\n              </div>\n              <ion-item class=\"person-content-item\">\n                <ion-label position=\"stacked\">Add a Component</ion-label>\n                <ion-select interface=\"action-sheet\" [(ngModel)]=\"tempTabComponentSelection[j]\" (ionChange)=\"addTabComponent(j, tabId, $event)\" placeholder=\"None\"> <!--Participant's Title-->\n                  <ion-select-option *ngFor=\"let componentCreatedAt of moment.resource.matrix_number[2]; index as m\" [value]=\"componentCreatedAt\" [hidden]=\"moment.resource.matrix_number[0][m] === 20020\">{{moment.resource['en-US'].matrix_string[m][0]}}</ion-select-option> <!--Tab-->\n                </ion-select>\n              </ion-item>\n            </ion-card-content>\n          </ion-card>\n          <ion-item class=\"person-content-item\">\n            <ion-button shape=\"round\" slot=\"start\" (click)=\"addTab(i)\">\n              Add Tab\n            </ion-button>\n          </ion-item>\n        </ion-item-group>\n        <!--Start/End Date-->\n        <ion-item-group *ngIf=\"item === 10200\">\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/Calendar_Gray.png\"></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\">\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label> <!--All Day + Name-->\n            <ion-toggle [(ngModel)]=\"allDay\"></ion-toggle>\n          </ion-item>\n          <ion-item *ngIf=\"allDay\">\n            <ion-label>{{calendarService.calendar.selectedDate | datetime: 'w:l,m:l,y:n,d:n'}}</ion-label>\n          </ion-item>\n          <ion-item lines=\"none\" *ngIf=\"!allDay\">\n            <ion-label (click)=\"dateType = 'start'\"><span [ngClass]=\"{ 'underline-datestring': dateType == 'start'}\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]}}: {{startDate | datetime: 'w:l,m:s,y:n,d:n'}}</span><p style=\"color: red; font-style: italic;\" *ngIf=\"dateType === 'start'\"><ion-icon name=\"alert-circle\"></ion-icon>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</p></ion-label> <!--Start, Choose a date below-->\n            <ion-datetime *ngIf=\"startTime\" (ionChange)=\"changeStartTime()\" (ionCancel)=\"dateType = 'end'\" placeholder=\"12:00 pm\" displayFormat=\"h:mm a\" minuteValues=\"0,15,30,45\" [(ngModel)]=\"startTime\" [pickerOptions]=\"{cssClass: 'level-15'}\"></ion-datetime>\n          </ion-item>\n          <ion-item lines=\"none\" *ngIf=\"!allDay && dateType != 'start'\">\n            <ion-label (click)=\"dateType = 'end'\"><span [ngClass]=\"{ 'underline-datestring': dateType == 'end'}\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}: {{endDate | datetime: 'w:l,m:s,y:n,d:n'}}</span><p style=\"color: red; font-style: italic;\" *ngIf=\"dateType === 'end'\"><ion-icon name=\"alert-circle\"></ion-icon>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</p></ion-label> <!--End, Choose a date below-->\n            <ion-datetime *ngIf=\"endTime\" placeholder=\"12:00 pm\" (ionCancel)=\"dateType = ''\" displayFormat=\"h:mm a\" minuteValues=\"0,15,30,45\" [(ngModel)]=\"endTime\" [pickerOptions]=\"{cssClass: 'level-15'}\"></ion-datetime>\n          </ion-item>\n\n          <ion-card class=\"monthview\" *ngIf=\"dateType || allDay\">\n            <div class=\"month-title-container\">\n              <ion-icon name=\"chevron-back-outline\" class=\"calendar-arrow left\" (click)=\"calendarService.changeDate($event, 4)\"></ion-icon>\n              <h4 class=\"month-title\">{{calendarService.calendar.viewTitle}}</h4>\n              <ion-icon name=\"chevron-forward-outline\" class=\"calendar-arrow right\" (click)=\"calendarService.changeDate($event, 2)\"></ion-icon>\n            </div>\n            <div class=\"monthview-day-headers\">S</div>\n            <div class=\"monthview-day-headers\">M</div>\n            <div class=\"monthview-day-headers\">T</div>\n            <div class=\"monthview-day-headers\">W</div>\n            <div class=\"monthview-day-headers\">T</div>\n            <div class=\"monthview-day-headers\">F</div>\n            <div class=\"monthview-day-headers\">S</div>\n\n            <div class=\"monthview-element\" *ngFor=\"let dayOfMonth of calendarService.calendar.daysInViewMonth; trackBy: customTrackBy\">\n              <div class=\"monthview-element-content\" [ngClass]=\"{ 'selected-date' : calendarService.calendar.selectedDate.toString() === dayOfMonth.date.toString() && dayOfMonth.date != ' ','current-date': calendarService.calendar.currentDate.toString().substring( 0 , 15) == dayOfMonth.date.toString().substring(0 , 15)}\" (click)=\"changeSelectedDate( dayOfMonth.date)\">\n                <div *ngIf=\"dayOfMonth.date == ' ' \">&nbsp;&nbsp;</div>\n                <div *ngIf=\"dayOfMonth.date != ' ' \">\n                  {{dayOfMonth.date.getDate()}}\n                </div>\n                <div class=\"monthview-dot-container\" *ngFor=\"let calendarItem of dayOfMonth.dayEvents; trackBy: customTrackBy; let i = index;\">\n                  <div class=\"monthview-element-dot\" [ngClass]=\"{'past-calendar-item' : calendarItem.pastEvent}\" *ngIf=\"i < 5\"></div>\n                </div>\n              </div>\n            </div>\n          </ion-card>\n\n          <!-- list features after being filtered -->\n          <ion-list *ngIf=\"dateType || allDay\" lines=\"none\" class=\"list-container ion-padding\">\n            <div *ngFor=\"let calendarItem of calendarService.calendarItems; trackBy: customTrackBy\" id=\"event-title\" >\n              <ion-item *ngIf=\"calendarService.calendar.mode == 'month' && (calendarService.calendar.selectedDate.getMonth() == calendarService.calendar.currentViewDate.getMonth()) && calendarService.eventOnDay( calendarService.calendar.selectedDate , calendarItem )\" id=\"feature\" lines=\"none\">\n                <ion-label class=\"moment-icon\" slot=\"start\">\n                  <img [src]=\"momentService.loadIcon(calendarItem.moment.resource.field).url\" />\n                </ion-label>\n                <ion-badge [color]=\"momentService.loadIcon(calendarItem.moment.resource.field).color\">{{calendarItem.moment.resource['en-US'].value[0]}}</ion-badge>\n                <div class=\"item-container\" slot=\"end\">\n                  <ion-label>{{calendarItem.title}}</ion-label>\n                  <ion-note *ngIf=\"calendarItem.moment.resource.field !== 'Poll'\">{{calendarItem.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                  <ion-note *ngIf=\"calendarItem.moment.resource.field === 'Poll'\">{{calendarItem.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                </div>\n              </ion-item>\n            </div>\n          </ion-list>\n\n          <ion-item lines=\"none\" *ngIf=\"!allDay && dateType == 'start'\">\n            <ion-label (click)=\"dateType = 'end'\">End: {{endDate  | datetime: 'w:l,m:l,y:n,d:n'}}</ion-label>\n            <ion-datetime placeholder=\"12:00 pm\" displayFormat=\"h:mm a\" minuteValues=\"0,15,30,45\" [(ngModel)]=\"endTime\" [pickerOptions]=\"{cssClass: 'level-15'}\"></ion-datetime>\n          </ion-item>\n        </ion-item-group>\n        <!--To-Dos-->\n        <ion-item-group *ngIf=\"item === 10210\">\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/Calendar_Gray.png\"></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--To-Do Label-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][14]}}</ion-label>\n            <ion-input class=\"ion-text-end\" type=\"text\" maxlength=\"8\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][15]\" [(ngModel)]=\"moment.matrix_string[i][2]\"></ion-input>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--To-Do Moment Id-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][16]}}</ion-label>\n            <ion-input class=\"ion-text-end\" type=\"text\" maxlength=\"24\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][17]\" [(ngModel)]=\"moment.matrix_string[i][3]\"></ion-input>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable Goal-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.array_boolean[8]\"></ion-checkbox>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Favorite Goal Label Bold Font-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][19]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.matrix_number[i][4]\"></ion-checkbox>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable the Upcoming Section-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.matrix_number[i][0]\"></ion-checkbox>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable Favorite Goals-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.matrix_number[i][1]\"></ion-checkbox>\n          </ion-item>\n          <div *ngIf=\"moment.matrix_number[i][1]\">\n            <ion-item lines=\"none\"> <!--Label for Favorite Goal-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-label>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Singular-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]\" [(ngModel)]=\"moment.matrix_string[i][0]\"></ion-input>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Plural-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]\" [(ngModel)]=\"moment.matrix_string[i][1]\"></ion-input>\n            </ion-item>\n          </div>\n          <ion-item lines=\"none\"> <!--Favorite Goal Label Font Size-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n            <ion-input class=\"ion-text-end\" type=\"number\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][13]\" [(ngModel)]=\"moment.matrix_number[i][2]\"></ion-input>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Favorite Goal Label Bold Font-->\n            <ion-label class=\"ion-margin-left\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][18]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.matrix_number[i][3]\"></ion-checkbox>\n          </ion-item>\n        </ion-item-group>\n        <!--Textarea + Media-->\n        <ion-item *ngIf=\"item === 10010\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <ion-textarea rows=\"4\" [minRows]=\"1\" [maxRows]=\"6\" autosize autocorrect=\"on\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]\" [(ngModel)]=\"moment.matrix_string[i][0]\"></ion-textarea>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <ion-item *ngIf=\"item === 10010 && resource['en-US'].value.length > 36\" lines=\"none\"> <!--textarea media section-->\n          <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"images\"></ion-icon></label>\n          <label class=\"moment-input\" (click)=\"openUploadMedia(i, item)\">{{resource['en-US'].value[36]}}</label>\n        </ion-item>\n        <!--Upload Media-->\n        <ion-item *ngIf=\"item === 10300\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"images\"></ion-icon></label>\n          <label class=\"moment-input\" (click)=\"openUploadMedia(i, item)\" *ngIf=\"resource['en-US'].value.length > 36\">{{resource['en-US'].value[36]}}</label>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <ion-item *ngIf=\"item === 10310\" lines=\"none\"> <!--Obsolete in 1.6.3 (51)+-->\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"images\"></ion-icon></div>\n          <div class=\"moment-input\" (click)=\"openUploadMedia(i, item)\">\n            <span>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}} {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</span>\n           <!-- <span *ngIf=\"moment.matrix_string[i]?.length && moment.matrix_string[i][0]\" class=\"small-font\" >{{moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('/') + 1)}}</span>-->\n          </div>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <!--Video-->\n        <ion-item *ngIf=\"item === 10320\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"logo-youtube\"></ion-icon></label>\n          <input *ngIf=\"moment.matrix_string[i]?.length && !moment.matrix_string[i][0]?.length\" type=\"file\" class=\"moment-input\" name=\"image\" (change)=\"selectFileFromDeviceAndUpload($event, i)\" accept=\"video/*\"/>\n          <div *ngIf=\"moment.matrix_string[i]?.length && moment.matrix_string[i][0]?.length\" class=\"moment-input small-font\">{{moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('/') + 1)}}</div>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <!--Youtube-->\n        <ion-item *ngIf=\"item === 10330\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"logo-youtube\"></ion-icon></div>\n          <div class=\"moment-input\" (click)=\"promptVideoUrl('youtube', i)\">\n            <span *ngIf=\"!moment.matrix_string[i]?.length || !moment.matrix_string[i][0]\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}} {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</span>\n            <span class=\"small-font\" *ngIf=\"moment.matrix_string[i]?.length && moment.matrix_string[i][0]\">{{moment.matrix_string[i][0]}}</span>\n          </div>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <!--File-->\n        <ion-item *ngIf=\"item === 10360\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"document\"></ion-icon></label>\n          <input *ngIf=\"moment.matrix_string[i]?.length && !moment.matrix_string[i][0]?.length\" type=\"file\" class=\"moment-input\" name=\"image\" (change)=\"selectFileFromDeviceAndUpload($event, i)\"/>\n          <div *ngIf=\"moment.matrix_string[i]?.length && moment.matrix_string[i][0]?.length\" class=\"moment-input small-font\">{{moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('/') + 1)}}</div>\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <!--Video Conference-->\n        <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"videocam\"></ion-icon></div>\n          <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div> <!--Video Conference-->\n          <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n            <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n          </ion-buttons>\n        </ion-item>\n        <ion-item *ngIf=\"item === 10600\" lines=\"none\" class=\"padding-start\">\n          <ion-label slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n          <ion-range style=\"width: 50%\" min=\"2\" max=\"1000\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-range>\n          <ion-input style=\"width: 10%\" placeholder=\"2\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\" (ionChange)=\"moment.matrix_number[i][0] = moment.matrix_number[i][0] || 2\"></ion-input>\n        </ion-item>\n        <!--Display Photo/Video in List View-->\n        <div *ngIf=\"(item == 10010 || (item >= 10300 && item <= 10360)) && moment.matrix_string[i]?.length && moment.matrix_string[i][0].length\">\n          <ion-item lines=\"none\">\n            <ion-icon name=\"eye\" class=\"moment-label\"></ion-icon>\n            <ion-label>Display Media in List View</ion-label>\n            <ion-toggle [(ngModel)]=\"moment.matrix_number[i][0]\"></ion-toggle>\n          </ion-item>\n        </div>\n        <!--Photo Viewer-->\n        <div *ngIf=\"(item === 10010 || item === 10300 || item === 10310 || item === 10360 || item === 40010) && moment.matrix_string[i]?.length\">\n          <ion-grid class=\"selected-grid\">\n            <ion-row>\n              <ion-col *ngFor=\"let url of moment.matrix_string[i] | slice: ((item === 10010 || item === 40010) ? 11 : 0); index as j\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" class=\"ion-margin-horizontal\">\n                <div class=\"selected-item\" *ngIf=\"url\">\n                  <ion-thumbnail class=\"thumbnail-item\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n                    <ion-img [src]=\"url\"></ion-img>\n                  </ion-thumbnail>\n                  <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n                  <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n\n                  <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <!--<div class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"player = $event\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>-->\n                  <ion-button *ngIf=\"!url.toLowerCase().includes('youtu')\" class=\"remove-media ion-no-padding ion-no-margin\" (click)=\"removeMedia(i, j+((item === 10010 || item === 40010) ? 11 : 0))\" fill=\"clear\" size=\"small\">\n                    <ion-icon name=\"close\"></ion-icon>\n                  </ion-button>\n                  <ion-button *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"remove-video ion-no-padding ion-no-margin\" (click)=\"removeMedia(i, j+((item === 10010 || item === 40010) ? 11 : 0))\" fill=\"clear\" size=\"small\">\n                    <ion-icon name=\"close\"></ion-icon>\n                  </ion-button>\n                </div>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </div>\n        <!--Video Player-->\n        <ion-item *ngIf=\"item === 10320 && moment.matrix_string[i]?.length && moment.matrix_string[i][0]?.length\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i][0], 'type': 'video/' + (moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>\n          <ion-button class=\"remove-photo\" fill=\"clear\" size=\"large\" (click)=\"removeMedia(i, 0)\">\n            <ion-icon name=\"trash\" color=\"grey\"></ion-icon>\n          </ion-button>\n        </ion-item>\n        <!--Youtube Player-->\n        <ion-item *ngIf=\"item === 10330 && moment.matrix_string[i]?.length && moment.matrix_string[i][0]?.length\" lines=\"none\">\n          <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n          <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i][0], 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n          <ion-button class=\"remove-photo\" fill=\"clear\" size=\"large\" (click)=\"removeMedia(i, 0)\">\n            <ion-icon name=\"trash\" color=\"grey\"></ion-icon>\n          </ion-button>\n        </ion-item>\n\n        <div *ngIf=\"item === 10400\"> <!--Add Reminder-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"alarm\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" *ngIf=\"editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\" class=\"select-container\" *ngFor=\"let reminder of reminders; index as j\">\n            <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"alarm\"></ion-icon></div>\n            <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" style=\"padding-left: 0;\" id=\"custom-select\" interface=\"popover\" [(ngModel)]=\"reminders[j]\">\n              <ion-select-option value=\"0\">At time of event</ion-select-option>\n              <ion-select-option value=\"5\">5 min before</ion-select-option>\n              <ion-select-option value=\"10\">10 min before</ion-select-option>\n              <ion-select-option value=\"15\">15 min before</ion-select-option>\n              <ion-select-option value=\"30\">30 min before</ion-select-option>\n              <ion-select-option value=\"60\">1 hour before</ion-select-option>\n              <ion-select-option value=\"120\">2 hours before</ion-select-option>\n              <ion-select-option value=\"180\">3 hours before</ion-select-option>\n              <ion-select-option value=\"360\">6 hours before</ion-select-option>\n              <ion-select-option value=\"1440\">1 day before</ion-select-option>\n              <ion-select-option value=\"2880\">2 days before</ion-select-option>\n              <ion-select-option value=\"10080\">1 week before</ion-select-option>\n            </ion-select>\n            <ion-icon slot=\"end\" name=\"trash\" color=\"grey\" (click)=\"deleteReminder($event, j)\"></ion-icon>\n          </ion-item>\n        </div>\n        <ion-item *ngIf=\"item === 10400 && reminders?.length < 2\" lines=\"none\">\n          <div class=\"moment-label\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"alarm\"></ion-icon></div>\n          <div class=\"moment-input\" (click)=\"addNewReminder()\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</div>\n        </ion-item>\n\n        <div *ngIf=\"item === 10370\"> <!--References-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"jet\"></ion-icon></div>\n            <div class=\"moment-input\">{{childActivityLabel}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-reorder-group (ionItemReorder)=\"reorderPlanItems($event)\" disabled=\"false\">\n            <ion-item *ngFor=\"let referenceActivity of referenceActivities; trackBy: customTrackBy; let j = index;\">\n              <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n              <ion-badge slot=\"start\" class=\"moment-type\">{{referenceActivity.resource['en-US'].value[0]}}</ion-badge>\n              <span class=\"module-number\">{{j+1}}.</span>\n              <ion-input class=\"moment-input\" type=\"text\" [(ngModel)]=\"referenceActivity.matrix_string[0][0]\" [placeholder]=\"referenceActivity.resource['en-US'].value[0] + ' ' + resource['en-US'].value[1]\" [hidden]=\"referenceActivity._id\"></ion-input>\n              <span class=\"moment-input\" *ngIf=\"referenceActivity._id\">{{referenceActivity.matrix_string[0][0]}}</span>\n              <ion-note style=\"max-width: 20%\" class=\"ion-no-margin\" class=\"ion-text-wrap\" slot=\"end\" *ngIf=\"referenceActivity.calendar && referenceActivity.calendar.startDate\">{{referenceActivity.calendar.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n              <ion-buttons slot=\"end\" class=\"ion-no-margin\">\n                <ion-button fill=\"clear\" color=\"grey\" (click)=\"openPlanModule(j)\"><ion-icon name=\"cog\"></ion-icon></ion-button>\n                <ion-button fill=\"clear\" (click)=\"removePlanItem($event, j)\" class=\"close-button\"><ion-icon name=\"trash\" color=\"grey\"></ion-icon></ion-button>\n              </ion-buttons>\n            </ion-item>\n          </ion-reorder-group>\n          <ion-item lines=\"none\">\n            <ion-button (click)=\"addPlanItem()\">\n              <div class=\"addRemoveText\">+ Choose from Library</div>\n            </ion-button>\n          </ion-item>\n        </div>\n        <div *ngIf=\"item === 11000\"> <!--Chat-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"chatbubbles\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable Group Chat for Participants-->\n            <ion-label style=\"width: 70%\" class=\"ion-margin-left\" color=\"grey\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}} {{participantsLabel}}</ion-label>\n            <ion-toggle class=\"ion-margin-left\" [(ngModel)]=\"moment.array_boolean[5]\"></ion-toggle>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable Leaders' Chat-->\n            <ion-label style=\"width: 70%\" class=\"ion-margin-left\" color=\"grey\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}} {{leadersLabel}}</ion-label>\n            <ion-toggle class=\"ion-margin-left\" [(ngModel)]=\"moment.array_boolean[7]\"></ion-toggle>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Enable Organizers' Chat-->\n            <ion-label style=\"width: 70%\" class=\"ion-margin-left\" color=\"grey\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}} {{organizersLabel}}</ion-label>\n            <ion-toggle class=\"ion-margin-left\" [(ngModel)]=\"moment.array_boolean[6]\"></ion-toggle>\n          </ion-item>\n        </div>\n        <div *ngIf=\"item === 12000\"> <!--Notes-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"document\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n        </div>\n        <div *ngIf=\"item === 30000\"> <!--Poll-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/Poll_Gray.png\"></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize [(ngModel)]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <ion-item *ngFor=\"let option of moment.matrix_string[i]; trackBy: customTrackBy; let j = index;\">\n            <ion-label slot=\"start\" class=\"moment-label\">\n              <ion-icon class=\"side-icon\" color=\"grey\" name=\"add\"></ion-icon>\n            </ion-label>\n            <span class=\"option-number\">{{j+1}}.</span>\n            <ion-input class=\"moment-input\" type=\"text\" [(ngModel)]=\"moment.matrix_string[i][j]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2] + ' ' + (j+1).toString()\"></ion-input>\n            <ion-button slot=\"end\" fill=\"clear\" (click)=\"removeInteractableItem($event, i, j)\" class=\"close-button\" ion-button><ion-icon name=\"trash\" color=\"grey\"></ion-icon></ion-button>\n          </ion-item>\n          <ion-buttons class=\"ion-padding\">\n            <ion-button shape=\"round\" fill=\"solid\" color=\"primary\" (click)=\"addInteractableItem(i)\">\n              <div class=\"addRemoveText\">+ {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</div>\n            </ion-button>\n          </ion-buttons>\n        </div>\n        <div *ngIf=\"item === 40000\"> <!--Multiple Choice-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <div style=\"width: 100px\" *ngIf=\"['owner','admin','staff'].indexOf(userData.user.role) > -1\">\n              <ion-input color=\"grey\" style=\"font-size: 10px\" [(ngModel)]=\"moment.resource.matrix_number[2][i]\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-input>\n            </div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Allow Multiple Selections-->\n            <ion-label style=\"width: 70%\" class=\"ion-margin-left\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-label>\n            <ion-toggle class=\"ion-margin-left\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-toggle>\n          </ion-item>\n          <ion-item lines=\"none\" *ngIf=\"moment.matrix_number[i][0]\"> <!--Max number of selections-->\n            <ion-label style=\"width: 90%\" class=\"ion-margin-left\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-label>\n            <ion-input style=\"width: 10%; text-align: right\" class=\"ion-margin-left\" type=\"number\" [placeholder]=\"moment.matrix_string[i]?.length\" [max]=\"moment.matrix_string[i]?.length\" [(ngModel)]=\"moment.matrix_number[i][1]\" slot=\"end\"></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize [(ngModel)]=\"moment.resource['en-US'].matrix_string[i][1]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <ion-item *ngFor=\"let option of moment.matrix_string[i]; trackBy: customTrackBy; let j = index;\">\n            <ion-label slot=\"start\" class=\"moment-label\">\n              <ion-icon class=\"side-icon\" color=\"grey\" name=\"add\"></ion-icon>\n            </ion-label>\n            <span class=\"option-number\">{{j+1}}.</span>\n            <ion-input class=\"moment-input\" type=\"text\" [(ngModel)]=\"moment.matrix_string[i][j]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2] + ' ' + (j+1).toString()\"></ion-input>\n            <ion-button slot=\"end\" fill=\"clear\" (click)=\"removeInteractableItem($event, i, j)\" class=\"close-button\" ion-button><ion-icon name=\"trash\" color=\"grey\"></ion-icon></ion-button>\n          </ion-item>\n          <ion-buttons class=\"ion-padding\">\n            <ion-button shape=\"round\" fill=\"solid\" color=\"primary\" (click)=\"addInteractableItem(i)\">\n              <div class=\"addRemoveText\">+ {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</div>\n            </ion-button>\n          </ion-buttons>\n        </div>\n        <div *ngIf=\"item === 40010\"> <!--Text Answer-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"help\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <div style=\"width: 100px\" *ngIf=\"['owner','admin','staff'].includes(userData.user.role)\" >\n              <ion-input color=\"grey\" style=\"font-size: 10px\" [(ngModel)]=\"moment.resource.matrix_number[2][i]\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-input>\n            </div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item> <!--Question-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize [(ngModel)]=\"moment.matrix_string[i][0]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <ion-item> <!--Label-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-label>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"2\" autosize [(ngModel)]=\"moment.matrix_string[i][1]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <ion-item> <!--Placeholder-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]}}</ion-label>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"2\" autosize [(ngModel)]=\"moment.matrix_string[i][4]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--number of lines-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-label>\n            <ion-input style=\"width: 10%; text-align: right\" margin-left=\"20px\" type=\"number\" [placeholder]=\"1\" [max]=\"10\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-input>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--show text editor-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n            <ion-checkbox [(ngModel)]=\"moment.matrix_number[i][2]\" slot=\"end\"></ion-checkbox>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Response Type-->\n            <ion-label style=\"width: 90%\" margin-left=\"20px\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}}</ion-label>\n            <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"popover\" [(ngModel)]=\"moment.matrix_number[i][1]\" slot=\"end\">\n              <ion-select-option [value]=0>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-select-option> <!--Private-->\n              <ion-select-option [value]=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-select-option> <!--Collaborative-->\n            </ion-select>\n          </ion-item>\n          <ion-item lines=\"none\" *ngIf=\"resource['en-US'].value.length > 34\"> <!--media section-->\n            <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"images\"></ion-icon></label>\n            <label class=\"moment-input\" (click)=\"openUploadMedia(i, item)\">{{resource['en-US'].value[36]}}</label>\n          </ion-item>\n        </div>\n        <!--Multiple Choice with Picture Tiles or List of Choices-->\n        <div *ngIf=\"item === 40020\">\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <div style=\"width: 100px\" *ngIf=\"['owner','admin','staff'].indexOf(userData.user.role) > -1\" >\n              <ion-input color=\"grey\" style=\"font-size: 10px\" [(ngModel)]=\"moment.resource.matrix_number[2][i]\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-input>\n            </div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <!--Allow multiple selections-->\n          <ion-item lines=\"none\">\n            <ion-label style=\"width: 70%\" class=\"ion-margin-left\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-label>\n            <ion-toggle class=\"ion-margin-left\" [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-toggle>\n          </ion-item>\n          <!--Max number of selections-->\n          <ion-item lines=\"none\" *ngIf=\"moment.matrix_number[i][0]\">\n            <ion-label style=\"width: 90%\" class=\"ion-margin-left\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-label>\n            <ion-input style=\"width: 10%; text-align: right\" class=\"ion-margin-left\" type=\"number\" [placeholder]=\"moment.matrix_string[i]?.length\" [max]=\"moment.matrix_string[i]?.length\" [(ngModel)]=\"moment.matrix_number[i][1]\" slot=\"end\"></ion-input>\n          </ion-item>\n          <!--Display Style-->\n          <ion-item lines=\"none\">\n            <ion-label style=\"width: 90%\" class=\"ion-margin-left\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}}</ion-label>\n            <ion-select [(ngModel)]=\"moment.matrix_number[i][2]\" slot=\"end\">\n              <ion-select-option [value]=0>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-select-option>\n              <ion-select-option [value]=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-select-option>\n            </ion-select>\n          </ion-item>\n          <ion-item>\n            <ion-textarea rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize [(ngModel)]=\"moment.resource['en-US'].matrix_string[i][1]\" autocorrect=\"on\" (ionChange)=\"templateChanged = true\" (focus)=\"change.detach()\" (blur)=\"change.reattach();\"></ion-textarea>\n          </ion-item>\n          <div *ngFor=\"let option of moment.matrix_string[i]; trackBy: customTrackBy; let j = index;\">\n            <ion-item *ngIf=\"j % 2 == 0\"> <!--only even index is shown, e.g. 0, 2, 4, 6, etc-->\n              <!--<ion-label slot=\"start\" class=\"moment-label\">\n                <ion-icon class=\"side-icon\" color=\"grey\" name=\"add\"></ion-icon>\n              </ion-label>-->\n              <ion-thumbnail slot=\"start\" class=\"moment-label\" (click)=\"toggleSearchPixaBay(i, j+5)\">\n                <img *ngIf=\"moment.matrix_string[i][j+1]\" [src]=\"moment.matrix_string[i][j+1]\"/>\n                <img *ngIf=\"!moment.matrix_string[i][j+1]\" src=\"assets/img/avatar-default.jpg\"/>\n              </ion-thumbnail>\n              <span class=\"option-number\">{{j/2+1}}.</span>\n              <ion-input class=\"moment-input\" type=\"text\" [(ngModel)]=\"moment.matrix_string[i][j]\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2] + ' ' + (j/2+1).toString()\"></ion-input>\n              <div style=\"width: 100px; float: right\" *ngIf=\"['owner','admin','staff'].indexOf(userData.user.role) > -1\" >\n                <ion-input color=\"grey\" style=\"font-size: 10px\" type=\"text\" [(ngModel)]=\"moment.matrix_number[i][j+5]\"></ion-input>\n              </div>\n              <ion-button slot=\"end\" fill=\"clear\" (click)=\"removeInteractableItem($event, i, j)\" class=\"close-button\" ion-button><ion-icon name=\"trash\" color=\"grey\"></ion-icon></ion-button>\n            </ion-item>\n            <div *ngIf=\"j % 2 == 0 && resourceService.showPixabay === moment.matrix_number[i][j+5]\">\n              <ion-searchbar [(ngModel)]=\"resourceService.searchKeyword\" (ionChange)=\"resourceService.searchPixabay()\" placeholder=\"Type keywords to search Pixabay\" debounce=\"500\"></ion-searchbar>\n              <ion-grid class=\"pixabay-grid\" *ngIf=\"resourceService.stockPhotoResults && resourceService.stockPhotoResults.hits?.length\">\n                <ion-row>\n                  <ion-col *ngFor=\"let photo of resourceService.stockPhotoResults.hits\">\n                    <ion-thumbnail class=\"stock-preview\" (click)=\"selectStockPhoto(photo, i, j+1)\">\n                      <ion-img [src]=\"photo.previewURL\"></ion-img>\n                    </ion-thumbnail>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </div>\n          </div>\n          <ion-buttons class=\"ion-padding\">\n            <ion-button shape=\"round\" fill=\"solid\" color=\"primary\" (click)=\"addInteractableItem(i)\">\n              <div class=\"addRemoveText\">+ {{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</div>\n            </ion-button>\n          </ion-buttons>\n        </div>\n        <div *ngIf=\"item === 50000\"> <!--Directory-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"contacts\"></ion-icon></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Display Style-->\n            <ion-label>Directory Style</ion-label>\n            <ion-select [(ngModel)]=\"moment.matrix_number[i][3]\" placeholder=\"Slider\">\n              <ion-select-option [value]=\"0\">Slider</ion-select-option>\n              <ion-select-option [value]=\"1\">List</ion-select-option>\n              <ion-select-option [value]=\"2\">Map</ion-select-option>\n            </ion-select> <!--Primary Display Style-->\n          </ion-item>\n          <ion-item lines=\"none\"> <!--Show in Directory-->\n            <ion-label>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][15]}}</ion-label>\n          </ion-item>\n          <div>\n            <ion-toolbar class=\"filter\">\n              <ion-segment [(ngModel)]=\"participantsView\">\n                <ion-segment-button value=\"participants\">{{participantsLabel}}</ion-segment-button>\n                <ion-segment-button value=\"leaders\">{{leadersLabel}}</ion-segment-button>\n                <ion-segment-button value=\"organizers\">{{organizersLabel}}</ion-segment-button>\n              </ion-segment>\n            </ion-toolbar>\n            <div *ngIf=\"participantsView === 'participants'\">\n              <ion-item lines=\"none\"> <!--Show Participants-->\n                <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{participantsLabel}}</ion-label>\n                <ion-toggle [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-toggle>\n              </ion-item>\n              <ion-row class=\"ion-justify-content-center\" *ngIf=\"moment.matrix_number[i][0]\">\n                <ion-card class=\"person-card\">\n                  <ion-card-header>\n                    <div class=\"person-photo-container\">\n                      <ion-img class=\"person-photo\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </div>\n                  </ion-card-header>\n                  <!--<div class=\"top-pattern\"></div>\n                  <div class=\"middle-pattern\"></div>\n                  <div class=\"bottom-pattern\"></div>-->\n                  <ion-card-content class=\"person-content ion-no-padding\">\n                    <div class=\"person-content-left\">\n                      <div style=\"margin: 16px\">\n                        {{participantLabel}}'s Name\n                      </div>\n                      <ion-label class=\"ion-margin-start\">Title: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][11]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Participant's Title-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][0] && preference.array_boolean[2]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <div class=\"person-content-right\">\n                      <ion-label class=\"ion-margin-start\">Bio: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][14]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Participant's Bio-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][0] && preference.array_boolean[2]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <ion-item class=\"person-content-item\">\n                      <ion-button shape=\"round\" slot=\"end\" (click)=\"editOnboarding($event, 4)\" [disabled]=\"!moment._id\">\n                        Add/Modify Questions\n                      </ion-button>\n                    </ion-item>\n                  </ion-card-content>\n                </ion-card>\n              </ion-row>\n              <div style=\"margin: 16px\" *ngFor=\"let preference of preferences\">\n                <div *ngIf=\"moment.matrix_number[i][0] && preference.array_boolean[2]\"> <!--set to show participant and select preference that is for participant-->\n                  <div>{{preference.matrix_string[0][0]}}</div>\n                  <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                    <ion-card *ngIf=\"comp === 40000 || comp === 40020\">\n                      <p class=\"ion-margin-start\">{{preference.resource['en-US'].matrix_string[j][1]}}</p>\n                      <ion-card-content>\n                        <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 1, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]\" slot=\"start\">\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === -1\" value=-1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-select-option>\n                        </ion-select>\n                        <ion-select *ngIf=\"preference.config[j][1] > -1\" [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 2, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]\" slot=\"end\">\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 3\" value=3>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 4\" value=4>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]}}</ion-select-option>\n                        </ion-select>\n                      </ion-card-content>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" >\n                        <div color=\"grey\" style=\"font-size: 12px;\" slot=\"start\" class=\"ion-no-margin\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10]}}</div>\n                        <ion-icon name=\"alert-circle\" (click)=\"explainWeight()\"></ion-icon>\n                      </ion-item>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" class=\"ion-no-padding\">\n                        <ion-range style=\"width: 60%; min-width: 300px\" min=\"-3\" max=\"3\" [value]=\"preference.config[j][3]\" (ionChange)=\"changedMatchingConfig(preference._id, j, 3, $event)\" debounce=\"50\" lines=\"none\">\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"end\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n                        </ion-range>\n                      </ion-item>\n                    </ion-card>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"participantsView === 'leaders'\">\n              <ion-item lines=\"none\"> <!--Show Leaders-->\n                <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{leadersLabel}}</ion-label>\n                <ion-toggle [(ngModel)]=\"moment.matrix_number[i][2]\" slot=\"end\"></ion-toggle>\n              </ion-item>\n              <ion-row class=\"ion-justify-content-center\" *ngIf=\"moment.matrix_number[i][2]\">\n                <ion-card class=\"person-card\">\n                  <ion-card-header>\n                    <div class=\"person-photo-container\">\n                      <ion-img class=\"person-photo\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </div>\n                  </ion-card-header>\n                  <!--<div class=\"top-pattern\"></div>\n                  <div class=\"middle-pattern\"></div>\n                  <div class=\"bottom-pattern\"></div>-->\n                  <ion-card-content class=\"person-content ion-no-padding\">\n                    <div class=\"person-content-left\">\n                      <div style=\"margin: 16px\">\n                        {{leaderLabel}}'s Name\n                      </div>\n                      <ion-label class=\"ion-margin-start\">Title: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][13]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Leader's Title-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][2] && preference.array_boolean[4]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <div class=\"person-content-right\">\n                      <ion-label class=\"ion-margin-start\">Bio: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][16]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Leader's Bio-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][2] && preference.array_boolean[4]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp  === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <ion-item class=\"person-content-item\">\n                      <ion-button shape=\"round\" slot=\"end\" (click)=\"editOnboarding($event, 4)\" [disabled]=\"!moment._id\">\n                        Add/Modify Questions\n                      </ion-button>\n                    </ion-item>\n                  </ion-card-content>\n                </ion-card>\n              </ion-row>\n              <div style=\"margin: 16px\" *ngFor=\"let preference of preferences\">\n                <div *ngIf=\"moment.matrix_number[i][2] && preference.array_boolean[4]\">\n                  <div>{{preference.matrix_string[0][0]}}</div>\n                  <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                    <ion-card *ngIf=\"comp === 40000 || comp === 40020\">\n                      <p class=\"ion-margin-start\">{{preference.resource['en-US'].matrix_string[j][1]}}</p>\n                      <ion-card-content>\n                        <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 1, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]\" slot=\"start\">\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === -1\" value=-1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-select-option>\n                        </ion-select>\n                        <ion-select *ngIf=\"preference.config[j][1] > -1\" [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 2, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]\" slot=\"end\">\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 3\" value=3>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 4\" value=4>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]}}</ion-select-option>\n                        </ion-select>\n                      </ion-card-content>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" >\n                        <div color=\"grey\" style=\"font-size: 12px;\" slot=\"start\" class=\"ion-no-margin\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10]}}</div>\n                        <ion-icon name=\"alert-circle\" (click)=\"explainWeight()\"></ion-icon>\n                      </ion-item>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" class=\"ion-no-padding\">\n                        <ion-range style=\"width: 60%; min-width: 300px\" min=\"-3\" max=\"3\" [value]=\"preference.config[j][3]\" (ionChange)=\"changedMatchingConfig(preference._id, j, 3, $event)\" debounce=\"50\" lines=\"none\">\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"end\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n                        </ion-range>\n                      </ion-item>\n                    </ion-card>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"participantsView === 'organizers'\">\n              <ion-item lines=\"none\"> <!--Show Organizers-->\n                <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{organizersLabel}}</ion-label>\n                <ion-toggle [(ngModel)]=\"moment.matrix_number[i][1]\" slot=\"end\"></ion-toggle>\n              </ion-item>\n              <ion-row class=\"ion-justify-content-center\" *ngIf=\"moment.matrix_number[i][1]\">\n                <ion-card class=\"person-card\">\n                  <ion-card-header>\n                    <div class=\"person-photo-container\">\n                      <ion-img class=\"person-photo\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </div>\n                  </ion-card-header>\n                  <!--<div class=\"top-pattern\"></div>\n                  <div class=\"middle-pattern\"></div>\n                  <div class=\"bottom-pattern\"></div>-->\n                  <ion-card-content class=\"person-content ion-no-padding\">\n                    <div class=\"person-content-left\">\n                      <div style=\"margin: 16px\">\n                        {{organizerLabel}}'s Name\n                      </div>\n                      <ion-label class=\"ion-margin-start\">Title: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][12]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Organizer's Title-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][1] && preference.array_boolean[3]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <div class=\"person-content-right\">\n                      <ion-label class=\"ion-margin-start\">Bio: Choose Question</ion-label>\n                      <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][15]\" placeholder=\"None\" [disabled]=\"!moment._id\"> <!--Organizer's Bio-->\n                        <ion-select-option [value]=\"null\">None</ion-select-option>\n                        <div *ngFor=\"let preference of preferences\">\n                          <div *ngIf=\"moment.matrix_number[i][1] && preference.array_boolean[3]\">\n                            <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                              <div *ngIf=\"comp === 40000 || comp === 40020\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                              </div>\n                              <div *ngIf=\"comp === 40010\">\n                                <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </ion-select>\n                    </div>\n                    <ion-item class=\"person-content-item\">\n                      <ion-button shape=\"round\" slot=\"end\" (click)=\"editOnboarding($event, 4)\" [disabled]=\"!moment._id\">\n                        Add/Modify Questions\n                      </ion-button>\n                    </ion-item>\n                  </ion-card-content>\n                </ion-card>\n              </ion-row>\n              <div style=\"margin: 16px\" *ngFor=\"let preference of preferences\">\n                <div *ngIf=\"moment.matrix_number[i][1] && preference.array_boolean[3]\">\n                  <div>{{preference.matrix_string[0][1]}}</div>\n                  <div *ngFor=\"let comp of preference.resource.matrix_number[0]; index as j\">\n                    <ion-card *ngIf=\"comp === 40000 || comp === 40020\">\n                      <p class=\"ion-margin-start\">{{preference.resource['en-US'].matrix_string[j][1]}}</p>\n                      <ion-card-content>\n                        <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 1, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]\" slot=\"start\">\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][1] === -1\" value=-1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]}}</ion-select-option>\n                        </ion-select>\n                        <ion-select *ngIf=\"preference.config[j][1] > -1\" [interfaceOptions]=\"{cssClass: 'level-15'}\" interface=\"action-sheet\" (ionChange)=\"changedMatchingConfig(preference._id, j, 2, $event)\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]\" slot=\"end\">\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 1\" value=1>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 2\" value=2>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 3\" value=3>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]}}</ion-select-option>\n                          <ion-select-option [class.selected]=\"preference.config[j][2] === 4\" value=4>{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]}}</ion-select-option>\n                        </ion-select>\n                      </ion-card-content>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" >\n                        <div color=\"grey\" style=\"font-size: 12px;\" slot=\"start\" class=\"ion-no-margin\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10]}}</div>\n                        <ion-icon name=\"alert-circle\" (click)=\"explainWeight()\"></ion-icon>\n                      </ion-item>\n                      <ion-item *ngIf=\"preference.config[j][1] === 1\" lines=\"none\" class=\"ion-no-padding\">\n                        <ion-range style=\"width: 60%; min-width: 300px\" min=\"-3\" max=\"3\" [value]=\"preference.config[j][3]\" (ionChange)=\"changedMatchingConfig(preference._id, j, 3, $event)\" debounce=\"50\" lines=\"none\">\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n                          <ion-label [ngStyle]=\"{'font-size': platform.width() < 576 ? '8px' : '12px'}\" style=\"max-width: 15%\" class=\"ion-text-wrap\" slot=\"end\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n                        </ion-range>\n                      </ion-item>\n                    </ion-card>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n          <ion-item lines=\"none\" *ngIf=\"!moment._id\">\n            <ion-icon name=\"alert-circle\" slot=\"start\" color=\"danger\"></ion-icon>\n            <ion-label class=\"ion-text-wrap\" color=\"danger\">The matching configurations will be available after you save your activity.</ion-label>\n          </ion-item>\n        </div>\n        <div *ngIf=\"item === 10500\"> <!--People-->\n          <ion-item lines=\"none\">\n            <ion-reorder slot=\"start\"><ion-icon name=\"menu\"></ion-icon></ion-reorder>\n            <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/avatar-group.png\"></div>\n            <div class=\"moment-input\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][0]}}</div>\n            <ion-buttons slot=\"end\" [hidden]=\"!editTemplate\" class=\"ion-no-margin\">\n              <ion-button fill=\"clear\" (click)=\"removeComponent(i, item)\" class=\"close-button\"><ion-icon name=\"close\" color=\"grey\"></ion-icon></ion-button>\n            </ion-buttons>\n          </ion-item>\n          <ion-toolbar class=\"filter\">\n            <ion-segment [(ngModel)]=\"participantsView\">\n              <ion-segment-button value=\"participants\">{{participantsLabel}}</ion-segment-button>\n              <ion-segment-button value=\"leaders\">{{leadersLabel}}</ion-segment-button>\n              <ion-segment-button value=\"organizers\">{{organizersLabel}}</ion-segment-button>\n            </ion-segment>\n          </ion-toolbar>\n          <ion-row class=\"ion-justify-content-center\">\n            <ion-card class=\"person-card\">\n              <ion-card-header>\n                <div class=\"person-photo-container\">\n                  <ion-img class=\"person-photo\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                </div>\n              </ion-card-header>\n              <ion-card-content class=\"person-content ion-no-padding\" *ngIf=\"preferences && preferences.length\">\n                <div *ngFor=\"let question_id of moment.matrix_number[i] | slice: 11; index as k\">\n                  <ion-item *ngIf=\"k % 3 === ((participantsView === 'organizers') ? 1 : (participantsView === 'leaders' ? 2 : 0))\" class=\"person-content-item\">\n                    <ion-label position=\"stacked\">Bio: Choose Question</ion-label>\n                    <ion-select interface=\"action-sheet\" [(ngModel)]=\"moment.matrix_number[i][k + 11]\" placeholder=\"None\"> <!--Participant's Title-->\n                      <ion-select-option [value]=\"null\">None</ion-select-option>\n                      <div *ngFor=\"let preference of preferences\">\n                        <div *ngIf=\"preference.array_boolean[2 + ((participantsView === 'organizers') ? 1 : (participantsView === 'leaders' ? 2 : 0))]\">\n                          <div *ngFor=\"let item of preference.resource.matrix_number[0]; index as j\">\n                            <div *ngIf=\"item  === 40000 || item === 40020\">\n                              <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.resource['en-US'].matrix_string[j][1]}}</ion-select-option>\n                            </div>\n                            <div *ngIf=\"item  === 40010\">\n                              <ion-select-option [value]=\"preference.resource.matrix_number[2][j]\">{{preference.matrix_string[j][0]}}</ion-select-option>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </ion-select>\n                  </ion-item>\n                </div>\n                <ion-item class=\"person-content-item\">\n                  <ion-button shape=\"round\" slot=\"start\" (click)=\"addPeopleProfileBio(i)\">\n                    Add Bio Item\n                  </ion-button>\n                  <ion-button shape=\"round\" slot=\"end\" (click)=\"editOnboarding($event, 4)\" [disabled]=\"!moment._id\">\n                    Add/Modify Questions\n                  </ion-button>\n                </ion-item>\n              </ion-card-content>\n            </ion-card>\n          </ion-row>\n          <div *ngIf=\"participantsView === 'participants'\">\n            <!--Participant Bio-->\n            <ion-item lines=\"none\"> <!--Show Participants-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][1]}}</ion-label>\n              <ion-toggle [(ngModel)]=\"moment.matrix_number[i][0]\" slot=\"end\"></ion-toggle>\n            </ion-item>\n            <ion-item lines=\"none\"> <!--Participant's Title-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">Participant's Title</ion-label>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Singular-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][4]\" [(ngModel)]=\"moment.matrix_string[i][2]\"></ion-input>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Plural-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][5]\" [(ngModel)]=\"moment.matrix_string[i][3]\"></ion-input>\n            </ion-item>\n            <div *ngIf=\"moment._id\"> <!--Only show this if loading an activity-->\n              <ion-item lines=\"none\">\n                <ion-label>Invitation links for new {{participantsLabel.toLowerCase()}}:</ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label style=\"font-size: 10px\" class=\"ion-text-wrap\" color=\"grey\">{{networkService.webapp_domain}}{{'/app/activity/'}}{{moment._id}}{{';type=2;token='}}{{moment.access_tokens[0]}}</ion-label>\n                <ion-button (click)=\"inviteLinkAction(2)\" [hidden]=\"platform.is('mobileweb')\">\n                  <ion-icon name=\"clipboard\" *ngIf=\"!platform.is('cordova')\"></ion-icon>\n                  <ion-icon name=\"share\" *ngIf=\"platform.is('cordova')\"></ion-icon>\n                </ion-button>\n              </ion-item>\n            </div>\n            <ion-grid *ngIf=\"moment._id\" class=\"user-list-preview\">\n              <ion-row class=\"participant-row\">\n                <ion-col class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_1'], participantsLabel)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <img src=\"assets/img/avatar-default.jpg\"/>\n                      </ion-avatar>\n                      <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{participantLabel}}</ion-label> <!--Add Participant-->\n                    </div>\n                  </ion-item>\n                </ion-col>\n                <ion-col *ngFor=\"let user of moment.user_list_1; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                        <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                      </ion-avatar>\n                      <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'participant', j)\"></ion-icon>\n                      <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                    </div>\n                  </ion-item>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </div>\n          <!--Show Organizers-->\n          <div *ngIf=\"participantsView === 'organizers'\">\n            <ion-item lines=\"none\"> <!--Show Organizers-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][2]}}</ion-label>\n              <ion-toggle [(ngModel)]=\"moment.matrix_number[i][1]\" slot=\"end\"></ion-toggle>\n            </ion-item>\n            <ion-item lines=\"none\"> <!--Organizer's Title-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">Organizer's Title</ion-label>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Singular-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][6]\" [(ngModel)]=\"moment.matrix_string[i][4]\"></ion-input>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Plural-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][7]\" [(ngModel)]=\"moment.matrix_string[i][5]\"></ion-input>\n            </ion-item>\n            <div *ngIf=\"moment._id\"> <!--Only show this if loading an activity-->\n              <ion-item lines=\"none\">\n                <ion-label>Invitation link for new {{organizersLabel.toLowerCase()}}:</ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label style=\"font-size: 10px\" class=\"ion-text-wrap\" color=\"grey\">{{networkService.webapp_domain}}{{'/app/activity/'}}{{moment._id}}{{';type=3;token='}}{{moment.access_tokens[1]}}</ion-label>\n                <ion-button (click)=\"inviteLinkAction(3)\" [hidden]=\"platform.is('mobileweb')\">\n                  <ion-icon name=\"clipboard\" *ngIf=\"!platform.is('cordova')\"></ion-icon>\n                  <ion-icon name=\"share\" *ngIf=\"platform.is('cordova')\"></ion-icon>\n                </ion-button>\n              </ion-item>\n            </div>\n            <ion-grid class=\"user-list-preview\" *ngIf=\"moment._id\">\n              <ion-row class=\"participant-row\">\n                <ion-col class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_2'], organizersLabel)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <img src=\"assets/img/avatar-default.jpg\"/>\n                      </ion-avatar>\n                      <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{organizerLabel}}</ion-label>\n                    </div>\n                  </ion-item>\n                </ion-col>\n                <ion-col *ngFor=\"let user of moment.user_list_2; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                        <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                      </ion-avatar>\n                      <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'organizer', j)\"></ion-icon>\n                      <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                    </div>\n                  </ion-item>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </div>\n          <!--Show Leaders-->\n          <div *ngIf=\"participantsView === 'leaders'\">\n            <ion-item lines=\"none\"> <!--Show Leaders-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][3]}}</ion-label>\n              <ion-toggle [(ngModel)]=\"moment.matrix_number[i][2]\" slot=\"end\"></ion-toggle>\n            </ion-item>\n            <ion-item lines=\"none\"> <!--Leader's Title-->\n              <ion-label style=\"width: 70%\" color=\"grey\" slot=\"start\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10]}}</ion-label>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Singular-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][11]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][8]\" [(ngModel)]=\"moment.matrix_string[i][0]\"></ion-input>\n            </ion-item>\n            <ion-item lines=\"none\" class=\"ion-margin-left\"> <!--Plural-->\n              <ion-label color=\"grey\" position=\"stacked\">{{resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][12]}}</ion-label>\n              <ion-input class=\"ion-text-end\" type=\"text\" [placeholder]=\"resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][9]\" [(ngModel)]=\"moment.matrix_string[i][1]\"></ion-input>\n            </ion-item>\n            <div *ngIf=\"moment._id\"> <!--Only show this if loading an activity-->\n              <ion-item lines=\"none\">\n                <ion-label>Invitation link for new {{leadersLabel.toLowerCase()}}:</ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <ion-label style=\"font-size: 10px\" class=\"ion-text-wrap\" color=\"grey\">{{networkService.webapp_domain}}{{'/app/activity/'}}{{moment._id}}{{';type=4;token='}}{{moment.access_tokens[2]}}</ion-label>\n                <ion-button (click)=\"inviteLinkAction(4)\" [hidden]=\"platform.is('mobileweb')\">\n                  <ion-icon name=\"clipboard\" *ngIf=\"!platform.is('cordova')\"></ion-icon>\n                  <ion-icon name=\"share\" *ngIf=\"platform.is('cordova')\"></ion-icon>\n                </ion-button>\n              </ion-item>\n            </div>\n            <ion-grid *ngIf=\"moment._id\" class=\"user-list-preview\">\n              <ion-row class=\"participant-row\">\n                <ion-col class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_3'], leadersLabel)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <img src=\"assets/img/avatar-default.jpg\"/>\n                      </ion-avatar>\n                      <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{leaderLabel}}</ion-label>\n                    </div>\n                  </ion-item>\n                </ion-col>\n                <ion-col *ngFor=\"let user of moment.user_list_3; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                  <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                    <div class=\"participant-centered\">\n                      <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                        <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                        <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                      </ion-avatar>\n                      <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'leader', j)\"></ion-icon>\n                      <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                    </div>\n                  </ion-item>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </div>\n        </div>\n        <ion-item-divider style=\"min-height: 0\"></ion-item-divider>\n      </div>\n    </ion-reorder-group>\n  </ion-list>\n  <ion-buttons class=\"ion-padding\">\n      <span *ngFor=\"let obj of selectedPersonOrGroup\">\n        <ion-button color=\"primary\" shape=\"round\" fill=\"solid\" *ngIf=\"obj.conversation.type === 'connect'\" (click)=\"unselect(obj)\">{{obj.data.name}}<ion-icon [hidden]=\"obj.locked\" name=\"close-circle\" style=\"margin-left: 5px;\"></ion-icon></ion-button>\n        <ion-button color=\"primary\" shape=\"round\" fill=\"solid\" *ngIf=\"obj.conversation.type === 'group'\" (click)=\"unselect(obj)\">{{obj.conversation.group.name}}<ion-icon [hidden]=\"obj.locked\" name=\"close-circle\" style=\"margin-left: 5px;\"></ion-icon></ion-button>\n      </span>\n  </ion-buttons>\n  <ion-item [hidden]=\"moment._id || !shareOption\" (click)=\"presentPickPeoplePopover($event, 'connect', resource['en-US'].value[6])\"> <!--Add Friends-->\n    <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/avatar-group.png\"></div>\n    <div class=\"moment-input\">{{resource['en-US'].value[6]}}</div>\n  </ion-item>\n  <ion-item [hidden]=\"moment._id || !shareOption\" (click)=\"presentPickPeoplePopover($event, 'group', resource['en-US'].value[7])\"> <!--Add Groups-->\n    <div class=\"moment-label\"> <img class=\"side-image\" src=\"assets/img/avatar-group.png\"></div>\n    <div class=\"moment-input\">{{resource['en-US'].value[7]}}</div>\n  </ion-item>\n</ion-content>\n<ion-footer style=\"max-height: 20%; overflow: scroll\" *ngIf=\"editTemplate && resource && resource._id && moment.resource && moment.resource.field\">\n  <ion-toolbar>\n    <div class=\"component-options\" *ngIf=\"editTemplate\">\n      <ion-button *ngFor=\"let componentOption of resource['en-US'].matrix_string; index as i;\" shape=\"round\" fill=\"solid\" color=\"primary\" size=\"small\" [hidden]=\"resource.matrix_number[1][i] < 1 || (resource.matrix_number[0][i] >= 10310 && resource.matrix_number[0][i] <= 10360) || resource.matrix_number[0][i] === 40000\" (click)=\"addComponent(resource.matrix_number[0][i])\">\n        <div class=\"addRemoveText\">+ {{componentOption[0]}}</div>\n      </ion-button>\n    </div>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editparticipants/editparticipants.page.html":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editparticipants/editparticipants.page.html ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header *ngIf=\"modalPage\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"closeModal(false)\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-grid>\n      <ion-row>\n        <ion-col> <!--css is defined in editfeature.page.scss-->\n          <div class=\"title\" [ngClass]=\"{'ios': platform.is('ios')}\">{{title}}</div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"resource && resource._id && moment.resource && moment.resource.field\">\n  <ion-item lines=\"none\">\n    <ion-label>{{participantsLabel}}</ion-label>\n  </ion-item>\n  <ion-grid *ngIf=\"moment._id\" class=\"user-list-preview\">\n    <ion-row class=\"participant-row\">\n      <ion-col class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_1'], participantsLabel)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <img src=\"assets/img/avatar-default.jpg\"/>\n            </ion-avatar>\n            <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{participantLabel}}</ion-label> <!--Add Participant-->\n          </div>\n        </ion-item>\n      </ion-col>\n      <ion-col *ngFor=\"let user of moment.user_list_1; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n              <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n            </ion-avatar>\n            <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'participant', j)\"></ion-icon>\n            <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n          </div>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <ion-item lines=\"none\">\n    <ion-label>{{leadersLabel}}</ion-label>\n  </ion-item>\n  <ion-grid *ngIf=\"moment._id\" class=\"user-list-preview\">\n    <ion-row class=\"participant-row\">\n      <ion-col class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_3'], leadersLabel)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <img src=\"assets/img/avatar-default.jpg\"/>\n            </ion-avatar>\n            <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{leaderLabel}}</ion-label>\n          </div>\n        </ion-item>\n      </ion-col>\n      <ion-col *ngFor=\"let user of moment.user_list_3; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n              <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n            </ion-avatar>\n            <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'leader', j)\"></ion-icon>\n            <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n          </div>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <ion-item lines=\"none\">\n    <ion-label>{{organizersLabel}}</ion-label>\n  </ion-item>\n  <ion-grid class=\"user-list-preview\" *ngIf=\"moment._id\">\n    <ion-row class=\"participant-row\">\n      <ion-col class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"addParticipants($event, 'connect', ['user_list_2'], organizersLabel)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <img src=\"assets/img/avatar-default.jpg\"/>\n            </ion-avatar>\n            <ion-label class=\"participant-label ion-text-center\">{{resource['en-US'].value[31]}} {{organizerLabel}}</ion-label>\n          </div>\n        </ion-item>\n      </ion-col>\n      <ion-col *ngFor=\"let user of moment.user_list_2; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n        <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n          <div class=\"participant-centered\">\n            <ion-avatar class=\"participant-avatar\" slot=\"start\">\n              <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n              <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n            </ion-avatar>\n            <ion-icon class=\"participant-joined\" color=\"danger\" name=\"remove-circle\" (click)=\"removeParticipant($event, 'organizer', j)\"></ion-icon>\n            <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n          </div>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/onboardfeature/onboardfeature.page.html":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/onboardfeature/onboardfeature.page.html ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header no-border>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"back()\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"auto\">\n          <div class=\"ion-text-wrap title\" *ngIf=\"moment\">{{moment.matrix_string[0][0]}}</div>\n        </ion-col>\n        <ion-col size=\"auto\">\n          <div class=\"ion-text-wrap subtitle\" *ngIf=\"moment && moment.program\">{{moment.program.matrix_string[0][0]}}</div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-slides [options]=\"slidesOpts\" *ngIf=\"loadCompleted && !reachedEnd\" (ionSlideTransitionStart)=\"slideChanges()\">\n    <ion-slide *ngFor=\"let item of moment.resource.matrix_number[0] | slice : (moment.resource.matrix_number[0].indexOf(20010) + 1); trackBy: customTrackBy; index as i;\">\n      <ion-grid class=\"slide-grid\">\n        <!--align vertical center except m.c. and tile choice when their choices are 4+ (they need overflow: scroll to show all the options)-->\n        <ion-row class=\"ion-justify-content-center slide-row\" [ngClass]=\"{'slide-row-align': !((item === 40010) || (item == 40000 || item == 40020) && interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]].length > 4)}\">\n          <ion-col [ngClass]=\"{'slide-col': ((item == 40000 || item == 40020) && (interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]].length > 4)) || (item === 40010)}\">\n            <ion-item *ngIf=\"item === 10010\" lines=\"none\"> <!--textarea-->\n              <div class=\"textarea center ion-text-wrap ion-justify-content-center\" [innerHTML]=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] | nl2br\"></div>\n            </ion-item>\n            <ion-item color=\"grey\" *ngIf=\"item === 10050\" lines=\"none\"> <!--section header-->\n              <div class=\"section-header\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n            </ion-item>\n            <ion-item-group *ngIf=\"item === 10100\"> <!--location-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"navigate\"></ion-icon></div>\n                <ion-label class=\"label-title\">Location</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.location.location}} </ion-label>\n              </ion-item>\n              <a [href]=\"addressURL\" target=\"_blank\" *ngIf=\"mapURL.length\">\n                <div class=\"map-container\">\n                  <img [src]=\"mapURL\" />\n                </div>\n              </a>\n            </ion-item-group>\n            <ion-item-group *ngIf=\"item === 20000\"> <!--Visibility-->\n              <ion-item *ngIf=\"moment.array_community && moment.array_community.length\" lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"home\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]}}</ion-label>\n                <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let community of moment.array_community; index as j\"><span *ngIf=\"j > 0\">, </span>{{community.name}}</span></ion-label>\n              </ion-item>\n              <ion-item *ngIf=\"moment.categories && moment.categories.length\" lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"bookmark\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][6]}}</ion-label>\n                <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let category of moment.categories; index as j\"><span *ngIf=\"j > 0\">, </span>{{category['en-US'].value[0]}}</span></ion-label>\n              </ion-item>\n            </ion-item-group>\n            <ion-item-group *ngIf=\"item === 10200\"> <!--start/end date and time-->\n              <ion-item *ngIf=\"moment.calendar\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n                <ion-label class=\"label-title\">Start Time</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.calendar.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n              </ion-item>\n              <ion-item *ngIf=\"moment.calendar\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n                <ion-label class=\"label-title\">End Time</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n              </ion-item>\n            </ion-item-group>\n            <div class=\"component\" *ngIf=\"item === 10370\"> <!--Plan-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"jet\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n              </ion-item>\n              <ion-item *ngFor=\"let planModule of planModules; let j = index;\" (click)=\"openModule(planModule)\">\n                <ion-badge slot=\"start\" class=\"moment-type\">{{planModule.resource['en-US'].value[0]}}</ion-badge>\n                <span class=\"module-number\">{{j+1}}.</span>\n                <span class=\"moment-input\">{{planModule.matrix_string[0][0]}}</span>\n                <ion-note style=\"max-width: 30%\" class=\"ion-text-wrap ion-no-margin\" slot=\"end\">{{planModule.calendar.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n              </ion-item>\n            </div>\n            <!--Photo Viewer-->\n            <div *ngIf=\"(item === 10010 || item === 10300 || item === 10310 || item === 10360 || item === 40010)\">\n              <div [ngStyle]=\"{'width': 100/(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length - ((item === 10010 || item === 40010) ? 11 : 0)) - (((moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length - ((item === 10010 || item === 40010) ? 11 : 0)) === 1) ? 30 : 0) + '%'}\" class=\"photo-split-view\" *ngFor=\"let url of moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] | slice: ((item === 10010 || item === 40010) ? 11 : 0)\">\n                <ion-thumbnail class=\"thumbnail-item\" (click)=\"focusPhoto($event, url)\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n                  <ion-img [src]=\"url\"></ion-img>\n                </ion-thumbnail>\n                <div class=\"icon-container\">\n                  <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                </div>\n                <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"player = $event\" (click)=\"$event.stopPropagation()\"></div>\n                <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n              </div>\n            </div>\n            <!--Video Player-->\n            <ion-item *ngIf=\"item === 10320 && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].length\" lines=\"none\">\n              <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0], 'type': 'video/' + (moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>\n            </ion-item>\n            <!--Youtube Player-->\n            <ion-item *ngIf=\"item === 10330 && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].length\" lines=\"none\">\n              <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0], 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" (click)=\"$event.stopPropagation()\"></div>\n            </ion-item>\n            <!--Video Conference-->\n            <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n              <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"videocam\"></ion-icon></div>\n              <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n            </ion-item>\n            <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n              <ion-button (click)=\"joinVideoConference($event, moment)\" style=\"margin: 0 auto\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]}} {{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-button> <!--Join Conference-->\n            </ion-item>\n            <div class=\"component\" *ngIf=\"item === 10500\"> <!--Manage Participants-->\n              <!--<ion-item lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"people\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>-->\n              <ion-toolbar class=\"filter\" *ngIf=\"(this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] + this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] + this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]) > 1\">\n                <ion-segment [(ngModel)]=\"participantsView\">\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]\" value=\"participants\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\" value=\"leaders\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][9]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\" value=\"leaders\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\" value=\"organizers\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][7]}}</ion-segment-button>\n                </ion-segment>\n              </ion-toolbar>\n              <!--Show Participants-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && participantsView === 'participants'\">\n                <ion-item lines=\"none\">\n                  <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"people\"></ion-icon></div>\n                  <ion-label class=\"label-title\" *ngIf=\"moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_1; index as j\" class=\"ion-align-self-center\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" size-xl=\"1\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreoptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n              <!--Show Organizers-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] && participantsView === 'organizers'\">\n                <ion-item lines=\"none\">\n                  <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"people\"></ion-icon></div>\n                  <ion-label class=\"label-title\" *ngIf=\"moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][7]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_2; index as j\" class=\"ion-align-self-center\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" size-xl=\"1\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreoptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n              <!--Show Leaders-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && participantsView === 'leaders'\">\n                <ion-item lines=\"none\">\n                  <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"people\"></ion-icon></div>\n                  <ion-label class=\"label-title\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][9]}}</ion-label>\n                  <ion-label class=\"label-title\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_3; index as j\" class=\"ion-align-self-center\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" size-xl=\"1\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreoptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 30000\"> <!--Poll-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><img class=\"side-image\" src=\"assets/img/Poll_Gray.png\" /></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <div class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]; index as pollOptionIndex\">\n                <div class=\"optionsContainer\">\n                  <p class=\"option ion-text-wrap\">{{pollOptionIndex+1}}. {{display.option}}</p>\n                </div>\n                <div class=\"votesContainer\">\n                  <p class=\"votecount\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}: {{display.count}}</p>\n                </div>\n                <div class=\"userContainer\">\n                  <ion-icon class=\"uservoted\" *ngIf=\"display.votedByUser\" name=\"checkmark\"></ion-icon>\n                  <ion-button size=\"small\" shape=\"round\" fill='solid' class=\"uservote ion-text-wrap\" *ngIf=\"!display.votedByUser\" (click)=\"voteOnPoll($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, pollOptionIndex)\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][12]}}</ion-button>\n                </div>\n              </div>\n              <ion-item>\n                <div class=\"unresolvedPollFooter\">\n                  <p>{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4]}}: {{totalVoteCount[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]}}</p>\n                  <p>{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][6]}}: {{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</p>\n                </div>\n              </ion-item>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 40010\"> <!--text answer-->\n              <!-- <ion-item lines=\"none\">\n                 <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"help\"></ion-icon></div>\n                 <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n               </ion-item>-->\n              <ion-item lines=\"none\">\n                <div class=\"ion-text-wrap ion-padding-vertical \">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</div>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <quill-editor (onEditorCreated)=\"createQuillEditor($event, interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]])\" [placeholder]=\"(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4] || resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10])\"\n                              (onContentChanged)=\"respondToTextArea($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" [modules]= \"{ toolbar: false }\" [ngStyle]=\"{'height': moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] * 40 + 'px'}\" format=\"object\"></quill-editor>\n              </ion-item>\n             <!-- <ion-item>\n                <ion-textarea [rows]=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]\" [(ngModel)]=\"interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]][0]\" (ionChange)=\"responseToTextArea($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" autofocus></ion-textarea>\n              </ion-item>-->\n            </div>\n            <div class=\"component\" style=\"margin-top: 30%\" *ngIf=\"!userData.user && item === 50000\">\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"contacts\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>\n              <p>Matched results are only shown for authenticated users.</p>\n            </div>\n            <div class=\"component\" *ngIf=\"userData.user && item === 50000\"> <!--Directory-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"contacts\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>\n              <ion-toolbar class=\"filter\">\n                <ion-segment [value]=\"currentView\" (ionChange)=\"changeView($event)\">\n                  <ion-segment-button value=\"list\">People</ion-segment-button>\n                  <ion-segment-button value=\"nearby\">Nearby</ion-segment-button>\n                </ion-segment>\n              </ion-toolbar>\n              <div *ngIf=\"currentView === 'list'\">\n                <ion-list>\n                  <ion-item class=\"people-list-container\" *ngFor=\"let person of matchedPeople\" (click)=\"seeUserInfo($event, person)\">\n                    <ion-thumbnail slot=\"start\">\n                      <ion-img *ngIf=\"person.avatar\" [src]=\"person.avatar\"></ion-img>\n                      <ion-img *ngIf=\"!person.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </ion-thumbnail>\n                    <ion-col class=\"author-container\">\n                      <div class=\"author ion-text-wrap\">\n                        {{person.first_name}} {{person.last_name}}\n                      </div>\n                      <ion-note [innerHTML]=\"person.user_data_1\"></ion-note> <!--Short Biography-->\n                      <div class=\"preference\">\n                      <span *ngFor=\"let preference of person.preferences\">\n                        <ion-badge class=\"preference-badge\" *ngFor=\"let answer of preference.answers\">{{answer}}</ion-badge>\n                      </span>\n                      </div>\n                    </ion-col>\n                    <ion-col slot=\"end\" class=\"note-col\">\n                      <p class=\"note\" class=\"ion-text-end\">Score: {{person.score}}</p>\n                    </ion-col>\n                  </ion-item>\n                  <ion-item-divider class=\"ion-text-wrap\">\n                    Displaying {{matchedPeople.length}} pe<span *ngIf=\"matchedPeople.length < 2\">rson</span><span *ngIf=\"matchedPeople.length > 1\">ople</span>\n                  </ion-item-divider>\n                </ion-list>\n                <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMorePeople($event)\">\n                  <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n              </div>\n              <div id=\"mapCanvas\" *ngIf=\"currentView === 'nearby'\"></div>\n              <ion-content *ngIf=\"currentView === 'nearby'\">\n                <ion-list class=\"result-list\">\n                  <ion-item *ngFor=\"let data of mapService.mapData; index as i\" lines=\"none\">\n                    <p class=\"index\">{{i+1}}.</p>\n                    <ion-card class=\"map-card ion-text-wrap\" (click)=\"mapService.clickList(data)\">\n                      <ion-item lines=\"none\">\n                        <ion-thumbnail slot=\"start\">\n                          <img [src]=\"data.images[0] | background: data._id\"/>\n                        </ion-thumbnail>\n                        <ion-col class=\"item-container\">\n                          <div class=\"item-name ion-text-wrap\">{{data.name}}</div>\n                          <p class=\"category\">{{data.category}} <span style=\"font-style: normal\" *ngIf=\"userData.user && userData.user.churches[userData.currentCommunityIndex]._id === '5ab62be8f83e2c1a8d41f894' && data.churches && data.churches.length && !data.user\">({{data.churches[0].name}})</span></p>\n                          <p [hidden]=\"!data.location\">{{\" \"}}{{data.location?.city}}<span [hidden]=\"(!data.location?.city)||(!data.location?.state)\">{{\", \"}}</span>{{data.location?.state}}<span [hidden]=\"(!data.location?.city)&&(!data.location?.state)\">{{\" \"}}</span></p>\n                        </ion-col>\n                      </ion-item>\n                    </ion-card>\n                  </ion-item>\n                </ion-list>\n                <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMoreSearchResults($event)\">\n                  <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n              </ion-content>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 40000\"> <!--Multiple Choice-->\n              <ion-item lines=\"none\">\n                <div class=\"ion-padding-vertical ion-text-wrap\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, interactableOptionIndex)\">\n                <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.option}}</ion-label>\n                <ion-icon color=\"button1\" *ngIf=\"!display.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n                <ion-icon color=\"button1\" *ngIf=\"display.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n              </ion-item>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 40020 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 2 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] === 1\"> <!--Multiple Choice-->\n              <ion-item lines=\"none\">\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]] | keyvalue; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, display.value.createdAt)\">\n                <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.value.option}}</ion-label>\n                <ion-icon color=\"button1\" *ngIf=\"!display.value.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n                <ion-icon color=\"button1\" *ngIf=\"display.value.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n              </ion-item>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 40020  && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 2 && !moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]\"> <!--Tile Choice with Photos-->\n              <ion-item lines=\"none\">\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-grid class=\"tile-grid\">\n                <ion-row class=\"tile-row\">\n                  <ion-col class=\"tile-col\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]] | keyvalue\" class=\"ion-align-self-center\" size-xs=\"12\" size-sm=\"6\" size-md=\"4\" size-lg=\"4\" size-xl=\"3\">\n                    <ion-card class=\"tile-card\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, display.value.createdAt)\">\n                      <ion-card-header class=\"ion-no-padding\">\n                        <div class=\"tile-photo-container\">\n                          <img class=\"tile-photo\" [src]=\"display.value.image | background: display.value.option\" />\n                        </div>\n                      </ion-card-header>\n                      <ion-icon *ngIf=\"display.value.selectedByUser\" class=\"tile-option-selected\" name=\"checkmark-circle\" color=\"button2\"></ion-icon>\n                      <div class=\"tile-name ion-text-wrap\">{{display.value.option}}</div>\n                    </ion-card>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </div>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n  <div *ngIf=\"loadCompleted && reachedEnd\" style=\"height: 100%\"><!--[ngStyle]=\"{'height': (platform.width() < 768) ? '65vh' : '75vh'}\">-->\n    <ion-row class=\"ion-justify-content-center ion-align-items-center slide-row\" style=\"height: 100%\">\n      <ion-item lines=\"none\">You have completed the onboarding process.</ion-item>\n    </ion-row>\n  </div>\n  <ion-grid style=\"height: 100%\" *ngIf=\"ionSpinner\">\n    <ion-row class=\"ion-justify-content-start ion-align-items-center\" style=\"height: 100%\">\n      <ion-spinner name=\"dots\"></ion-spinner>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n\n<ion-footer *ngIf=\"!ionSpinner\">\n  <ion-toolbar>\n    <ion-row>\n      <ion-button *ngIf=\"loadCompleted && !reachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" [disabled]=\"!nextButtonReady\" (click)=\"clickNextButton('next')\">\n        <div *ngIf=\"nextButtonReady\">Next</div>\n        <div *ngIf=\"!nextButtonReady\">Saving ...</div>\n      </ion-button>\n      <ion-button *ngIf=\"loadCompleted && reachedEnd\" expand=\"full\" shape=\"round\" class=\"centered\" (click)=\"addUserToProgramUserList(programId, type, token)\">\n        Let's Get Started <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n      </ion-button>\n    </ion-row>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header id=\"pickfeature-header\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"back()\" id=\"back-button\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{title}}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"done()\" *ngIf=\"selectedMoments.length\">Done</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n  <ion-toolbar *ngIf=\"step === 2\">\n    <ion-searchbar [(ngModel)]=\"searchKeyword\" debounce=\"500\" placeholder=\"Search\"></ion-searchbar>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-grid *ngIf=\"step === 1\" class=\"full-height\">\n    <ion-row class=\"full-height grid-row\">\n      <ion-grid>\n        <ion-row>\n          <ion-label class=\"ion-margin-start\">Choose a Mentoring Type:</ion-label>\n        </ion-row>\n        <ion-row>\n          <ion-col size-xs=\"12\" size-sm=\"4\" class=\"ion-no-padding\">\n            <ion-card id=\"personal\" class=\"category-card\" (click)=\"categoryId = '5dfdbb547b00ea76b75e5a70'\" [ngClass]=\"{'selected': categoryId === '5dfdbb547b00ea76b75e5a70'}\">\n              <ion-card-header>\n                <ion-card-title>Relationship</ion-card-title>\n              </ion-card-header>\n              <ion-card-content>\n                <li>The base unit of any mentoring relationship</li>\n                <li>Directly match a mentee with a mentor</li>\n              </ion-card-content>\n            </ion-card>\n          </ion-col>\n          <ion-col size-xs=\"12\" size-sm=\"4\" class=\"ion-no-padding\">\n            <ion-card id=\"program\" class=\"category-card\" (click)=\"categoryId = '5c915475e172e4e64590e348'\" [ngClass]=\"{'selected': categoryId === '5c915475e172e4e64590e348'}\">\n              <ion-card-header>\n                <ion-card-title>Program</ion-card-title>\n              </ion-card-header>\n              <ion-card-content>\n                <li>Contain multiple mentoring relationships</li>\n                <li>Display a directory to match mentors with mentees</li>\n              </ion-card-content>\n            </ion-card>\n          </ion-col>\n          <ion-col size-xs=\"12\" size-sm=\"4\" class=\"ion-no-padding\">\n            <ion-card id=\"community\" class=\"category-card\" (click)=\"categoryId = '5c915324e172e4e64590e346'\" [ngClass]=\"{'selected': categoryId === '5c915324e172e4e64590e346'}\">\n              <ion-card-header>\n                <ion-card-title>Community</ion-card-title>\n              </ion-card-header>\n              <ion-card-content>\n                <li>A Community can contain multiple mentoring programs</li>\n              </ion-card-content>\n            </ion-card>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-row>\n  </ion-grid>\n  <div *ngIf=\"step === 2\">\n    <ion-toolbar class=\"filter\">\n      <ion-segment [(ngModel)]=\"currentView\">\n        <ion-segment-button value=\"new\">New</ion-segment-button>\n        <ion-segment-button value=\"recent\">Recent</ion-segment-button>\n      </ion-segment>\n    </ion-toolbar>\n    <div *ngIf=\"currentView === 'new'\" class=\"new-section\">\n      <div *ngFor=\"let parent of samples; index as i\">\n        <ion-label class=\"program-title ion-margin\" *ngIf=\"(categoryId !== '5e17acd47b00ea76b75e5a71') && parent.matrix_string\">{{parent.matrix_string[0][0]}}</ion-label>\n        <ion-grid class=\"program-grid\">\n          <ion-row class=\"program-row\">\n            <ion-col *ngIf=\"allowCreate && i === 0\" class=\"ion-align-self-center\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"3\">\n              <ion-card class=\"program-card\" (click)=\"createMoment()\" id=\"create-new-moment\">\n                <ion-card-header class=\"ion-no-padding\" color=\"lightgrey\">\n                  <ion-row class=\"program-photo-container ion-justify-content-center ion-align-items-center\">\n                    <ion-icon name=\"add\" color=\"darkgrey\"></ion-icon>\n                  </ion-row>\n                </ion-card-header>\n                <div class=\"program-name dark\">Create</div>\n              </ion-card>\n            </ion-col>\n            <ion-col class=\"ion-align-self-center\" *ngFor=\"let sample of parent.sample_activities; index as i\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"3\" [hidden]=\"!(sample.matrix_string[0][0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1 || sample.resource['en-US'].value[0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1)\">\n              <ion-card class=\"program-card\" (click)=\"selectSample(sample)\">\n                <ion-card-header class=\"ion-no-padding\">\n                  <div class=\"program-photo-container\">\n                    <ion-img class=\"program-photo\" [src]=\"(sample.assets && sample.assets.length && sample.assets[0]) | background: sample._id\"></ion-img>\n                  </div>\n                </ion-card-header>\n                <div class=\"program-type\"><ion-badge color=\"button1\">{{sample.resource['en-US'].value[0]}}</ion-badge></div>\n                <div class=\"program-name light\">{{sample.matrix_string[0][0]}}</div>\n                <ion-button class=\"info-moment ion-no-padding ion-no-margin\" (click)=\"openFeature($event, sample)\" fill=\"clear\" size=\"small\">\n                  <ion-icon name=\"information-circle-outline\" color=\"secondary\"></ion-icon>\n                </ion-button>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </div>\n    </div>\n    <ion-grid class=\"program-grid\" *ngIf=\"currentView === 'recent'\">\n      <ion-row class=\"program-row\">\n        <ion-col class=\"ion-align-self-center\" *ngFor=\"let calendarItem of calendarService.calendarItems.slice().reverse() | slice : 0 : (categoryId === '5e17acd47b00ea76b75e5a71' ? calendarService.calendarItems.length - 1 : 50); index as i\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"3\" [hidden]=\"!(calendarItem.moment?.resource && calendarItem.moment.resource.field === 'User Defined Activity' && (calendarItem.moment.resource['en-US'].value[0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1 || calendarItem.moment.matrix_string[0][0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1) && (calendarItem.moment.categories.indexOf(categoryId) > -1))\">\n          <ion-card class=\"program-card\" (click)=\"selectCalendarItem(calendarItem)\" *ngIf=\"calendarItem.moment\" >   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n            <ion-card-header class=\"ion-no-padding\">\n              <div class=\"program-photo-container\">\n                <ion-img class=\"program-photo\" [src]=\"(calendarItem.moment.assets && calendarItem.moment.assets.length && calendarItem.moment.assets[0]) | background: calendarItem.moment._id\"></ion-img>\n              </div>\n            </ion-card-header>\n            <div class=\"program-type\"><ion-badge color=\"button1\">{{calendarItem.moment.resource['en-US'].value[0]}}</ion-badge></div>\n            <div class=\"program-name light\">{{calendarItem.moment.matrix_string[0][0]}}</div>\n            <ion-button class=\"info-moment ion-no-padding ion-no-margin\" (click)=\"openFeature($event, calendarItem.moment)\" fill=\"clear\" size=\"small\">\n              <ion-icon name=\"information-circle-outline\" color=\"secondary\"></ion-icon>\n            </ion-button>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n</ion-content>\n\n<ion-footer>\n  <ion-toolbar *ngIf=\"step === 1\">\n    <ion-row>\n      <ion-button (click)=\"selectCategory()\" expand=\"full\" shape=\"round\" class=\"centered\" id=\"next-button\">Next</ion-button>\n    </ion-row>\n  </ion-toolbar>\n  <ion-toolbar *ngIf=\"step === 2 && selectedMoments.length\">\n    <ion-grid class=\"selected-grid\">\n      <ion-row>\n        <ion-col class=\"ion-align-self-center\" *ngFor=\"let moment of selectedMoments; index as i\" size-xs=\"6\" size-sm=\"4\" size-md=\"3\" size-lg=\"3\" size-xl=\"3\">\n          <ion-card class=\"program-card\" (click)=\"openFeature(moment)\">\n            <ion-card-header class=\"ion-no-padding\">\n              <div class=\"program-photo-container\">\n                <ion-img class=\"program-photo\" [src]=\"(moment.assets && moment.assets.length && moment.assets[0]) | background: moment._id\"></ion-img>\n              </div>\n            </ion-card-header>\n            <div class=\"program-type\"><ion-badge color=\"button1\">{{moment.resource['en-US'].value[0]}}</ion-badge></div>\n            <div class=\"program-name light\">{{moment.matrix_string[0][0]}}</div>\n            <ion-button class=\"remove-moment ion-no-padding ion-no-margin\" (click)=\"removeMoment(i)\" fill=\"clear\" size=\"small\">\n              <ion-icon name=\"close\" color=\"secondary\"></ion-icon>\n            </ion-button>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"close()\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>{{title}}</ion-title>\n    <ion-buttons id=\"done\" slot=\"end\">\n      <ion-button *ngIf=\"shareLink\" (click)=\"share()\"><ion-icon name=\"share\"></ion-icon></ion-button>\n      <ion-button (click)=\"submitPeople()\">Done</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n  <ion-toolbar>\n    <!--<ion-card class=\"card-description\" *ngIf=\"hasOrganizerAccess\" >\n      <ion-card-content *ngIf=\"invitationType === 'user_list_1'\">\n        <ion-card-title class=\"ion-text-wrap ion-margin-bottom\">{{participantLabel}}'s Privileges</ion-card-title>\n        <li>Access {{participantLabel}}'s Onboarding Process</li>\n        <li>Update {{participantLabel}}'s Profile</li>\n      </ion-card-content>\n      <ion-card-content *ngIf=\"invitationType === 'user_list_3'\">\n        <ion-card-title class=\"ion-text-wrap ion-margin-bottom\">{{leaderLabel}}'s Privileges</ion-card-title>\n        <li>Access {{leaderLabel}}'s Onboarding Process</li>\n        <li>Update {{leaderLabel}}'s Profile</li>\n      </ion-card-content>\n      <ion-card-content *ngIf=\"invitationType === 'user_list_2'\">\n        <ion-card-title class=\"ion-text-wrap ion-margin-bottom\">{{organizerLabel}}'s Privileges</ion-card-title>\n        <li>Invite {{leadersLabel}} and {{organizersLabel}}</li>\n        <li>Modify Onboarding Processes</li>\n        <li>Edit and Delete {{moment.resource['en-US'].value[0]}}</li>\n      </ion-card-content>\n    </ion-card>-->\n    <ion-searchbar #searchbar [(ngModel)]=\"searchKeyword\" (ionChange)=\"executeSearch($event)\" (ionCancel)=\"cancelSearch($event)\" [placeholder]=\"action\" debounce=\"500\"></ion-searchbar>\n    <!--Add Friends-->\n    <div class=\"selected-buttons\">\n      <ion-button *ngFor=\"let obj of selectedConversations\" size=\"small\" color=\"primary\" (click)=\"unselectFriend(obj)\" ><span *ngIf=\"(filter === 'connect' || filter === 'both') && (obj.conversation.type === 'connect' || obj.conversation.type === 'self')\">{{obj.data.name}}</span><span *ngIf=\"(filter === 'group' || filter === 'both') && obj.conversation.type === 'group'\">{{obj.conversation.group.name}}</span><ion-icon [hidden]=\"obj.locked\" name=\"close-circle\" style=\"margin-left: 5px;\"></ion-icon></ion-button>\n      <ion-button size=\"small\" *ngFor=\"let person of selectedAppUsers\" (click)=\"unselectAppUser(person)\">{{person.name}}<ion-icon name=\"close-circle\" style=\"margin-left: 5px;\"></ion-icon></ion-button>\n    </div>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <ion-list>\n    <ion-list-header *ngIf=\"hasOrganizerAccess\">Friends</ion-list-header>\n    <ion-virtual-scroll [items]=\"conversations\" approxItemHeight=\"60px\">\n      <div *virtualItem=\"let obj\">\n        <ion-item (click)=\"selectFriend(obj)\" *ngIf=\"(filter === 'connect' || filter === 'both') && (obj.conversation.type === 'connect' ||  (obj.conversation.type === 'self' && includeSelf))\">\n          <ion-avatar slot=\"start\">\n            <ion-img *ngIf=\"obj.data.participant.avatar\" [src]=\"obj.data.participant.avatar\"></ion-img>\n            <ion-img *ngIf=\"!obj.data.participant.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n          </ion-avatar>\n          {{obj.data.name}}\n          <ion-icon slot=\"end\" color=\"tertiary\" *ngIf=\"!obj.select\" name=\"radio-button-off\"></ion-icon>\n          <ion-icon slot=\"end\" color=\"tertiary\" *ngIf=\"obj.select\" name=\"checkmark-circle\"></ion-icon>\n        </ion-item>\n        <ion-item (click)=\"selectFriend(obj)\" *ngIf=\"(filter === 'group' || filter === 'both') && obj.conversation.type === 'group'\">\n          <ion-avatar slot=\"start\">\n            <img *ngIf=\"obj.conversation.group.background\" [src]=\"obj.conversation.group.background\"/>\n            <img *ngIf=\"!obj.conversation.group.background\" src=\"assets/img/group-default.png\"/>\n          </ion-avatar>\n          {{obj.conversation.group.name}}\n          <ion-icon slot=\"end\" color=\"tertiary\" *ngIf=\"!obj.select\" name=\"radio-button-off\"></ion-icon>\n          <ion-icon slot=\"end\" color=\"tertiary\" *ngIf=\"obj.select\" name=\"checkmark-circle\"></ion-icon>\n        </ion-item>\n      </div>\n    </ion-virtual-scroll>\n    <ion-list-header *ngIf=\"hasOrganizerAccess\">{{userData.user.churches[userData.currentCommunityIndex].name}}</ion-list-header>\n    <ion-list *ngIf=\"hasOrganizerAccess\">\n      <ion-item *ngFor=\"let person of listOfAppUsers; trackBy: customTrackBy\" (click)=\"selectAppUser(person)\">\n        <ion-avatar slot=\"start\">\n          <ion-img *ngIf=\"person.avatar\" [src]=\"person.avatar\"></ion-img>\n          <ion-img *ngIf=\"!person.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n        </ion-avatar>\n        {{person.name}}\n        <ion-icon color=\"button1\" *ngIf=\"!person.select\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n        <ion-icon color=\"button1\" *ngIf=\"person.select\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n      </ion-item>\n    </ion-list>\n    <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMoreAppUsers($event)\">\n      <ion-infinite-scroll-content></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n  </ion-list>\n</ion-content>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/showfeature/showfeature.page.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/showfeature/showfeature.page.html ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header *ngIf=\"modalPage || !(router.url.includes('discover/home') || router.url.includes('manage/activity'))\"> <!--hide header if embedded in Discover page or Manage community/program mode-->\n  <ion-toolbar>\n    <ion-menu-toggle menu=\"main\" *ngIf=\"!modalPage && userData.user\" slot=\"start\" fill=\"clear\" id='menuToggle'>\n      <ion-button fill=\"clear\" color=\"grey\">\n        <ion-icon name=\"menu\"></ion-icon>\n      </ion-button>\n      <ion-badge *ngIf=\"this.chatService && this.chatService.connectTabBadge\" mode=\"md\">{{this.chatService.connectTabBadge}}</ion-badge>\n    </ion-menu-toggle>\n    <ion-buttons *ngIf=\"authService.token && (modalPage || platform.width() >= 768)\" slot=\"start\">\n      <ion-button (click)=\"closeModal()\">\n        <ion-icon name=\"chevron-back-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n    <ion-title id=\"show-event-title\" *ngIf=\"moment && moment.matrix_string\" (click)=\"toggleSpecialAccess($event)\" class=\"ion-text-wrap\">{{moment.matrix_string[0][0]}}<ion-note *ngIf=\"hasSpecialPrivilege\" class=\"ion-align-items-baseline\"><ion-icon [name]=\"(showSpecialAccess ? 'chevron-up-outline' : 'chevron-down-outline')\"></ion-icon></ion-note></ion-title>\n    <ion-buttons slot=\"end\">\n      <div *ngIf=\"userData.user && ['owner','admin','staff'].indexOf(userData.user.role) > -1\">\n        <ion-button *ngIf=\"mode === 'slider'\" (click)=\"mode = 'list'; currentView = 'list'\">\n          <ion-icon name=\"list\"></ion-icon>\n        </ion-button>\n        <ion-button *ngIf=\"loadCompleted && moment && moment.resource && moment.resource.matrix_number[0]?.indexOf(20010) > -1 && mode === 'list'\" (click)=\"mode = 'slider'\">\n          <ion-icon name=\"albums\"></ion-icon>\n        </ion-button>\n      </div>\n      <div *ngIf=\"relationshipId && calendarItem\">\n        <ion-button *ngIf=\"calendarItem && calendarId\" (click)=\"saveCalendarItem()\" [disabled]=\"!anyChangeMade\">\n          Done\n        </ion-button>\n      </div>\n      <ion-button (click)=\"inviteToJoin()\" *ngIf=\"authService.token && setupPermissionCompleted && loadCompleted\" [hidden]=\"relationshipId && calendarItem\">\n        <ion-icon name=\"person-add\"></ion-icon>\n      </ion-button>\n      <ion-button id=\"signin\" *ngIf=\"!authService.token\" (click)=\"openRegister(0, '')\">\n        <ion-text>Sign In</ion-text>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding-bottom\">\n  <ion-toolbar id=\"permissionBar\" *ngIf=\"showSpecialAccess && loadCompleted && setupPermissionCompleted && !(router.url.includes('discover/home') || router.url.includes('manage/activity'))\">\n    <!--Invitation Section-->\n    <ion-item-sliding side=\"end\" *ngIf=\"(participant_type === 2) && token\">\n      <ion-item (click)=\"acceptInvitation($event)\" lines=\"none\">\n        <ion-icon name=\"mail-open\" slot=\"start\" color=\"danger\"></ion-icon>\n        <div class=\"ion-text-wrap\">\n          <ion-label class=\"ion-margin-top\">Accept Invitation</ion-label>\n          <p class=\"short-paragraph\">Click to join {{moment.resource['en-US'].value[0]}}.</p>\n        </div>\n        <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      </ion-item>\n      <ion-item-options>\n        <ion-item-option color=\"primary\" (click)=\"acceptInvitation($event)\">\n          Accept\n        </ion-item-option>\n      </ion-item-options>\n    </ion-item-sliding>\n    <ion-item-sliding side=\"end\" *ngIf=\"!hasLeaderAccess && (participant_type === 4) && token\">\n      <ion-item (click)=\"acceptInvitation($event)\" lines=\"none\">\n        <ion-icon name=\"mail-open\" slot=\"start\" color=\"danger\"></ion-icon>\n        <div class=\"ion-text-wrap\">\n          <ion-label class=\"ion-margin-top\">Accept Invitation</ion-label>\n          <p class=\"short-paragraph\">Click to accept invitation to participate as a {{leaderLabel.toLowerCase()}}.</p>\n        </div>\n        <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      </ion-item>\n      <ion-item-options>\n        <ion-item-option color=\"primary\" (click)=\"acceptInvitation($event)\">\n          Accept\n        </ion-item-option>\n      </ion-item-options>\n    </ion-item-sliding>\n    <ion-item-sliding side=\"end\" *ngIf=\"!hasOrganizerAccess && (this.participant_type === 3) && token\">\n      <ion-item (click)=\"acceptInvitation($event)\" lines=\"none\">\n        <ion-icon name=\"mail-open\" slot=\"start\" color=\"danger\"></ion-icon>\n        <div class=\"ion-text-wrap\">\n          <ion-label class=\"ion-margin-top\">Accept Invitation</ion-label>\n          <p class=\"short-paragraph\">Click to accept invitation to participate as a {{organizerLabel.toLowerCase()}}.</p>\n        </div>\n        <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      </ion-item>\n      <ion-item-options>\n        <ion-item-option color=\"primary\" (click)=\"acceptInvitation($event)\">\n          Accept\n        </ion-item-option>\n      </ion-item-options>\n    </ion-item-sliding>\n    <!--Special Privileges-->\n    <ion-item *ngIf=\"hasOrganizerAccess || hasLeaderAccess\" (click)=\"this.expandPrivilegesView()\" lines=\"none\">\n      <ion-icon name=\"key\" slot=\"start\" color=\"danger\"></ion-icon>\n      <div class=\"ion-text-wrap message-container\">\n        <ion-label class=\"ion-margin-top\">You have Special Privileges</ion-label>\n        <p class=\"message-detail\">Click to access your privileges.</p>\n      </div>\n      <ion-icon *ngIf=\"expandedPrivilegesView\" name=\"chevron-up-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      <ion-icon *ngIf=\"!expandedPrivilegesView\" name=\"chevron-down-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n    </ion-item>\n    <div *ngIf=\"!joinDisabled\">\n      <!--Already Joined-->\n      <ion-item *ngIf=\"hasAddedToAttendEventList && !hasOrganizerAccess && !hasLeaderAccess\" (click)=\"moreParticipantOptions()\" lines=\"none\">\n        <ion-icon name=\"person\" slot=\"start\" color=\"danger\"></ion-icon>\n        <div class=\"ion-text-wrap message-container\">\n          <ion-label class=\"ion-margin-top\">You are a {{participantLabel}}</ion-label>\n          <p class=\"message-detail\">Click to see more options.</p>\n        </div>\n        <ion-icon name=\"chevron-down-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      </ion-item>\n      <!--Not yet Joined - permission check-->\n      <ion-item *ngIf=\"authService.token && !token && !hasAddedToAttendEventList && !hasOrganizerAccess && !hasLeaderAccess\" (click)=\"joinActivity()\" lines=\"none\">\n        <ion-icon name=\"person\" slot=\"start\" color=\"danger\"></ion-icon>\n        <ion-label class=\"ion-margin-top\">Click to join {{moment.resource['en-US'].value[0]}}</ion-label>\n        <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n      </ion-item>\n    </div>\n    <!--Privileges View-->\n    <div *ngIf=\"expandedPrivilegesView && hasOrganizerAccess\" lines=\"none\">\n      <ion-item lines=\"none\">\n        <ion-label>{{organizerLabel}}</ion-label>\n      </ion-item>\n      <ion-item-group class=\"ion-margin-start\">\n        <ion-item (click)=\"moreOrganizerActions()\">\n          <ion-label class=\"ion-margin-top\">View Actions</ion-label>\n          <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n        </ion-item>\n      </ion-item-group>\n    </div>\n    <div *ngIf=\"expandedPrivilegesView && (hasLeaderAccess || (hasOrganizerAccess && moment.array_boolean?.length > 7 && this.moment.array_boolean[7]))\" lines=\"none\">\n      <ion-item lines=\"none\">\n        <ion-label>{{leaderLabel}}</ion-label>\n      </ion-item>\n      <ion-item-group class=\"ion-margin-start\">\n        <ion-item (click)=\"moreLeaderOptions()\">\n          <ion-label class=\"ion-margin-top\">View Actions</ion-label>\n          <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n        </ion-item>\n      </ion-item-group>\n    </div>\n    <div *ngIf=\"expandedPrivilegesView\" lines=\"none\">\n      <ion-item lines=\"none\">\n        <ion-label>{{participantLabel}}</ion-label>\n      </ion-item>\n      <ion-item-group class=\"ion-margin-start\">\n        <ion-item (click)=\"moreParticipantOptions()\">\n          <ion-label class=\"ion-margin-top\">View Actions</ion-label>\n          <ion-icon name=\"chevron-forward-outline\" color=\"primary\" slot=\"end\"></ion-icon>\n        </ion-item>\n      </ion-item-group>\n    </div>\n  </ion-toolbar>\n  <ion-grid style=\"height: 100%\" *ngIf=\"!loadCompleted\">\n    <ion-row class=\"ion-justify-content-start ion-align-items-center\" style=\"height: 100%\">\n      <ion-spinner name=\"dots\"></ion-spinner>\n    </ion-row>\n  </ion-grid>\n  <ion-list *ngIf=\"loadCompleted && mode === 'list'\" class=\"ion-no-padding\">\n    <!--Content Calendar Item-->\n    <div *ngIf=\"calendarItem\">\n      <ion-item lines=\"none\">\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"brush\"></ion-icon></div>\n        <ion-textarea class=\"moment-input\" autocapitalize=\"true\" [autofocus]=\"true\" [(ngModel)]=\"calendarItem.title\" rows=\"1\" [minRows]=\"1\" [maxRows]=\"4\" autosize autocorrect=\"on\" [placeholder]=\"'New ' + moment.matrix_string[0][0] + ' Name'\" (ionInput)=\"anyChangeMade = true\"></ion-textarea>\n      </ion-item>\n      <ion-item-group *ngIf=\"calendarItem.users && calendarItem.users.length\">\n        <ion-item lines=\"none\">\n          <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"calendar\"></ion-icon></div>\n          <div class=\"moment-input\">Due Date</div>\n        </ion-item>\n        <ion-item lines=\"none\" class=\"ion-margin-start\">\n          <ion-label class=\"moment-label\" (click)=\"dateType = (dateType ? '' : 'start')\">{{calendarItem.startDate | datetime: 'w:l,m:s,y:n,d:n'}}</ion-label> <!--Start, Choose a date below-->\n          <ion-datetime placeholder=\"12:00 pm\" displayFormat=\"h:mm a\" minuteValues=\"0,15,30,45\" [(ngModel)]=\"calendarItem.startDate\" [pickerOptions]=\"{cssClass: 'level-15'}\" (ionBlur)=\"anyChangeMade = true\"></ion-datetime>\n        </ion-item>\n\n        <ion-card class=\"monthview\" *ngIf=\"dateType\">\n          <div class=\"month-title-container\">\n            <ion-icon name=\"chevron-back-outline\" class=\"calendar-arrow left\" (click)=\"calendarService.changeDate($event, 4)\"></ion-icon>\n            <h4 class=\"month-title\">{{calendarService.calendar.viewTitle}}</h4>\n            <ion-icon name=\"chevron-forward-outline\" class=\"calendar-arrow right\" (click)=\"calendarService.changeDate($event, 2)\"></ion-icon>\n          </div>\n          <div class=\"monthview-day-headers\">S</div>\n          <div class=\"monthview-day-headers\">M</div>\n          <div class=\"monthview-day-headers\">T</div>\n          <div class=\"monthview-day-headers\">W</div>\n          <div class=\"monthview-day-headers\">T</div>\n          <div class=\"monthview-day-headers\">F</div>\n          <div class=\"monthview-day-headers\">S</div>\n\n          <div class=\"monthview-element\" *ngFor=\"let dayOfMonth of calendarService.calendar.daysInViewMonth; trackBy: customTrackBy\">\n            <div (click)=\"changeCalendarItemSelectedDate(dayOfMonth.date)\" [ngClass]=\"{ 'selected-date' : calendarService.calendar.selectedDate.toString() === dayOfMonth.date.toString() && dayOfMonth.date != ' ','current-date': calendarService.calendar.currentDate.toString().substring( 0 , 15) == dayOfMonth.date.toString().substring(0 , 15)}\" class=\"monthview-element-content\">\n              <div *ngIf=\"dayOfMonth.date == ' ' \">&nbsp;&nbsp;</div>\n              <div *ngIf=\"dayOfMonth.date != ' ' \">\n                {{dayOfMonth.date.getDate()}}\n              </div>\n              <div class=\"monthview-dot-container\" *ngFor=\"let calendarItem of dayOfMonth.dayEvents; trackBy: customTrackBy; let i = index;\">\n                <div class=\"monthview-element-dot\" [ngClass]=\"{'past-calendar-item' : calendarItem.pastEvent}\" *ngIf=\"i < 5\"></div>\n              </div>\n            </div>\n          </div>\n        </ion-card>\n\n        <!-- list features after being filtered -->\n        <ion-list *ngIf=\"dateType\" lines=\"none\" class=\"list-container ion-padding\">\n          <div *ngFor=\"let calendarItem of calendarService.calendarItems; trackBy: customTrackBy\" id=\"event-title\" >\n            <ion-item *ngIf=\"calendarService.calendar.mode == 'month' && (calendarService.calendar.selectedDate.getMonth() == calendarService.calendar.currentViewDate.getMonth()) && calendarService.eventOnDay( calendarService.calendar.selectedDate , calendarItem )\" id=\"feature\" lines=\"none\">\n              <ion-label class=\"moment-icon\" slot=\"start\">\n                <img [src]=\"momentService.loadIcon(calendarItem.moment.resource.field).url\" />\n              </ion-label>\n              <ion-badge [color]=\"momentService.loadIcon(calendarItem.moment.resource.field).color\">{{calendarItem.moment.resource['en-US'].value[0]}}</ion-badge>\n              <div class=\"item-container\" slot=\"end\">\n                <ion-label>{{calendarItem.title}}</ion-label>\n                <ion-note *ngIf=\"calendarItem.moment.resource.field !== 'Poll'\">{{calendarItem.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                <ion-note *ngIf=\"calendarItem.moment.resource.field === 'Poll'\">{{calendarItem.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n              </div>\n            </ion-item>\n          </div>\n        </ion-list>\n      </ion-item-group>\n      <ion-item *ngIf=\"parentRelationshipListOfGoals.length && calendarItem.users && calendarItem.users.length\">\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"flag\"></ion-icon></div>\n        <div class=\"moment-input\">Assigned To</div>\n        <ion-label hidden=\"true\">Goals</ion-label>\n        <ion-select [(ngModel)]=\"parentRelationshipGoalAttributes\" interface=\"action-sheet\" (ionBlur)=\"anyChangeMade = true\" multiple=\"true\" slot=\"end\">\n          <ion-select-option *ngFor=\"let goal of parentRelationshipListOfGoals\" [value]=\"goal[0]\" [class.selected]=\"parentRelationshipGoalAttributes && parentRelationshipGoalAttributes.includes(goal[0])\">{{goal[5]}}</ion-select-option>\n        </ion-select>\n      </ion-item>\n      <ion-item *ngIf=\"(moment._id === '5e4b39cd76ffc96ae6aba323') || (moment._id === '5e4c28d694fd1963ac0a5b1e')\"> <!--Public Note or Private Note-->\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"key\"></ion-icon></div>\n        <div class=\"moment-input\">Permission</div>\n        <ion-label hidden=\"true\">Permission</ion-label>\n        <ion-select [(ngModel)]=\"moment._id\" interface=\"action-sheet\" (ionBlur)=\"anyChangeMade = true\" slot=\"end\">\n          <ion-select-option value=\"5e4c28d694fd1963ac0a5b1e\">Private</ion-select-option>\n          <ion-select-option value=\"5e4b39cd76ffc96ae6aba323\">Shared in Relationship</ion-select-option>\n        </ion-select>\n      </ion-item>\n    </div>\n    <div *ngFor=\"let item of moment.resource.matrix_number[0]; trackBy: customTrackBy; index as i\" [hidden]=\"moment.resource.matrix_number[0].includes(20020) && (i > moment.resource.matrix_number[0].indexOf(20020)) && (moment.resource.matrix_number[3][i] !== tabSelection)\">\n      <ion-item *ngIf=\"item === 10010\" lines=\"none\"> <!--textarea-->\n        <div class=\"textarea ion-text-wrap\" [innerHtml]=\"moment.matrix_string[i][0] | nl2br\"></div>\n      </ion-item>\n      <ion-item class=\"section\" color=\"lightgrey\" *ngIf=\"item === 10050\" lines=\"none\"> <!--section header-->\n        <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n      </ion-item>\n      <ion-item-group *ngIf=\"item === 10100\"> <!--location-->\n        <ion-item lines=\"none\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"navigate\"></ion-icon></div>\n          <ion-label class=\"label-title\">Location</ion-label>\n          <ion-label class=\"detail ion-text-wrap ion-text-right\">{{moment.location.location}} </ion-label>\n        </ion-item>\n        <a [href]=\"addressURL\" target=\"_blank\" *ngIf=\"mapURL.length\">\n          <div class=\"map-container\">\n            <img [src]=\"mapURL\" />\n          </div>\n        </a>\n      </ion-item-group>\n      <ion-item-group *ngIf=\"item === 20000\"> <!--Visibility-->\n        <ion-item *ngIf=\"moment.array_community && moment.array_community.length && moment.matrix_number[i][0]\" lines=\"none\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"home\"></ion-icon></div>\n          <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][2]}}</ion-label>\n          <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let community of moment.array_community; index as i\"><span *ngIf=\"i > 0\">, </span>{{community.name}}</span></ion-label>\n        </ion-item>\n        <ion-item *ngIf=\"moment.categories && moment.categories.length && moment.matrix_number[i][1]\" lines=\"none\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"bookmark\"></ion-icon></div>\n          <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][6]}}</ion-label>\n          <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let category of moment.categories; index as i\"><span *ngIf=\"i > 0\">, </span>{{category['en-US'].value[0]}}</span></ion-label>\n        </ion-item>\n      </ion-item-group>\n      <ion-item lines=\"none\" *ngIf=\"item === 20020\" class=\"tab-filter\"> <!--Tabs-->\n        <ion-toolbar mode=\"md\">\n          <ion-segment (ionChange)=\"changeTabSelection($event)\" [value]=\"tabSelection\" mode=\"md\">\n            <ion-segment-button class=\"tab-button\" *ngFor=\"let tabId of moment.matrix_number[i] | slice: 5; index as j\" [value]=\"tabId\" mode=\"md\">{{moment.matrix_string[i][j]}}</ion-segment-button>\n          </ion-segment>\n        </ion-toolbar>\n      </ion-item>\n      <ion-item-group *ngIf=\"item === 10200\"> <!--start/end date and time-->\n        <ion-item *ngIf=\"moment.calendar\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n          <ion-label class=\"label-title\">Start Time</ion-label>\n          <ion-label class=\"detail ion-text-wrap ion-text-right\">{{moment.calendar.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n        </ion-item>\n        <ion-item *ngIf=\"moment.calendar\">\n          <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n          <ion-label class=\"label-title\">End Time</ion-label>\n          <ion-label class=\"detail ion-text-wrap ion-text-right\">{{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n        </ion-item>\n      </ion-item-group>\n      <div *ngIf=\"item === 10210\"> <!--To-Dos and Goals-->\n        <!--Overall Progress-->\n        <ion-card style=\"background: var(--ion-color-lightgrey)\" mode=\"md\">\n          <ion-card-content class=\"goal-content overall ion-no-padding\">\n            <ion-badge color=\"grey\" class=\"favorite-goal-type\">Overall Progress</ion-badge>\n            <div class=\"overall-progress\">\n              <progress-bar [progress]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overallcompleted' : { scheduleIds: scheduleIds }\" [color]=\"'#488aff'\"></progress-bar>\n              <!-- <ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overallcompleted' : { scheduleIds: scheduleIds }\"></ion-progress-bar> -->\n              <!--[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overalldue' : { scheduleIds:scheduleIds }\"-->\n            </div>\n            <div *ngFor=\"let section of (moment.matrix_number[i][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\" >\n              <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"progressView = (progressView === section ? null : section)\" >\n                <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                  {{section}}<span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: [], section: section, showUpcoming: moment.matrix_number[i][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: [], section: section, showUpcoming: moment.matrix_number[i][0] } }})</span>\n                </div>\n                <ion-button slot=\"end\" fill=\"clear\">\n                  <ion-icon [name]=\"progressView === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                </ion-button>\n              </ion-item>\n              <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && progressView === section\" (click)=\"openContent($event, calendarItem)\">\n                  <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                    <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                    <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                  </ion-button>\n                  <div class=\"goal-todo-title ion-text-wrap\">{{calendarItem.title}}</div>\n                  <ion-note class=\"goal-todo-date\" slot=\"end\">{{calendarItem.startDate | datetime: 'm:s,d:n'}}</ion-note>\n                  <!--<div class=\"calendar-item-content\" (click)=\"openContent($event, calendarItem)\">                  </div>-->\n                </ion-item>\n              </div>\n            </div>\n          </ion-card-content>\n        </ion-card>\n        <div *ngFor=\"let favoriteGoal of listOfDisplayGoals; trackBy: customTrackBy\" [hidden]=\"(favoriteGoal[1] === 'goal')\">\n          <!--Favorite Goals-->\n          <ion-card mode=\"md\" class=\"ion-no-padding\">\n            <ion-card-content class=\"goal-content favorite ion-no-padding\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n              <ion-badge [ngStyle]=\"{'background': (favoriteGoal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: favoriteGoal } : 'color') }\" class=\"favorite-goal-type\">{{(moment.matrix_string[i].length && moment.matrix_string[i][0]) ? moment.matrix_string[i][0] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][6]}}</ion-badge>\n              <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                <ion-textarea class=\"ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i].length > 3 && moment.matrix_number[i][3]) ? 'bold' : 'none'),'font-size': ((moment.matrix_number[i].length > 2) ? moment.matrix_number[i][2] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][12]) + 'px' }\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"favoriteGoal[5]\" (ionInput)=\"touchGoal(favoriteGoal, 'text')\" [placeholder]=\"(moment.matrix_string[i].length && moment.matrix_string[i][0]) ? moment.matrix_string[i][0] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][6]\"></ion-textarea>\n              </ion-item>\n              <div class=\"progress\">\n                <ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'favoritegoalcompleted' : { scheduleIds:scheduleIds, goal: favoriteGoal, listOfDisplayGoals: listOfDisplayGoals }\"></ion-progress-bar>  <!--[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'favoritegoaldue' : { scheduleIds:scheduleIds, goal: goal, listOfDisplayGoals: listOfDisplayGoals }\"-->\n              </div>\n              <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, favoriteGoal, i)\" fill=\"clear\" size=\"small\">\n                <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n              </ion-buttons>\n            </ion-card-content>\n          </ion-card>\n          <!--Goals tagged under the Favorite Goal-->\n          <div *ngFor=\"let goal of listOfDisplayGoals; trackBy: customTrackBy\">\n            <ion-card *ngIf=\"favoriteGoal[1] === 'master goal' && goal[1] === 'goal' && favoriteGoal[0] === goal[4]\" [ngStyle]=\"{'background': (goal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: goal } : 'color') }\" mode=\"md\">\n              <ion-card-content class=\"ion-no-padding goal-content\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n                <!--<ion-badge color=\"darkgrey\" class=\"goal-type\">Goal</ion-badge>-->\n                <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                  <!--<ion-icon [ngStyle]=\"{'color': (goal[3] | background : goal[0] : 'color') }\" name=\"flag\" class=\"goal-icon\"></ion-icon>-->\n                  <ion-textarea class=\" ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i].length > 4 && moment.matrix_number[i][4]) ? 'bold' : 'none')}\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"goal[5]\" (ionInput)=\"touchGoal(goal, 'text')\" placeholder=\"Goal Name\"></ion-textarea>\n                </ion-item>\n                <!--<div class=\"progress\">\n                  <ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalcompleted' : { scheduleIds:scheduleIds, goal: goal }\"></ion-progress-bar>  &lt;!&ndash;[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goaldue' : { scheduleIds:scheduleIds, goal: goal }\"&ndash;&gt;\n                </div>-->\n                <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, goal, i)\" fill=\"clear\" size=\"small\">\n                  <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n                </ion-buttons>\n                <div *ngFor=\"let section of (moment.matrix_number[i][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\">\n                  <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"goal[2] = (goal[2] === section ? null : section)\">\n                    <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                      {{section}}\n                      <span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] } }})</span>\n                    </div>\n                    <!--<ion-badge color=\"grey\" [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] })\">{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] } }}</ion-badge>-->\n                    <ion-button slot=\"end\" fill=\"clear\">\n                      <ion-icon [name]=\"goal[2] === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                    </ion-button>\n                  </ion-item>\n                  <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                    <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(goal[0])) && goal[2] === section\" (click)=\"openContent($event, calendarItem)\">\n                      <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                        <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                        <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                      </ion-button>\n                      <div class=\"goal-todo-title ion-text-wrap\">{{calendarItem.title}}</div>\n                      <ion-note class=\"goal-todo-date\" slot=\"end\">{{calendarItem.startDate | datetime: 'm:s,d:n'}}</ion-note>\n                    </ion-item>\n                  </div>\n                </div>\n              </ion-card-content>\n            </ion-card>\n          </div>\n        </div>\n        <!--Goals with no valid Favorite Goal Tags-->\n        <div *ngFor=\"let goal of listOfDisplayGoals; trackBy: customTrackBy\" >\n          <ion-card *ngIf=\"goal[1] === 'goal' && !(null | calendar : 'checkfavoritegoaltag' : { listOfDisplayGoals: listOfDisplayGoals, goal: goal })\" [ngStyle]=\"{'background': (goal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: goal } : 'color') }\" mode=\"md\">\n            <ion-card-content class=\"goal-content ion-no-padding\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n              <!--<ion-badge color=\"darkgrey\" class=\"goal-type\">Goal</ion-badge>-->\n              <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                <!--<ion-icon [ngStyle]=\"{'color': (goal[3] | background : goal[0] : 'color') }\" name=\"flag\" class=\"goal-icon\"></ion-icon>-->\n                <ion-textarea class=\" ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i].length > 4 && moment.matrix_number[i][4]) ? 'bold' : 'none')}\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"goal[5]\" (ionInput)=\"touchGoal(goal, 'text')\" placeholder=\"Goal Name\"></ion-textarea>\n              </ion-item>\n              <!--<div class=\"progress\">\n                <ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalcompleted' : { scheduleIds:scheduleIds, goal: goal }\"></ion-progress-bar>  &lt;!&ndash;[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goaldue' : { scheduleIds:scheduleIds, goal: goal }\"&ndash;&gt;\n              </div>-->\n              <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, goal, i)\" fill=\"clear\" size=\"small\">\n                <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n              </ion-buttons>\n              <div *ngFor=\"let section of (moment.matrix_number[i][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\">\n                <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"goal[2] = (goal[2] === section ? null : section)\">\n                  <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                    {{section}}\n                    <span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i][0] } }})</span>\n                  </div>\n                  <ion-button slot=\"end\" fill=\"clear\">\n                    <ion-icon [name]=\"goal[2] === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                  </ion-button>\n                </ion-item>\n                <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                  <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(goal[0])) && goal[2] === section\" (click)=\"openContent($event, calendarItem)\">\n                    <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                      <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                      <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                    </ion-button>\n                  <div class=\"goal-todo-title ion-text-wrap\">{{calendarItem.title}}</div>\n                  <ion-note class=\"goal-todo-date\" slot=\"end\">{{calendarItem.startDate | datetime: 'm:s,d:n'}}</ion-note>\n                  </ion-item>\n                </div>\n              </div>\n            </ion-card-content>\n          </ion-card>\n        </div>\n      </div>\n      <!--Media Viewer in List View-->\n      <ion-grid *ngIf=\"((item === 10010 || item === 10300 || item === 10310 || item === 10360) && moment.matrix_number[i]?.length && moment.matrix_number[i][0]) && moment.matrix_string[i]?.length\" class=\"ion-no-padding\"> <!--Hide/Show Media Setting-->\n        <ion-row *ngIf=\"((item === 10010 && moment.matrix_number[i][0]) || item === 10300 || item === 10310 || item === 10360 || item === 40010)\" class=\"ion-justify-content-evenly ion-no-padding\">\n          <div [ngStyle]=\"{'width': (100/(moment.matrix_string[i]?.length - ((item === 10010 || item === 40010) ? 11 : 0))) - (((moment.matrix_string[i]?.length - ((item === 10010 || item === 40010) ? 11 : 0)) === 1) ? 0 : 0) + '%'}\" class=\"photo-split-view ion-no-padding\" *ngFor=\"let url of moment.matrix_string[i] | slice: ((item === 10010 || item === 40010) ? 11 : 0)\">\n            <ion-thumbnail class=\"thumbnail-item\" (click)=\"focusPhoto($event, url)\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n              <ion-img [src]=\"url\"></ion-img>\n            </ion-thumbnail>\n            <div class=\"icon-container\">\n              <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n              <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n              <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n              <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n            </div>\n            <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"player = $event\" (click)=\"$event.stopPropagation()\"></div>\n            <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n          </div>\n        </ion-row>\n        <!--Video Player-->\n        <ion-item *ngIf=\"item === 10320 && moment.matrix_string[i]?.length && moment.matrix_string[i][0].length\" lines=\"none\">\n          <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i][0], 'type': 'video/' + (moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(moment.matrix_string[i][0].substring(moment.matrix_string[i][0].lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>\n        </ion-item>\n        <!--Youtube Player-->\n        <ion-item *ngIf=\"item === 10330 && moment.matrix_string[i]?.length && moment.matrix_string[i][0].length\" lines=\"none\">\n          <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i][0], 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n        </ion-item>\n      </ion-grid>\n      <!--Video Conference-->\n      <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n        <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"videocam\"></ion-icon></div>\n        <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][0]}}</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n        <ion-button (click)=\"joinVideoConference()\" style=\"margin: 0 auto\">{{moment.resource['en-US'].matrix_string[i][2]}} {{moment.resource['en-US'].matrix_string[i][0]}}</ion-button> <!--Join Conference-->\n      </ion-item>\n      <!--Notes-->\n      <ion-item *ngIf=\"item === 12000\" lines=\"none\" class=\"ion-no-padding\">\n        <ion-grid>\n          <ion-row class=\"note-row\">\n            <ion-col *ngFor=\"let note of notes; index as i\" size-xs=\"6\" size-sm=\"4\" size-md=\"4\" size-lg=\"3\" size-xl=\"2\">\n              <ion-card class=\"note-card\" (click)=\"openNote(note)\">\n                <div class=\"note-header\">\n                  <ion-label class=\"note-title\">{{note.question || note.calendar_title || note.content_title}}</ion-label>\n                  <div class=\"note-date\">{{note.updatedAt | datetime : 'm:n,d:n,y:n'}}</div>\n                  <ion-icon class=\"note-private\" *ngIf=\"note.content_id === '5e4c28d694fd1963ac0a5b1e'\" name=\"lock-closed\" slot=\"end\"></ion-icon>\n                </div>\n                <div class=\"note-content-backdrop\">\n                  <div class=\"note-content-doc\">\n                    <div class=\"note-content-textbox\" [innerHTML]=\"note.answer[1] | nl2br\"></div>\n                  </div>\n                </div>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </ion-item>\n      <div class=\"component\" *ngIf=\"item === 10500\"> <!--People-->\n        <!--Show Participants-->\n        <div *ngIf=\"moment.matrix_number[i][0]\">\n          <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && !moment.matrix_string[i][3] && moment.resource['en-US'].matrix_string[i]\">{{moment.resource['en-US'].matrix_string[i][5]}}</ion-label>\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && moment.matrix_string[i][3]\">{{moment.matrix_string[i][3]}}</ion-label>\n          </ion-item>\n          <ion-grid style=\"max-height: 20%; overflow: scroll\">\n            <ion-row class=\"participant-row\">\n              <ion-col *ngFor=\"let user of moment.user_list_1; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                  <div class=\"participant-centered\">\n                    <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                      <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                      <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </ion-avatar>\n                    <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                    <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                  </div>\n                </ion-item>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </div>\n        <!--Show Organizers-->\n        <div *ngIf=\"moment.matrix_number[i][1]\">\n          <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && !moment.matrix_string[i][5] && moment.resource['en-US'].matrix_string[i]\">{{moment.resource['en-US'].matrix_string[i][7]}}</ion-label>\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && moment.matrix_string[i][5]\">{{moment.matrix_string[i][5]}}</ion-label>\n          </ion-item>\n          <ion-grid style=\"max-height: 20%; overflow: scroll\">\n            <ion-row class=\"participant-row\">\n              <ion-col *ngFor=\"let user of moment.user_list_2; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                  <div class=\"participant-centered\">\n                    <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                      <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                      <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </ion-avatar>\n                    <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                    <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                  </div>\n                </ion-item>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </div>\n        <!--Show Leaders-->\n        <div *ngIf=\"moment.matrix_number[i][2]\">\n          <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && !moment.matrix_string[i][1] && moment.resource['en-US'].matrix_string[i]\">{{moment.resource['en-US'].matrix_string[i][9]}}</ion-label>\n            <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i] && moment.matrix_string[i][1]\">{{moment.matrix_string[i][1]}}</ion-label>\n          </ion-item>\n          <ion-grid style=\"max-height: 20%; overflow: scroll\">\n            <ion-row class=\"participant-row\">\n              <ion-col *ngFor=\"let user of moment.user_list_3; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                  <div class=\"participant-centered\">\n                    <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                      <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                      <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </ion-avatar>\n                    <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                    <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                  </div>\n                </ion-item>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </div>\n      </div>\n      <div class=\"component\" *ngIf=\"item === 10370\"> <!--Plan-->\n        <ion-slides class=\"program-slides\" #plansSlides [options]=\"{slidesPerView: 3.5, grabCursor: true, updateOnWindowResize: true}\">\n          <ion-slide class=\"program-slide\" *ngFor=\"let program of planModules; trackBy: customTrackBy\">\n            <ion-card class=\"program-card\" (click)=\"openProgram($event, program)\">   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n              <ion-card-content class=\"ion-no-padding\">\n                <div class=\"program-photo-container\">\n                  <img class=\"program-photo\" [src]=\"program.assets[0] | background: program._id\" onerror=\"this.src='assets/img/onboarding-4.jpg'\" />\n                </div>\n              </ion-card-content>\n              <div class=\"program-name\">{{program.matrix_string[0][0]}}</div>\n            </ion-card>\n          </ion-slide>\n        </ion-slides>\n      </div>\n      <div class=\"component\" *ngIf=\"item === 30000\"> <!--Poll-->\n        <ion-item lines=\"none\">\n          <div class=\"moment-label\"><img class=\"side-image\" src=\"assets/img/Poll_Gray.png\" /></div>\n          <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][0]}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <ion-label class=\"moment-label ion-text-wrap\">{{moment.resource['en-US'].matrix_string[i][1]}}</ion-label>\n        </ion-item>\n        <div class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i]]; index as pollOptionIndex\">\n          <div class=\"optionsContainer\">\n            <p class=\"option ion-text-wrap\">{{pollOptionIndex+1}}. {{display.option}}</p>\n          </div>\n          <div class=\"votesContainer\">\n            <p class=\"votecount\">{{moment.resource['en-US'].matrix_string[i][5]}}: {{display.count}}</p>\n          </div>\n          <div class=\"userContainer\">\n            <ion-icon class=\"uservoted\" *ngIf=\"display.votedByUser\" name=\"checkmark\"></ion-icon>\n            <ion-button size=\"small\" shape=\"round\" fill='solid' class=\"uservote ion-text-wrap\" *ngIf=\"!display.votedByUser\" (click)=\"voteOnPoll($event, i, pollOptionIndex)\">{{moment.resource['en-US'].matrix_string[i][12]}}</ion-button>\n          </div>\n        </div>\n        <ion-item>\n          <div class=\"unresolvedPollFooter\">\n            <p>{{moment.resource['en-US'].matrix_string[i][4]}}: {{totalVoteCount[moment.resource.matrix_number[2][i]]}}</p>\n            <p>{{moment.resource['en-US'].matrix_string[i][6]}}: {{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</p>\n          </div>\n        </ion-item>\n      </div>\n      <!--Old Multiple Choice in List View-->\n      <div class=\"component\" *ngIf=\"item === 40000\">\n        <ion-item lines=\"none\">\n          <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n          <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][0]}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i][1]}}</div>\n        </ion-item>\n        <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i]]; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i, interactableOptionIndex)\">\n            <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.option}}</ion-label>\n          <ion-icon color=\"button1\" *ngIf=\"!display.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n          <ion-icon color=\"button1\" *ngIf=\"display.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n        </ion-item>\n        <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess\">\n          <ion-item *ngIf=\"resource._id\">\n            <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n          </ion-item>\n          <div *ngFor=\"let response of responses\">\n            <div *ngFor=\"let interactable of response.matrix_number\">\n              <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i]\">\n                <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                  <ion-avatar slot=\"start\">\n                    <img *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                    <img *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                  </ion-avatar>\n                  {{response.user.first_name}} {{response.user.last_name}}\n                  <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionIndex of interactable | slice : 5; index as j\">{{moment.matrix_string[i][selectionIndex]}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                </ion-item>\n              </div>\n            </div>\n         </div>\n        </ion-list>\n      </div>\n      <!-- Text Answer in List View -->\n      <div class=\"component\" *ngIf=\"item === 40010\">\n        <ion-item lines=\"none\" *ngIf=\"moment.matrix_string[i][0]\">\n          <div style=\"font-size: 14px\" class=\"ion-text-wrap\">{{moment.matrix_string[i][0]}}</div>\n        </ion-item>\n        <ion-item lines=\"none\" class=\"ion-margin-vertical\">\n          <quill-editor (onEditorCreated)=\"createQuillEditor($event, interactableDisplay[moment.resource.matrix_number[2][i]])\"\n                        (onContentChanged)=\"respondToTextArea($event, i)\" [modules]=\"{ toolbar: moment.matrix_number[i][2] ? this.quillEditorToolbarConfig : false }\" [placeholder]=\"(moment.matrix_string[i][4] || resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10])\"\n                        [styles]=\"{'height': moment.matrix_number[i][0] * 30 + ((platform.width() >= 768) && (['owner','admin','staff'].indexOf(userData.user.role) > -1) ? 42 : 0) + 'px'}\" format=\"object\"></quill-editor>\n        </ion-item>\n        <ion-list class=\"results-list\" *ngIf=\"(hasOrganizerAccess || hasLeaderAccess) && moment.categories.includes('5e17acd47b00ea76b75e5a71') && !interactableDisplay[moment.resource.matrix_number[2][i]].collaborative\">\n          <ion-item *ngIf=\"resource._id\">\n            <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n          </ion-item>\n          <!--<ion-item lines=\"none\">\n            <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"help\"></ion-icon></div>\n            <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][0]}}</ion-label>\n          </ion-item>-->\n          <div *ngFor=\"let response of responses\">\n            <div *ngFor=\"let interactable of response.matrix_string; let interactableIndex = index;\">\n              <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i].toString()\">\n                <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                  <div (click)=\"seeUserInfo($event, response.user)\" class=\"moreoptions-centered\">\n                    <ion-avatar class=\"moreoptions-avatar\">\n                      <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                      <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                    </ion-avatar>\n                    <ion-label class=\"moreoptions-label ion-text-center ion-text-wrap\">{{response.user.first_name}} {{response.user.last_name}}</ion-label>\n                  </div>\n                  <ion-label class=\"detail ion-text-wrap\">{{response.matrix_string[interactableIndex][1]}}</ion-label>\n                </ion-item>\n              </div>\n            </div>\n          </div>\n        </ion-list>\n      </div>\n      <!--Multiple Choice - List of Choices - in List View-->\n      <div class=\"component\" *ngIf=\"item === 40020 && moment.matrix_number[i].length > 2 && moment.matrix_number[i][2] === 1\"> <!--Multiple Choice-->\n        <ion-item lines=\"none\">\n          <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n          <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i][0]}}</ion-label>\n        </ion-item>\n        <ion-item>\n          <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i][1]}}</div>\n        </ion-item>\n        <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i]] | keyvalue; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i, display.value.createdAt)\">\n          <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.value.option}}</ion-label>\n          <ion-icon color=\"button1\" *ngIf=\"!display.value.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n          <ion-icon color=\"button1\" *ngIf=\"display.value.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n        </ion-item>\n        <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess || hasLeaderAccess\">\n          <ion-item *ngIf=\"resource._id\">\n            <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n          </ion-item>\n          <div *ngFor=\"let response of responses\">\n            <div *ngFor=\"let interactable of response.matrix_number\">\n              <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i]\">\n                <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                  <ion-avatar slot=\"start\">\n                    <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                    <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                  </ion-avatar>\n                  {{response.user.first_name}} {{response.user.last_name}}\n                  <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionCreatedAt of interactable | slice : 5; index as j\">{{interactableDisplay[moment.resource.matrix_number[2][i]][selectionCreatedAt.toString()].option}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                </ion-item>\n              </div>\n            </div>\n          </div>\n        </ion-list>\n      </div>\n      <!--Multiple Choice - Picture Tiles - in List View-->\n      <div class=\"component\" *ngIf=\"item === 40020 && moment.matrix_number[i].length > 2 && !moment.matrix_number[i][2]\">\n        <ion-item>\n          <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i][1]}}</div>\n        </ion-item>\n        <ion-grid class=\"tile-grid\">\n          <ion-row class=\"tile-row\">\n            <ion-col class=\"tile-col\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i]] | keyvalue\" class=\"ion-align-self-center\" size-xs=\"12\" size-sm=\"6\" size-md=\"4\" size-lg=\"4\" size-xl=\"3\">\n              <ion-card class=\"tile-card\" (click)=\"respondToInteractable($event, i, display.value.createdAt)\">\n                <ion-card-header class=\"ion-no-padding\">\n                  <div class=\"tile-photo-container\">\n                    <img class=\"tile-photo\" [src]=\"display.value.image | background: display.value.option\" />\n                    <!--<ion-img class=\"tile-photo\" *ngIf=\"!display.value.image\" src=\"assets/img/avatar-default.jpg\"></ion-img>-->\n                  </div>\n                </ion-card-header>\n                <ion-icon *ngIf=\"display.value.selectedByUser\" class=\"tile-option-selected\" name=\"checkmark-circle\" color=\"button2\"></ion-icon>\n                <div class=\"tile-name  ion-text-wrap\">{{display.value.option}}</div>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n        <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess || hasLeaderAccess\">\n          <ion-item *ngIf=\"resource._id\">\n            <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n          </ion-item>\n          <div *ngFor=\"let response of responses\">\n            <div *ngFor=\"let interactable of response.matrix_number\">\n              <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i]\">\n                <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                  <ion-avatar slot=\"start\">\n                    <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                    <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                  </ion-avatar>\n                  {{response.user.first_name}} {{response.user.last_name}}\n                  <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionCreatedAt of interactable | slice : 5; index as j\">{{interactableDisplay[moment.resource.matrix_number[2][i]][selectionCreatedAt.toString()].option}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                </ion-item>\n              </div>\n            </div>\n          </div>\n        </ion-list>\n      </div>\n      <!--Directory-->\n      <div class=\"component\" *ngIf=\"item === 50000\">\n        <!--Swiper-->\n        <div *ngIf=\"!moment.matrix_number[i][3]\">\n          <ion-row *ngIf=\"!matchedPeople.length && !loadAPIBusy\" class=\"ion-justify-content-center\">\n            <p>The Directory is Empty.</p>\n          </ion-row>\n          <ion-slides class=\"person-slides\" #peopleSlides (ionSlideDidChange)=\"swipePeopleSlide()\" [options]=\"{slidesPerView: 1.1, grabCursor: true, updateOnWindowResize: true}\">\n            <ion-slide class=\"person-slide\" *ngFor=\"let leader of moment.user_list_3\" [hidden]=\"matchedPeople.length || !loadAPIBusy\">\n              <ion-card class=\"person-card\">   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n                <ion-card-header>\n                  <div class=\"person-photo-container\">\n                    <ion-img class=\"person-photo\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                  </div>\n                </ion-card-header>\n                <div class=\"top-pattern\"></div>\n                <div class=\"middle-pattern\"></div>\n                <div class=\"bottom-pattern\"></div>\n                <ion-card-content class=\"person-content ion-no-padding\">\n                  <ion-item lines=\"none\" class=\"person-content-item ion-no-margin\">\n                    <div class=\"person-content-left\" style=\"margin-top: 10px\">\n                      <div class=\"person-name ion-text-md-uppercase\" style=\"height: 18px\">\n                        <ion-skeleton-text animated style=\"width: 100%\"></ion-skeleton-text>\n                      </div>\n                      <div class=\"person-title\">\n                        <ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text>\n                      </div>\n                    </div>\n                    <div class=\"person-content-right\" [ngClass]=\"{'content-border': true }\">\n                      <div><ion-skeleton-text animated style=\"width: 90%\"></ion-skeleton-text></div>\n                      <div><ion-skeleton-text animated style=\"width: 100%\"></ion-skeleton-text></div>\n                      <div><ion-skeleton-text animated style=\"width: 90%\"></ion-skeleton-text></div>\n                      <div><ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text></div>\n                    </div> <!--Short Biography-->\n                  </ion-item>\n                </ion-card-content>\n              </ion-card>\n            </ion-slide>\n            <ion-slide class=\"person-slide\" *ngFor=\"let person of matchedPeople; trackBy: customTrackBy\">\n              <ion-card class=\"person-card\" (click)=\"seeUserInfo($event, person)\">   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n                <ion-card-header>\n                  <div class=\"person-photo-container\">\n                    <ion-img class=\"person-photo\" *ngIf=\"person.avatar\" [src]=\"person.avatar\"></ion-img>\n                    <ion-img class=\"person-photo\" *ngIf=\"!person.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                  </div>\n                </ion-card-header>\n                <div class=\"top-pattern\"></div>\n                <div class=\"middle-pattern\"></div>\n                <div class=\"bottom-pattern\"></div>\n                <ion-card-content class=\"person-content ion-no-padding\">\n                  <ion-item lines=\"none\" class=\"person-content-item ion-no-margin\">\n                    <div class=\"person-content-left\">\n                      <div class=\"person-name ion-text-md-uppercase\">\n                        {{person.first_name}} {{person.last_name}}\n                      </div>\n                      <div class=\"person-title\" [innerHTML]=\"person.title\"></div>\n                    </div>\n                    <div class=\"person-content-right\" [ngClass]=\"{'content-border': person.bio }\" [innerHTML]=\"person.bio\"></div> <!--Short Biography-->\n                  </ion-item>\n                </ion-card-content>\n              </ion-card>\n            </ion-slide>\n          </ion-slides>\n        </div>\n        <!--List-->\n        <div *ngIf=\"moment.matrix_number[i][3] === 1\">\n          <ion-list>\n            <ion-item class=\"people-list-container\" *ngFor=\"let person of matchedPeople\" (click)=\"seeUserInfo($event, person)\">\n              <ion-thumbnail slot=\"start\">\n                <ion-img *ngIf=\"person.avatar\" [src]=\"person.avatar\"></ion-img>\n                <ion-img *ngIf=\"!person.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n              </ion-thumbnail>\n              <ion-col class=\"person-list-container\">\n                <div class=\"person-list ion-text-wrap\">\n                  {{person.first_name}} {{person.last_name}}\n                </div>\n                <div class=\"person-content-list\" [innerHTML]=\"person.user_data_1\"></div> <!--Short Biography-->\n                <div class=\"preference\">\n                  <span *ngFor=\"let preference of person.preferences\">\n                    <ion-badge class=\"preference-badge\" *ngFor=\"let answer of preference.answers\">{{answer}}</ion-badge>\n                  </span>\n                </div>\n              </ion-col>\n              <ion-col slot=\"end\" class=\"note-col\">\n                <p class=\"note ion-text-end\">Score: {{person.score}}</p>\n              </ion-col>\n            </ion-item>\n            <ion-item-divider class=\"ion-text-wrap\">\n              Displaying {{matchedPeople.length}} pe<span *ngIf=\"matchedPeople.length < 2\">rson</span><span *ngIf=\"matchedPeople.length > 1\">ople</span>\n            </ion-item-divider>\n          </ion-list>\n          <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMorePeople($event)\">\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n          </ion-infinite-scroll>\n        </div>\n        <!--Map-->\n        <div id=\"mapCanvas\" *ngIf=\"moment.matrix_number[i][3] === 2\"></div>\n        <ion-content *ngIf=\"moment.matrix_number[i][3] === 2\">\n          <ion-list class=\"result-list\">\n            <ion-item *ngFor=\"let data of mapService.mapData; index as i\" lines=\"none\">\n              <p class=\"index\">{{i+1}}.</p>\n              <ion-card class=\"map-card ion-text-wrap\" (click)=\"mapService.clickList(data)\">\n                <ion-item lines=\"none\">\n                  <ion-thumbnail slot=\"start\">\n                    <img [src]=\"data.images[0] | background: data._id\"/>\n                  </ion-thumbnail>\n                  <ion-col class=\"item-container\">\n                    <div class=\"item-name ion-text-wrap\">{{data.name}}</div>\n                    <p class=\"category\">{{data.category}} <span style=\"font-style: normal\" *ngIf=\"userData.user && userData.user.churches[userData.currentCommunityIndex]._id === '5ab62be8f83e2c1a8d41f894' && data.churches && data.churches.length && !data.user\">({{data.churches[0].name}})</span></p>\n                    <p [hidden]=\"!data.location\">{{\" \"}}{{data.location?.city}}<span [hidden]=\"(!data.location?.city)||(!data.location?.state)\">{{\", \"}}</span>{{data.location?.state}}<span [hidden]=\"(!data.location?.city)&&(!data.location?.state)\">{{\" \"}}</span></p>\n                  </ion-col>\n                </ion-item>\n              </ion-card>\n            </ion-item>\n          </ion-list>\n          <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMoreSearchResults($event)\">\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n          </ion-infinite-scroll>\n        </ion-content>\n      </div>\n    </div>\n  </ion-list>\n  <ion-slides pager [options]=\"slideOpts\" *ngIf=\"loadCompleted && mode === 'slider'\">\n    <ion-slide *ngFor=\"let item of moment.resource.matrix_number[0] | slice : (moment.resource.matrix_number[0].indexOf(20010) + 1); trackBy: customTrackBy; index as i;\">\n      <ion-grid class=\"slide-grid\">\n        <!--align vertical center except m.c. and tile choice when their choices are 4+ (they need overflow: scroll to show all the options)-->\n        <ion-row class=\"ion-justify-content-center slide-row\" [ngClass]=\"{'slide-row-align': !((item == 40000 || item == 40020) && interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]].length > 4) || (item !== 40010)}\">\n          <ion-col [ngClass]=\"{'slide-col': (item == 40000 || item == 40020) && (interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]].length > 4) || (item === 40010)}\">\n            <ion-item color=\"lightgrey\" *ngIf=\"item === 10050\" lines=\"none\"> <!--section header-->\n              <ion-label color=\"darkgrey\" class=\"ion-text-uppercase\">{{moment.resource['en-US'].matrix_string[i][1]}}</ion-label>\n            </ion-item>\n            <ion-item-group *ngIf=\"item === 10100\"> <!--location-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"navigate\"></ion-icon></div>\n                <ion-label class=\"label-title\">Location</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.location.location}} </ion-label>\n              </ion-item>\n              <a [href]=\"addressURL\" target=\"_blank\" *ngIf=\"mapURL.length\">\n                <div class=\"map-container\">\n                  <img [src]=\"mapURL\" />\n                </div>\n              </a>\n            </ion-item-group>\n            <ion-item-group *ngIf=\"item === 20000\"> <!--Visibility-->\n              <ion-item *ngIf=\"moment.array_community && moment.array_community.length\" lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"home\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]}}</ion-label>\n                <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let community of moment.array_community; index as j\"><span *ngIf=\"j > 0\">, </span>{{community.name}}</span></ion-label>\n              </ion-item>\n              <ion-item *ngIf=\"moment.categories && moment.categories.length\" lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"bookmark\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][6]}}</ion-label>\n                <ion-label class=\"detail ion-text-wrap ion-text-right\"><span *ngFor=\"let category of moment.categories; index as j\"><span *ngIf=\"j > 0\">, </span>{{category['en-US'].value[0]}}</span></ion-label>\n              </ion-item>\n            </ion-item-group>\n            <!--Tab (20020) is not available in slideshow view-->\n            <ion-item-group *ngIf=\"item === 10200\"> <!--start/end date and time-->\n              <ion-item *ngIf=\"moment.calendar\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n                <ion-label class=\"label-title\">Start Time</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.calendar.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n              </ion-item>\n              <ion-item *ngIf=\"moment.calendar\">\n                <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"time\"></ion-icon></div>\n                <ion-label class=\"label-title\">End Time</ion-label>\n                <ion-label class=\"detail ion-text-wrap\">{{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}} </ion-label>\n              </ion-item>\n            </ion-item-group>\n            <div class=\"component\" *ngIf=\"item === 10370\"> <!--Plan-->\n              <ion-slides class=\"program-slides\" #plansSlides [options]=\"{slidesPerView: 3.5, grabCursor: true, updateOnWindowResize: true}\">\n                <ion-slide class=\"program-slide\" *ngFor=\"let program of planModules; trackBy: customTrackBy\">\n                  <ion-card class=\"program-card\" (click)=\"openProgram($event, program)\">   <!--[ngStyle]=\"{'background-image': 'url(' + (activity.moment.assets?.length ? activity.moment.assets[0] : '') + ')'}\"-->\n                    <ion-card-header class=\"ion-no-padding\">\n                      <div class=\"program-photo-container\">\n                        <img class=\"program-photo\" [src]=\"program.assets[0] | background: program._id\" onerror=\"this.src='assets/img/avatar-default.jpg'\" />\n                      </div>\n                    </ion-card-header>\n                    <div class=\"program-name\">{{program.matrix_string[0][0]}}</div>\n                  </ion-card>\n                </ion-slide>\n              </ion-slides>\n            </div>\n            <!--Photo Viewer in Slider View-->\n            <div *ngIf=\"(item === 10010 || item === 10300 || item === 10310 || item === 10360 || item === 40010)\">\n              <div [ngStyle]=\"{'width': 100/(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length - ((item === 10010 || item === 40010) ? 11 : 0)) - (((moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length - ((item === 10010 || item === 40010) ? 11 : 0)) === 1) ? 30 : 0) + '%'}\" class=\"photo-split-view\" *ngFor=\"let url of moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] | slice: ((item === 10010 || item === 40010) ? 11 : 0)\">\n                <ion-thumbnail class=\"thumbnail-item\" (click)=\"focusPhoto($event, url)\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n                  <ion-img [src]=\"url\"></ion-img>\n                </ion-thumbnail>\n                <div class=\"icon-container\">\n                  <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                  <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"thumbnail-item\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n                </div>\n                <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"player = $event\" (click)=\"$event.stopPropagation()\"></div>\n                <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"video-container\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n              </div>\n            </div>\n            <ion-item *ngIf=\"item === 10010\" lines=\"none\"> <!--textarea-->\n              <div class=\"textarea center ion-text-wrap ion-justify-content-center\" [innerHTML]=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] | nl2br\"></div>\n            </ion-item>\n            <!--Video Player-->\n            <ion-item *ngIf=\"item === 10320 && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].length\" lines=\"none\">\n              <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0], 'type': 'video/' + (moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).indexOf(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].substring(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].lastIndexOf('.') + 1).toLowerCase()) > -1\"  (click)=\"$event.stopPropagation()\"></div>\n            </ion-item>\n            <!--Youtube Player-->\n            <ion-item *ngIf=\"item === 10330 && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]?.length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0].length\" lines=\"none\">\n              <div class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0], 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" (click)=\"$event.stopPropagation()\"></div>\n            </ion-item>\n            <!--Video Conference-->\n            <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n              <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"videocam\"></ion-icon></div>\n              <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n            </ion-item>\n            <ion-item *ngIf=\"item === 10600\" lines=\"none\">\n              <ion-button (click)=\"joinVideoConference()\" style=\"margin: 0 auto\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]}} {{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-button> <!--Join Conference-->\n            </ion-item>\n            <div class=\"component\" *ngIf=\"item === 10500\"> <!--People-->\n              <!--<ion-item lines=\"none\">\n                <div class=\"moment-label\" slot=\"start\"> <ion-icon class=\"side-icon\" color=\"grey\" name=\"people\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>-->\n              <ion-toolbar class=\"filter\" *ngIf=\"(this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] + this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] + this.moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2]) > 1\">\n                <ion-segment [(ngModel)]=\"participantsView\">\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]\" value=\"participants\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\" value=\"leaders\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][9]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\" value=\"leaders\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-segment-button>\n                  <ion-segment-button *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\" value=\"organizers\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][7]}}</ion-segment-button>\n                </ion-segment>\n              </ion-toolbar>\n              <!--Show Participants-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && participantsView === 'participants'\">\n                <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}</ion-label>\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3]\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_1; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n              <!--Show Organizers-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] && participantsView === 'organizers'\">\n                <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][7]}}</ion-label>\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_2; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n              <!--Show Leaders-->\n              <div *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] && participantsView === 'leaders'\">\n                <ion-item lines=\"none\" class=\"section\" color=\"lightgrey\">\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && !moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1] && moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][9]}}</ion-label>\n                  <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1] && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n                </ion-item>\n                <ion-grid style=\"max-height: 20%; overflow: scroll\">\n                  <ion-row class=\"participant-row\">\n                    <ion-col *ngFor=\"let user of moment.user_list_3; index as j\" class=\"ion-align-self-center\" size=\"auto\">\n                      <ion-item lines=\"none\" (click)=\"seeUserInfo($event, user)\">\n                        <div class=\"participant-centered\">\n                          <ion-avatar class=\"participant-avatar\" slot=\"start\">\n                            <ion-img *ngIf=\"user.avatar\" [src]=\"user.avatar\"></ion-img>\n                            <ion-img *ngIf=\"!user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                          </ion-avatar>\n                          <!--<ion-icon class=\"moreParticipantOptions-joined\" color=\"tertiary\" name=\"create\"></ion-icon>-->\n                          <ion-label class=\"participant-label ion-text-center\">{{user.first_name}} {{user.last_name}}</ion-label>\n                        </div>\n                      </ion-item>\n                    </ion-col>\n                  </ion-row>\n                </ion-grid>\n              </div>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 30000\"> <!--Poll-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><img class=\"side-image\" src=\"assets/img/Poll_Gray.png\" /></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n              </ion-item>\n              <ion-item>\n                <ion-label class=\"ion-text-wrap\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>\n              <div class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]; index as pollOptionIndex\">\n                <div class=\"optionsContainer\">\n                  <p class=\"option ion-text-wrap\">{{pollOptionIndex+1}}. {{display.option}}</p>\n                </div>\n                <div class=\"votesContainer\">\n                  <p class=\"votecount\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][5]}}: {{display.count}}</p>\n                </div>\n                <div class=\"userContainer\">\n                  <ion-icon class=\"uservoted\" *ngIf=\"display.votedByUser\" name=\"checkmark\"></ion-icon>\n                  <ion-button size=\"small\" shape=\"round\" fill='solid' class=\"uservote ion-text-wrap\" *ngIf=\"!display.votedByUser\" (click)=\"voteOnPoll($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, pollOptionIndex)\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][12]}}</ion-button>\n                </div>\n              </div>\n              <ion-item>\n                <div class=\"unresolvedPollFooter\">\n                  <p>{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4]}}: {{totalVoteCount[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]}}</p>\n                  <p>{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][6]}}: {{moment.calendar.endDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</p>\n                </div>\n              </ion-item>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 40010\"> <!--text answer-->\n              <ion-item lines=\"none\" *ngIf=\"moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]\">\n                <div style=\"font-size: 14px\" class=\"ion-text-wrap\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</div>\n              </ion-item>\n              <ion-item lines=\"none\">\n                <quill-editor (onEditorCreated)=\"createQuillEditor($event, interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]])\" [placeholder]=\"(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4] || resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(item)][10])\"\n                              (onContentChanged)=\"respondToTextArea($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" [modules]= \"{ toolbar: false }\" [ngStyle]=\"{'height': moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] * 40 + 'px'}\" format=\"object\"></quill-editor>\n              </ion-item>\n              <ion-list class=\"results-list\" *ngIf=\"(hasOrganizerAccess || hasLeaderAccess) && moment.categories.includes('5e17acd47b00ea76b75e5a71') && !interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]].collaborative\">\n                <ion-item *ngIf=\"resource._id\">\n                  <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n                </ion-item>\n                <div *ngFor=\"let response of responses\">\n                  <div *ngFor=\"let interactable of response.matrix_string; let interactableIndex = index;\">\n                    <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">\n                      <ion-item class=\"ion-margin-horizontal\">\n                        <div (click)=\"seeUserInfo($event, response.user)\" class=\"moreoptions-centered\">\n                          <ion-avatar class=\"moreoptions-avatar\">\n                            <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                            <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                          </ion-avatar>\n                          <ion-label class=\"moreoptions-label ion-text-center\">{{response.user.first_name}} {{response.user.last_name}}</ion-label>\n                        </div>\n                        <ion-label class=\"detail ion-text-wrap\" slot=\"end\">{{response.matrix_string[interactableIndex][1]}}</ion-label>\n                      </ion-item>\n                    </div>\n                  </div>\n                </div>\n              </ion-list>\n            </div>\n            <div *ngIf=\"item === 10210\"> <!--To-Dos and Goals-->\n              <!--Overall Progress-->\n              <ion-card style=\"background: var(--ion-color-lightgrey)\" mode=\"md\">\n                <ion-card-content class=\"goal-content overall ion-no-padding\">\n                  <ion-badge color=\"grey\" class=\"favorite-goal-type\">Overall Progress</ion-badge>\n                  <div class=\"overall-progress\">\n                    <progress-bar [progress]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overallcompleted' : { scheduleIds: scheduleIds }\" [color]=\"'#488aff'\"></progress-bar>\n                    <!--<ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overallcompleted' : { scheduleIds: scheduleIds }\"></ion-progress-bar>  &lt;!&ndash;[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'overalldue' : { scheduleIds:scheduleIds }\"&ndash;&gt;-->\n                  </div>\n                  <div *ngFor=\"let section of (moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\" >\n                    <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"progressView = (progressView === section ? null : section)\" >\n                      <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                        {{section}}<span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: [], section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: [], section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] } }})</span>\n                      </div>\n                      <ion-button slot=\"end\" fill=\"clear\">\n                        <ion-icon [name]=\"progressView === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                      </ion-button>\n                    </ion-item>\n                    <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                      <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && progressView === section\">\n                        <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                          <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                          <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                        </ion-button>\n                        <div class=\"calendar-item-content\" (click)=\"openContent($event, calendarItem)\">\n                          <ion-label>{{calendarItem.title}}</ion-label>\n                          <ion-note>{{calendarItem.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                        </div>\n                        <div class=\"calendar-item-tag\">\n                        </div>\n                      </ion-item>\n                    </div>\n                  </div>\n                </ion-card-content>\n              </ion-card>\n              <div *ngFor=\"let favoriteGoal of listOfDisplayGoals; trackBy: customTrackBy\" [hidden]=\"(favoriteGoal[1] === 'goal')\">\n                <!--Favorite Goals-->\n                <ion-card mode=\"md\" class=\"ion-no-padding\">\n                  <ion-card-content class=\"goal-content favorite ion-no-padding\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n                    <ion-badge [ngStyle]=\"{'background': (favoriteGoal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: favoriteGoal } : 'color') }\" class=\"favorite-goal-type\">{{(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]) ? moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][6]}}</ion-badge>\n                    <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                      <ion-textarea class=\" ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 4 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4]) ? 'bold' : 'none'), 'font-size': ((moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 2) ? moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][12]) + 'px' }\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"favoriteGoal[5]\" (ionInput)=\"touchGoal(favoriteGoal, 'text')\" [placeholder]=\"(moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length && moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]) ? moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][6]\"></ion-textarea>\n                    </ion-item>\n                    <div class=\"progress\">\n                      <ion-progress-bar class=\"ion-margin-start\" [value]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'favoritegoalcompleted' : { scheduleIds:scheduleIds, goal: favoriteGoal, listOfDisplayGoals: listOfDisplayGoals }\"></ion-progress-bar>  <!--[buffer]=\"(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'favoritegoaldue' : { scheduleIds:scheduleIds, goal: goal, listOfDisplayGoals: listOfDisplayGoals }\"-->\n                    </div>\n                    <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, favoriteGoal, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" fill=\"clear\" size=\"small\">\n                      <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n                    </ion-buttons>\n                  </ion-card-content>\n                </ion-card>\n                <!--Goals tagged under the Favorite Goal-->\n                <div *ngFor=\"let goal of listOfDisplayGoals; trackBy: customTrackBy\">\n                  <ion-card *ngIf=\"favoriteGoal[1] === 'master goal' && goal[1] === 'goal' && favoriteGoal[0] === goal[4]\" [ngStyle]=\"{'background': (goal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: goal } : 'color') }\" mode=\"md\">\n                    <ion-card-content class=\"ion-no-padding goal-content\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n                      <!--<ion-badge color=\"darkgrey\" class=\"goal-type\">Goal</ion-badge>-->\n                      <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                        <ion-textarea class=\" ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 4 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4]) ? 'bold' : 'none')}\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"goal[5]\" (ionInput)=\"touchGoal(goal, 'text')\" placeholder=\"Goal Name\"></ion-textarea>\n                      </ion-item>\n                      <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, goal, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" fill=\"clear\" size=\"small\">\n                        <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n                      </ion-buttons>\n                      <div *ngFor=\"let section of (moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\">\n                        <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"goal[2] = (goal[2] === section ? null : section)\">\n                          <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                            {{section}}\n                            <span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] } }})</span>\n                          </div>\n                          <ion-button slot=\"end\" fill=\"clear\">\n                            <ion-icon [name]=\"goal[2] === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                          </ion-button>\n                        </ion-item>\n                        <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                          <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(goal[0])) && goal[2] === section\">\n                            <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                              <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                              <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                            </ion-button>\n                            <div class=\"calendar-item-content\" (click)=\"openContent($event, calendarItem)\">\n                              <ion-label>{{calendarItem.title}}</ion-label>\n                              <ion-note>{{calendarItem.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                            </div>\n                            <div class=\"calendar-item-tag\">\n                            </div>\n                          </ion-item>\n                        </div>\n                      </div>\n                    </ion-card-content>\n                  </ion-card>\n                </div>\n              </div>\n              <!--Goals with no valid Favorite Goal Tags-->\n              <div *ngFor=\"let goal of listOfDisplayGoals; trackBy: customTrackBy\" >\n                <ion-card *ngIf=\"goal[1] === 'goal' && !(null | calendar : 'checkfavoritegoaltag' : { listOfDisplayGoals: listOfDisplayGoals, goal: goal })\" [ngStyle]=\"{'background': (goal[3] | background : { listOfDisplayGoals: listOfDisplayGoals, goal: goal } : 'color') }\" mode=\"md\">\n                  <ion-card-content class=\"goal-content ion-no-padding\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8]\">\n                    <!--<ion-badge color=\"darkgrey\" class=\"goal-type\">Goal</ion-badge>-->\n                    <ion-item lines=\"none\" class=\"ion-no-padding ion-margin-end ion-padding-end goal-label\">\n                      <ion-textarea class=\"ion-margin-start\" [ngStyle]=\"{'font-weight': ((moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 4 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][4]) ? 'bold' : 'none')}\" autosize rows=\"1\" [minRows]=\"1\" [maxRows]=\"8\" [(ngModel)]=\"goal[5]\" (ionInput)=\"touchGoal(goal, 'text')\" placeholder=\"Goal Name\"></ion-textarea>\n                    </ion-item>\n                    <ion-buttons *ngIf=\"!editGoals\" class=\"more-goal-options\" (click)=\"moreGoalFunctions($event, goal, i + moment.resource.matrix_number[0].indexOf(20010) + 1)\" fill=\"clear\" size=\"small\">\n                      <ion-button><ion-icon ios=\"ellipsis-horizontal\" md=\"ellipsis-horizontal\" color=\"darkgrey\"></ion-icon></ion-button>\n                    </ion-buttons>\n                    <div *ngFor=\"let section of (moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] ? ['Current', 'Upcoming', 'Completed'] : ['Current', 'Completed'])\" class=\"schedule-container\">\n                      <ion-item class=\"section schedule-section\" color=\"lightgrey\" lines=\"none\" (click)=\"goal[2] = (goal[2] === section ? null : section)\">\n                        <div color=\"darkgrey\" class=\"section-label schedule-label ion-text-uppercase\">\n                          {{section}}\n                          <span [hidden]=\"!((adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] })\">{{\" (\"}}{{(adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems) | calendar : 'goalsectionstats' : { scheduleIds: scheduleIds, goal: goal, section: section, showUpcoming: moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] } }})</span>\n                        </div>\n                        <ion-button slot=\"end\" fill=\"clear\">\n                          <ion-icon [name]=\"goal[2] === section ? 'chevron-up-outline' : 'chevron-down-outline'\" color=\"darkgrey\"></ion-icon>\n                        </ion-button>\n                      </ion-item>\n                      <div *ngFor=\"let calendarItem of (adminAccessContentCalendars.length ? adminAccessContentCalendars : calendarService.calendarItems); trackBy: customTrackBy\">\n                        <ion-item class=\"calendar-item ion-no-padding\" *ngIf=\"((calendarItem.status === section && !calendarItem.completed) || (!moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0] && section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (section === 'Completed' && calendarItem.completed)) && scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(goal[0])) && goal[2] === section\">\n                          <ion-button (click)=\"touchCalendarItemResponse($event, calendarItem, 'check-in')\" fill=\"clear\">\n                            <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"!calendarItem.completed\" name=\"radio-button-off\"></ion-icon>\n                            <ion-icon class=\"calendar-item-checkbox\" color=\"tertiary\" *ngIf=\"calendarItem.completed\" name=\"checkmark-circle\"></ion-icon>\n                          </ion-button>\n                          <div class=\"calendar-item-content\" (click)=\"openContent($event, calendarItem)\">\n                            <ion-label>{{calendarItem.title}}</ion-label>\n                            <ion-note>{{calendarItem.startDate | datetime: 'h:n,m:n,w:s,m:n,d:n'}}</ion-note>\n                          </div>\n                          <div class=\"calendar-item-tag\">\n                          </div>\n                        </ion-item>\n                      </div>\n                    </div>\n                  </ion-card-content>\n                </ion-card>\n              </div>\n            </div>\n            <div class=\"component\" *ngIf=\"item === 50000\"> <!--Directory-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"contacts\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</ion-label>\n              </ion-item>\n              <!--<ion-toolbar class=\"filter\">\n                <ion-segment [value]=\"currentView\" (ionChange)=\"changeView($event)\">\n                  <ion-segment-button value=\"list\">People</ion-segment-button>\n                  <ion-segment-button value=\"nearby\">Nearby</ion-segment-button>\n                </ion-segment>\n              </ion-toolbar>-->\n              <div *ngIf=\"!moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3] || moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3] === 1\">\n                <ion-list>\n                  <!--List-->\n                  <ion-item class=\"people-list-container\" *ngFor=\"let person of matchedPeople\" (click)=\"seeUserInfo($event, person)\">\n                    <ion-thumbnail slot=\"start\">\n                      <ion-img *ngIf=\"person.avatar\" [src]=\"person.avatar\"></ion-img>\n                      <ion-img *ngIf=\"!person.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                    </ion-thumbnail>\n                    <ion-col class=\"person-list-container\">\n                      <div class=\"person-list ion-text-wrap ion-text-md-uppercase\">\n                        {{person.first_name}} {{person.last_name}}\n                      </div>\n                      <div class=\"person-content-list\" [innerHTML]=\"person.user_data_1\"></div> <!--Short Biography-->\n                      <div class=\"preference\">\n                      <span *ngFor=\"let preference of person.preferences\">\n                        <ion-badge class=\"preference-badge\" *ngFor=\"let answer of preference.answers\">{{answer}}</ion-badge>\n                      </span>\n                      </div>\n                    </ion-col>\n                    <ion-col slot=\"end\" class=\"note-col\">\n                      <p class=\"note ion-text-end\">Score: {{person.score}}</p>\n                    </ion-col>\n                  </ion-item>\n                  <ion-item-divider class=\"ion-text-wrap\">\n                    Displaying {{matchedPeople.length}} pe<span *ngIf=\"matchedPeople.length < 2\">rson</span><span *ngIf=\"matchedPeople.length > 1\">ople</span>\n                  </ion-item-divider>\n                </ion-list>\n                <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMorePeople($event)\">\n                  <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n              </div>\n              <!--Map-->\n              <div id=\"mapCanvas\" *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3] === 2\"></div>\n              <ion-content *ngIf=\"moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][3] === 2\">\n                <ion-list class=\"result-list\">\n                  <ion-item *ngFor=\"let data of mapService.mapData; index as i\" lines=\"none\">\n                    <p class=\"index\">{{i+1}}.</p>\n                    <ion-card class=\"map-card ion-text-wrap\" (click)=\"mapService.clickList(data)\">\n                      <ion-item lines=\"none\">\n                        <ion-thumbnail slot=\"start\">\n                          <img [src]=\"data.images[0] | background: data._id\"/>\n                        </ion-thumbnail>\n                        <ion-col class=\"item-container\">\n                          <div class=\"item-name ion-text-wrap\">{{data.name}}</div>\n                          <p class=\"category\">{{data.category}} <span style=\"font-style: normal\" *ngIf=\"userData.user && userData.user.churches[userData.currentCommunityIndex]._id === '5ab62be8f83e2c1a8d41f894' && data.churches && data.churches.length && !data.user\">({{data.churches[0].name}})</span></p>\n                          <p [hidden]=\"!data.location\">{{\" \"}}{{data.location?.city}}<span [hidden]=\"(!data.location?.city)||(!data.location?.state)\">{{\", \"}}</span>{{data.location?.state}}<span [hidden]=\"(!data.location?.city)&&(!data.location?.state)\">{{\" \"}}</span></p>\n                        </ion-col>\n                      </ion-item>\n                    </ion-card>\n                  </ion-item>\n                </ion-list>\n                <ion-infinite-scroll position=\"bottom\" (ionInfinite)=\"loadMoreSearchResults($event)\">\n                  <ion-infinite-scroll-content></ion-infinite-scroll-content>\n                </ion-infinite-scroll>\n              </ion-content>\n              <ion-spinner name=\"dots\" *ngIf=\"ionSpinner\"></ion-spinner>\n            </div>\n            <!--Old Multiple Choice-->\n            <div class=\"component\" *ngIf=\"item === 40000\">\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n                <ion-label class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</ion-label>\n              </ion-item>\n              <ion-item>\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]]; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, interactableOptionIndex)\">\n                <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.option}}</ion-label>\n                <ion-icon color=\"button1\" *ngIf=\"!display.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n                <ion-icon color=\"button1\" *ngIf=\"display.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n              </ion-item>\n              <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess\">\n                <ion-item *ngIf=\"resource._id\">\n                  <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n                </ion-item>\n                <div *ngFor=\"let response of responses\">\n                  <div *ngFor=\"let interactable of response.matrix_number\">\n                    <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">\n                      <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                        <ion-avatar slot=\"start\">\n                          <ion-img *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"></ion-img>\n                          <ion-img *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"></ion-img>\n                        </ion-avatar>\n                        {{response.user.first_name}} {{response.user.last_name}}\n                        <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionIndex of interactable | slice : 5; index as j\">{{moment.matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][selectionIndex]}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                      </ion-item>\n                    </div>\n                  </div>\n                </div>\n              </ion-list>\n            </div>\n            <!--Multiple Choice - List of Choices-->\n            <div class=\"component\" *ngIf=\"item === 40020 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 2 && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1][2] === 1\"> <!--Multiple Choice-->\n              <ion-item lines=\"none\">\n                <div class=\"moment-label\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"checkmark-circle-outline\"></ion-icon></div>\n                <div class=\"label-title\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][0]}}</div>\n              </ion-item>\n              <ion-item>\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-item class=\"pollContainer\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]] | keyvalue; index as interactableOptionIndex\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, display.value.createdAt)\">\n                <ion-label class=\"ion-text-wrap\">{{interactableOptionIndex+1}}. {{display.value.option}}</ion-label>\n                <ion-icon color=\"button1\" *ngIf=\"!display.value.selectedByUser\" name=\"radio-button-off\" slot=\"end\"></ion-icon>\n                <ion-icon color=\"button1\" *ngIf=\"display.value.selectedByUser\" name=\"checkmark-circle\" slot=\"end\"></ion-icon>\n              </ion-item>\n              <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess\">\n                <ion-item *ngIf=\"resource._id\">\n                  <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n                </ion-item>\n                <div *ngFor=\"let response of responses\">\n                  <div *ngFor=\"let interactable of response.matrix_number\">\n                    <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">\n                      <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                        <ion-avatar slot=\"start\">\n                          <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                          <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                        </ion-avatar>\n                        {{response.user.first_name}} {{response.user.last_name}}\n                        <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionCreatedAt of interactable | slice : 5; index as j\">{{interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]][selectionCreatedAt.toString()].option}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                      </ion-item>\n                    </div>\n                  </div>\n                </div>\n              </ion-list>\n            </div>\n            <!--Multiple Choice - Picture Tiles-->\n            <div class=\"component\" *ngIf=\"item === 40020  && moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1].length > 2 && !moment.matrix_number[i + moment.resource.matrix_number[0].indexOf(20010) + 1]\"> <!--Tile Choice with Photos-->\n              <ion-item>\n                <div class=\"ion-text-wrap ion-padding-vertical\">{{moment.resource['en-US'].matrix_string[i + moment.resource.matrix_number[0].indexOf(20010) + 1][1]}}</div>\n              </ion-item>\n              <ion-grid class=\"tile-grid\">\n                <ion-row class=\"tile-row\">\n                  <ion-col class=\"tile-col\" *ngFor=\"let display of interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]] | keyvalue\" class=\"ion-align-self-center\" size-xs=\"12\" size-sm=\"6\" size-md=\"4\" size-lg=\"4\" size-xl=\"3\">\n                    <ion-card class=\"tile-card\" (click)=\"respondToInteractable($event, i + moment.resource.matrix_number[0].indexOf(20010) + 1, display.value.createdAt)\">\n                      <ion-card-header class=\"ion-no-padding\">\n                        <div class=\"tile-photo-container\">\n                          <ion-img class=\"tile-photo\" [src]=\"display.value.image | background: display.value.option\"></ion-img>\n                        </div>\n                      </ion-card-header>\n                      <ion-icon *ngIf=\"display.value.selectedByUser\" class=\"tile-option-selected\" name=\"checkmark-circle\" color=\"button2\"></ion-icon>\n                      <div class=\"tile-name ion-text-wrap\">{{display.value.option}}</div>\n                    </ion-card>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n              <ion-list class=\"results-list\" *ngIf=\"hasOrganizerAccess\">\n                <ion-item *ngIf=\"resource._id\">\n                  <ion-label>{{resource['en-US'].value[25]}}:</ion-label>\n                </ion-item>\n                <div *ngFor=\"let response of responses\">\n                  <div *ngFor=\"let interactable of response.matrix_number\">\n                    <div *ngIf=\"interactable[0] === moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]\">\n                      <ion-item (click)=\"seeUserInfo($event, response.user)\" class=\"ion-margin-horizontal\">\n                        <ion-avatar slot=\"start\">\n                          <img class=\"response-user-img\" *ngIf=\"response.user.avatar\" [src]=\"response.user.avatar\"/>\n                          <img class=\"response-user-img\" *ngIf=\"!response.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                        </ion-avatar>\n                        {{response.user.first_name}} {{response.user.last_name}}\n                        <ion-label class=\"detail ion-text-wrap\" slot=\"end\"><span *ngFor=\"let selectionCreatedAt of interactable | slice : 5; index as j\">{{interactableDisplay[moment.resource.matrix_number[2][i + moment.resource.matrix_number[0].indexOf(20010) + 1]][selectionCreatedAt.toString()].option}}<span *ngIf=\"j < interactable?.length - 6\">{{\", \"}}</span></span></ion-label>\n                      </ion-item>\n                    </div>\n                  </div>\n                </div>\n              </ion-list>\n            </div>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n  <div *ngIf=\"categoryIds.indexOf('5c915324e172e4e64590e346') > -1 || categoryIds.indexOf('5c915475e172e4e64590e348') > -1\">\n    <ion-item color=\"lightgrey\" lines=\"none\" class=\"section\"> <!--Featured Communities/Programs Section Header-->\n      <ion-label color=\"darkgrey\" class=\"section-label ion-text-uppercase\">Featured Communities</ion-label>\n    </ion-item>\n    <ion-slides class=\"program-slides\" #programsSlides (ionSlideDidChange)=\"swipeProgramslide($event)\" [options]=\"{slidesPerView: 3.5, grabCursor: true, updateOnWindowResize: true}\">\n      <ion-slide class=\"program-slide\" *ngFor=\"let program of programs; trackBy: customTrackBy\">\n        <ion-card class=\"program-card\" (click)=\"openProgram($event, program)\">\n          <ion-card-header class=\"ion-no-padding\">\n            <div class=\"program-photo-container\">\n              <img class=\"program-photo\" [src]=\"(program.assets && program.assets.length && program.assets[0]) | background: program._id\" />\n            </div>\n          </ion-card-header>\n          <div class=\"program-name\">{{program.matrix_string[0][0]}}</div>\n        </ion-card>\n      </ion-slide>\n    </ion-slides>\n  </div>\n  <!--Space to create cushion for the Fab buttons-->\n  <div style=\"height: 50px\" *ngIf=\"authService.token && (hasOrganizerAccess || hasLeaderAccess || hasAddedToAttendEventList) && loadCompleted && mode === 'list' && moment && moment.resource.matrix_number?.length && moment.resource.matrix_number[0].includes(10210) && ((moment.array_boolean.length > 8) && moment.array_boolean[8] || customSchedule || (moment.resource.matrix_number?.length && moment.resource.matrix_number[0].includes(12000)))\"></div>\n</ion-content>\n<ion-footer lines=\"none\">\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\" *ngIf=\"authService.token && (hasOrganizerAccess || hasLeaderAccess || hasAddedToAttendEventList) && loadCompleted && mode === 'list' && moment && moment.resource.matrix_number?.length && moment.resource.matrix_number[0].includes(10210) && ((moment.array_boolean.length > 8) && moment.array_boolean[8] || customSchedule || (moment.resource.matrix_number?.length && moment.resource.matrix_number[0].includes(12000)))\">\n    <ion-fab-button>\n      <ion-icon name=\"add\"></ion-icon>\n    </ion-fab-button>\n    <ion-fab-list side=\"top\">\n      <!--create To-Do-->\n      <ion-fab-button (click)=\"createCalendarItem($event, (moment.matrix_string[moment.resource.matrix_number[0].indexOf(10210)].length > 3) ? moment.matrix_string[moment.resource.matrix_number[0].indexOf(10210)][3] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][17])\" color=\"primary\" *ngIf=\"customSchedule && (!moment.resource.matrix_number[0].includes(20020) || moment.resource.matrix_number[0].includes(20020) && this.tabSelection === moment.resource.matrix_number[3][moment.resource.matrix_number[0].indexOf(10210)])\">{{(moment.matrix_string[moment.resource.matrix_number[0].indexOf(10210)].length > 2) ? moment.matrix_string[moment.resource.matrix_number[0].indexOf(10210)][2] : resource['en-US'].matrix_string[resource.matrix_number[0].indexOf(10210)][15]}}</ion-fab-button>\n      <!--create Goal-->\n      <ion-fab-button (click)=\"promptNewGoalName($event)\" color=\"primary\" *ngIf=\"(moment.array_boolean.length > 8) && moment.array_boolean[8] && (!moment.resource.matrix_number[0].includes(20020) || moment.resource.matrix_number[0].includes(20020) && this.tabSelection === moment.resource.matrix_number[3][moment.resource.matrix_number[0].indexOf(10210)])\">Goal</ion-fab-button>\n      <!--create Note-->\n      <ion-fab-button (click)=\"createCalendarItem($event, '5e4b39cd76ffc96ae6aba323')\" color=\"primary\" *ngIf=\"moment.resource.matrix_number[0].includes(12000) && (!moment.resource.matrix_number[0].includes(20020) || moment.resource.matrix_number[0].includes(20020) && this.tabSelection === moment.resource.matrix_number[3][moment.resource.matrix_number[0].indexOf(12000)])\">Note</ion-fab-button>\n    </ion-fab-list>\n  </ion-fab>\n  <ion-toolbar *ngIf=\"calendarItem\">\n    <ion-button expand=\"block\" shape=\"round\" (click)=\"deleteCalendarItem($event)\" color=\"primary\">Delete</ion-button>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/uploadmedia/uploadmedia.page.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/uploadmedia/uploadmedia.page.html ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-button (click)=\"closeModal()\"><ion-icon name=\"chevron-back-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n    <ion-title>Upload Media</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"finish()\">Done</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-toolbar class=\"filter\">\n    <ion-segment [(ngModel)]=\"mediaType\">\n      <ion-segment-button value=\"photo\">Photo</ion-segment-button>\n      <ion-segment-button value=\"video\">Video</ion-segment-button>\n      <ion-segment-button value=\"file\">File</ion-segment-button>\n      <ion-segment-button value=\"url\">Url</ion-segment-button>\n    </ion-segment>\n  </ion-toolbar>\n  <ion-item *ngIf=\"mediaType === 'photo'\">\n    <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"images\"></ion-icon></label>\n    <div *ngIf=\"platform.is('cordova')\" class=\"moment-input\" (click)=\"selectPhotoFromDeviceAndUpload($event)\">Choose from Photo Album</div>\n    <input *ngIf=\"!platform.is('cordova')\" type=\"file\" class=\"moment-input\" name=\"image\" (change)=\"selectPhotoFromDeviceAndUpload($event)\" accept=\"image/*\"/>\n  </ion-item>\n  <div *ngIf=\"mediaType === 'photo'\">\n    <ion-searchbar [(ngModel)]=\"resourceService.searchKeyword\" (ionChange)=\"resourceService.searchPixabay()\" placeholder=\"Type keywords to search Pixabay\" debounce=\"500\"></ion-searchbar>\n    <ion-grid class=\"pixabay-grid\" *ngIf=\"resourceService.stockPhotoResults && resourceService.stockPhotoResults.hits?.length\">\n      <ion-row>\n        <ion-col *ngFor=\"let photo of resourceService.stockPhotoResults.hits\">\n          <ion-thumbnail class=\"stock-preview\" (click)=\"selectStockPhoto(photo)\">\n            <ion-img [src]=\"photo.previewURL\"></ion-img>\n          </ion-thumbnail>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n  <!--Video-->\n  <ion-item *ngIf=\"mediaType === 'video'\">\n    <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"logo-youtube\"></ion-icon></label>\n    <input type=\"file\" class=\"moment-input\" name=\"image\" (change)=\"selectFileFromDeviceAndUpload($event)\" accept=\"video/*\"/>\n  </ion-item>\n  <ion-item *ngIf=\"mediaType === 'video'\">\n    <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"logo-youtube\"></ion-icon></div>\n    <div class=\"moment-input\" (click)=\"promptMediaUrl('youtube')\">\n      <span>Select Youtube</span>\n    </div>\n  </ion-item>\n  <ion-item *ngIf=\"mediaType === 'file'\">\n    <label class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"document\"></ion-icon></label>\n    <input type=\"file\" class=\"moment-input\" name=\"image\" (change)=\"selectFileFromDeviceAndUpload($event)\"/>\n  </ion-item>\n  <ion-item *ngIf=\"mediaType === 'url'\">\n    <div class=\"moment-label\" slot=\"start\"><ion-icon class=\"side-icon\" color=\"grey\" name=\"link-outline\"></ion-icon></div>\n    <div class=\"moment-input\" (click)=\"promptMediaUrl('media')\">\n      <span>Select Media Link</span>\n    </div>\n  </ion-item>\n</ion-content>\n<ion-footer>\n  <ion-toolbar>\n    <ion-grid class=\"selected-grid\">\n      <ion-row>\n        <ion-col *ngFor=\"let url of urls; index as i\" size-xs=\"4\" size-sm=\"3\" size-md=\"2\" size-lg=\"2\" class=\"ion-margin-horizontal\">\n          <div class=\"selected-item\">\n            <ion-thumbnail class=\"thumbnail-item\" *ngIf=\"(['jpg', 'jpeg', 'gif', 'png']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\">\n              <ion-img [src]=\"url\"></ion-img>\n            </ion-thumbnail>\n            <a [href]=\"url\" *ngIf=\"(['doc', 'docx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/docx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n            <a [href]=\"url\" *ngIf=\"(['xls', 'xlsx']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/xlsx.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n            <a [href]=\"url\" *ngIf=\"(['pdf']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/pdf.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n            <div *ngIf=\"(['mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase())\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'type': 'video/' + (url.substring(url.lastIndexOf('.') + 1).toLowerCase() === 'mov' ? 'mp4' : url.substring(url.lastIndexOf('.') + 1).toLowerCase()) }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n            <div *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"moment-photo-frame\" plyr [plyrSources]=\"[{ 'src': url, 'provider': 'youtube' }]\" [plyrOptions]=\"resourceService.plyrOptions\" (plyrInit)=\"initPlyr($event, i)\" (click)=\"$event.stopPropagation()\"></div>\n\n            <a [href]=\"url\" *ngIf=\"!(['jpg', 'jpeg', 'gif', 'png', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'mp4', 'webm', 'ogg', 'mov']).includes(url.substring(url.lastIndexOf('.') + 1).toLowerCase()) && !url.toLowerCase().includes('youtu')\" target=\"_blank\"><ion-thumbnail class=\"center\"><ion-img src=\"assets/img/file.svg\"></ion-img></ion-thumbnail><p class=\"ion-text-center\">{{url.substring(url.lastIndexOf('/') + 1)}}</p></a>\n            <ion-button *ngIf=\"!url.toLowerCase().includes('youtu')\" class=\"remove-media ion-no-padding ion-no-margin\" (click)=\"removeMedia(i)\" fill=\"clear\" size=\"small\">\n              <ion-icon name=\"close\" color=\"secondary\"></ion-icon>\n            </ion-button>\n            <ion-button *ngIf=\"url.toLowerCase().includes('youtu')\" class=\"remove-video ion-no-padding ion-no-margin\" (click)=\"removeMedia(i)\" fill=\"clear\" size=\"small\">\n              <ion-icon name=\"close\" color=\"secondary\"></ion-icon>\n            </ion-button>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-toolbar>\n</ion-footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/user/register/register.page.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/user/register/register.page.html ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-content>\n  <ion-grid style=\"height: 100%\" *ngIf=\"ionSpinner\">\n    <ion-row class=\"ion-justify-content-start ion-align-items-center\" style=\"height: 100%\">\n      <ion-spinner name=\"dots\"></ion-spinner>\n    </ion-row>\n  </ion-grid>\n  <div *ngIf=\"view === 'signin'\" class=\"full-height fade-in\">\n    <ion-grid class=\"full-height\">\n      <ion-row class=\"ion-align-items-center full-height\">\n        <ion-col>\n          <form [formGroup]=\"loginForm\" class=\"login-form\">\n            <ion-list lines=\"none\" class=\"ion-no-padding\">\n              <ion-buttons *ngIf=\"!authService.token\" slot=\"start\">\n                <ion-button (click)=\"close()\"><ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon></ion-button>\n              </ion-buttons>\n              <ion-row>\n                <ion-col>\n                  <img class=\"login-logo\" src=\"assets/img/icon.png\"/>\n                  <div class=\"welcome-name\">Restvo</div>\n                </ion-col>\n              </ion-row>\n              <ion-segment [value]=\"loginMode\" (ionChange)=\"changeLoginMode($event)\">\n                <ion-segment-button value=\"email\">\n                  <ion-label>Email</ion-label>\n                </ion-segment-button>\n                <ion-segment-button value=\"mobile\">\n                  <ion-label>Mobile</ion-label>\n                </ion-segment-button>\n              </ion-segment>\n              <ion-item *ngIf=\"loginMode === 'mobile'\" lines=\"full\">\n                <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" class=\"calling_code\" formControlName=\"calling_code\" name=\"Country Calling Code\" value=\"+1\">\n                  <ion-select-option *ngFor=\"let calling_code of calling_codes\" [value]=\"calling_code.value\">{{calling_code.name}}</ion-select-option>\n                </ion-select>\n                <ion-input id=\"phone_number\" class=\"phone_number\" type=\"tel\" formControlName=\"phone_number\" placeholder=\"Mobile Number\"></ion-input>\n              </ion-item>\n              <ion-item *ngIf=\"loginMode === 'email'\" lines=\"full\">\n                <ion-input id=\"email\" class=\"email\" type=\"email\" formControlName=\"email\" placeholder=\"Email\" id=\"email\"></ion-input>\n              </ion-item>\n              <ion-item [hidden]=\"recovery_mode\" lines=\"full\">\n                <ion-input id=\"password\" class=\"password\" placeholder=\"Password\" formControlName=\"password\" [type]=\"passwordType\"></ion-input>\n                <ion-icon slot=\"end\" [name]=\"passwordIcon\" class=\"password-icon\" (click)='hideShowPassword()'></ion-icon>\n              </ion-item>\n            </ion-list>\n            <div>\n              <p class=\"ion-padding-horizontal\" color=\"red\" *ngIf=\"loginStatus\">{{loginStatus}}</p>\n              <!--<div style=\"height: 30px;\" *ngIf=\"!loginStatus\"></div>-->\n            </div>\n            <ion-button expand=\"block\" shape=\"round\" *ngIf=\"!recovery_mode\" (click)=\"login()\" color=\"primary\" id=\"login-button\">Login</ion-button>\n            <ion-button expand=\"block\" shape=\"round\" *ngIf=\"recovery_mode && loginMode === 'mobile'\" (click)=\"recover()\" color=\"primary\">Send Recovery Code</ion-button>\n            <ion-button expand=\"block\" shape=\"round\" *ngIf=\"recovery_mode && loginMode === 'email'\" (click)=\"recover()\" color=\"primary\">Send Recovery Link</ion-button>\n          </form>\n          <div style=\"margin-top: 10px\">\n            <ion-button *ngIf=\"!recovery_mode\" (click)=\"view = 'welcome'\" class=\"create-account\" fill=\"clear\">Create an Account</ion-button>\n            <ion-button *ngIf=\"!recovery_mode\" (click)=\"toggleRecoveryMode()\" class=\"create-account\" fill=\"clear\">Forgot my Password</ion-button>\n            <ion-button *ngIf=\"recovery_mode\" (click)=\"toggleRecoveryMode()\" class=\"create-account\" fill=\"clear\" expand=\"full\">Back to Login</ion-button>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n  <div *ngIf=\"view === 'welcome'\" class=\"full-height fade-in\">\n    <ion-grid class=\"full-height\">\n      <ion-row class=\"ion-align-items-center full-height overflow\">\n        <ion-list>\n          <ion-slides #welcomeSlides pager class=\"ion-padding-bottom\">\n            <!--Intro slide 1-->\n            <ion-slide>\n              <ion-list>\n                <ion-item class=\"ion-justify-content-center intro-graphics\" style=\"margin-left: 2%; margin-right: 2%\" lines=\"none\">\n                  <div class=\"graphics-container\">\n                    <img src=\"assets/img/intro_1.png\" />\n                  </div>\n                </ion-item>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <div class=\"intro-title\">Connect with mentors</div>\n                </ion-row>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <p class=\"intro-description\">Restvo helps you discover new mentors</p>\n                </ion-row>\n              </ion-list>\n            </ion-slide>\n            <!--Intro slide 2-->\n            <ion-slide>\n              <ion-list>\n                <ion-item class=\"ion-justify-content-center intro-graphics\" style=\"margin-left: 7%; margin-right: 7%\" lines=\"none\">\n                  <div class=\"graphics-container\">\n                    <img src=\"assets/img/intro_2.png\" />\n                  </div>\n                </ion-item>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <div class=\"intro-title\">Build deeper relationships</div>\n                </ion-row>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <p class=\"intro-description\">Invest in relationship that fosters growth.</p>\n                </ion-row>\n              </ion-list>\n            </ion-slide>\n            <!--Intro slide 3-->\n            <ion-slide>\n              <ion-list>\n                <ion-item class=\"ion-justify-content-center intro-graphics\" lines=\"none\">\n                  <div class=\"graphics-container\">\n                    <img src=\"assets/img/intro_3.png\" />\n                  </div>\n                </ion-item>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <div class=\"intro-title\">Discover new communities</div>\n                </ion-row>\n                <ion-row class=\"ion-justify-content-center\" lines=\"none\">\n                  <p class=\"intro-description\">It is better to do it with others.</p>\n                </ion-row>\n              </ion-list>\n            </ion-slide>\n          </ion-slides>\n          <ion-row class=\"form\">\n            <ion-col>\n              <ion-button expand=\"full\" shape=\"round\" fill=\"outline clear\" (click)=\"loadRegisterSlides()\">Sign up</ion-button>\n            </ion-col>\n          </ion-row>\n        </ion-list>\n      </ion-row>\n    </ion-grid>\n  </div>\n  <ion-slides [options]=\"slidesOpts\" scrollbar *ngIf=\"view === 'register'\" (ionSlidesDidLoad)=\"registerSlidesLoaded()\">\n    <!--First Name-->\n    <!--slide index 0-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"nameForm\" class=\"form\">\n            <ion-list lines=\"none\">\n              <ion-buttons class=\"custom-back-button\" slot=\"start\" (click)=\"view = 'signin'\">\n                <ion-button fill=\"clear\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <ion-item lines=\"full\">\n                <ion-input type=\"text\" formControlName=\"first_name\" placeholder=\"First Name\" autocapitalize=\"true\" id=\"first-name\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!nameForm.controls.first_name.pristine && !nameForm.controls.first_name.valid\">\n                <div class=\"form-error ion-text-wrap\"  *ngIf=\"!nameForm.controls.first_name.pristine && nameForm.controls.first_name.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\"  *ngIf=\"!nameForm.controls.first_name.pristine && nameForm.controls.first_name?.errors?.minlength\">\n                  First name must have at least 2 characters\n                </div>\n              </div>\n              <ion-item lines=\"full\">\n                <ion-input type=\"text\" formControlName=\"last_name\" placeholder=\"Last Name\" autocapitalize=\"true\" id=\"last-name\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!nameForm.controls.last_name.pristine && !nameForm.controls.last_name.valid\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!nameForm.controls.last_name.pristine && nameForm.controls.last_name.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!nameForm.controls.last_name.pristine && nameForm.controls.last_name?.errors?.minlength\">\n                  Last name must have at least 2 characters\n                </div>\n              </div>\n            </ion-list>\n            <p class=\"centered\" style=\"text-align: center;\">By tapping Next, you agree to our <a href=\"https://restvo.com/privacy-policy.html\" target=\"_blank\">Terms of Service and Privacy Policy</a>.</p>\n            <ion-row>\n              <ion-col>\n                <ion-button expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"nextSlide()\" [disabled]=\"!nameForm.valid\" id=\"submit-name\">Next</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--Email-->\n    <!--Slide index 1-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"emailPassForm\" class=\"form\">\n            <ion-list lines=\"none\">\n              <ion-buttons class=\"custom-back-button\" slot=\"start\" (click)=\"prevSlide()\">\n                <ion-button fill=\"clear\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <ion-item lines=\"full\">\n                <ion-input #email type=\"email\" formControlName=\"email\" pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-.]{2,}$\" placeholder=\"Email\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!emailPassForm.controls.email.pristine && !emailPassForm.controls.email.valid\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.email.pristine && emailPassForm.controls.email.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\"  *ngIf=\"!emailPassForm.controls.email.pristine && !emailPassForm.controls.email.valid\">\n                  Invalid email address.\n                </div>\n              </div>\n              <ion-item lines=\"full\">\n                <ion-input #password [type]=\"passwordType\" formControlName=\"password\" placeholder=\"Password\"></ion-input>\n                <ion-icon slot=\"end\" [name]=\"passwordIcon\" class=\"password-icon\" (click)='hideShowPassword()'></ion-icon>\n              </ion-item>\n              <div *ngIf=\"!emailPassForm.controls.password.pristine && !emailPassForm.controls.password.valid\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.password.pristine && emailPassForm.controls.password.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.password.pristine && emailPassForm.controls.password?.errors?.minlength\">\n                  Password must have at least 6 characters\n                </div>\n              </div>\n              <ion-item lines=\"full\">\n                <ion-input type=\"password\" formControlName=\"passwordConfirmation\" placeholder=\"Confirm Password\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!emailPassForm.controls.passwordConfirmation.pristine && (!emailPassForm.controls.passwordConfirmation.valid || emailPassForm.hasError('mismatchedPasswords'))\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.passwordConfirmation.pristine && emailPassForm.controls.passwordConfirmation.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.passwordConfirmation.pristine && emailPassForm.controls.passwordConfirmation?.errors?.minlength\">\n                  Password must have at least 6 characters\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!emailPassForm.controls.passwordConfirmation.pristine && emailPassForm.hasError('mismatchedPasswords')\">\n                  Passwords do not match\n                </div>\n              </div>\n              <div></div><!--Do not remove! This fixes the white line issue at the bottom-->\n            </ion-list>\n            <ion-row>\n              <ion-col>\n                <ion-button [disabled]=\"!emailPassForm.valid\" expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"registerEmail()\">Create Account</ion-button>\n              </ion-col>\n            </ion-row>\n            <ion-row>\n              <ion-col>\n                <ion-button expand=\"full\" fill=\"clear\" (click)=\"goToSlide(3)\" class=\"ion-text-wrap\">Sign-up via mobile phone instead</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--Upload Photo-->\n    <!--Slide index 2-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <ion-list class=\"form\">\n            <div class=\"title\">Upload Your Photo</div>\n            <p class=\"comment\">People in the Restvo community will be able to easily identify you.</p>\n            <ion-item class=\"ion-justify-content-center\" lines=\"none\">\n              <div class=\"image-cropper\" (click)=\"selectPhotoFromDeviceAndUpload($event, true)\">\n                <img class=\"profile-pic\" *ngIf=\"!userData || !userData.user || !userData.user.avatar\" src=\"assets/img/avatar-default.jpg\"/>\n                <img class=\"profile-pic\" *ngIf=\"userData && userData.user && userData.user.avatar\" [src]=\"userData.user.avatar\" onerror=\"this.style.display='none'\"/>\n                <ion-icon name=\"camera\" class=\"camera-icon\" color=\"primary\"></ion-icon>\n              </div>\n            </ion-item>\n            <ion-item *ngIf=\"!platform.is('cordova')\" class=\"ion-no-padding ion-no-margin\" lines=\"none\">\n              <div class=\"browser-upload\">\n                <input type=\"file\" name=\"image\" (change)=\"selectPhotoFromDeviceAndUpload($event, false)\" accept=\"image/*\"/>\n              </div>\n            </ion-item>\n            <ion-row>\n              <ion-col>\n                <ion-button *ngIf=\"!userData || !userData.user || !userData.user.avatar\" expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"finish()\">Skip</ion-button>\n                <ion-button *ngIf=\"userData && userData.user && userData.user.avatar\" expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"finish()\">Next</ion-button>\n              </ion-col>\n            </ion-row>\n          </ion-list>\n        </ion-row>\n      </ion-grid>\n      <!--<ion-button class=\"custom-back-button\" (click)=\"slides.slidePrev()\"><ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>&nbsp;&nbsp;Back</ion-button>-->\n    </ion-slide>\n    <!--Slide Index 3-->\n    <!--Mobile Phone-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"mobileForm\" class=\"form\">\n            <ion-list lines=\"none\">\n              <ion-buttons class=\"custom-back-button\" slot=\"start\">\n                <ion-button fill=\"clear\" *ngIf=\"exitType === 'slide'\" (click)=\"goToSlide(1)\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n                <ion-button fill=\"clear\" *ngIf=\"exitType === 'dashboard'\" (click)=\"prevSlide()\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <ion-item lines=\"full\">\n                <ion-select [interfaceOptions]=\"{cssClass: 'level-15'}\" class=\"calling_code\" formControlName=\"mobile_calling_code\" name='Country Calling Code'>\n                  <ion-select-option *ngFor=\"let calling_code of calling_codes\" [value]=\"calling_code.value\">{{calling_code.name}}</ion-select-option>\n                </ion-select>\n                <ion-input class=\"phone_number\" type=\"tel\" pattern=\"[0-9]{4,}$\" formControlName=\"mobile_sig_number\" placeholder=\"Mobile Number\"></ion-input>\n              </ion-item>\n              <div class=\"form-error\" *ngIf=\"!mobileForm.controls.mobile_sig_number.pristine && !mobileForm.controls.mobile_sig_number.valid\">\n                Invalid mobile number.\n              </div>\n            </ion-list>\n            <p class=\"centered\">We will send you a SMS message to verify this number. Standard SMS rate applies.</p>\n            <ion-row>\n              <ion-col>\n                <ion-button expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"registerMobile()\" [disabled]=\"!mobileForm.valid\">Send the SMS Code</ion-button>\n              </ion-col>\n            </ion-row>\n            <ion-row [hidden]=\"exitType === 'dashboard'\">\n              <ion-col>\n                <ion-button expand=\"full\" fill=\"clear\" (click)=\"goToSlide(1)\" class=\"ion-text-wrap\">Sign me up with email instead</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--Verify SMS-->\n    <!--Slide index 4-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"verifyCodeForm\"  class=\"form\">\n            <ion-list lines=\"none\">\n              <ion-buttons class=\"custom-back-button\" slot=\"start\" (click)=\"prevSlide()\" *ngIf=\"!recovery_mode\">\n                <ion-button fill=\"clear\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <ion-buttons class=\"custom-back-button\" slot=\"start\" (click)=\"view = 'signin'\" *ngIf=\"recovery_mode\">\n                <ion-button fill=\"clear\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <ion-item lines=\"full\">\n                <ion-input type=\"text\" inputmode=\"numeric\" pattern=\"[0-9]*\" formControlName=\"verification_code\" plcaeholder=\"6-digit Verification Code\" maxlength=\"6\"></ion-input>\n              </ion-item>\n                <div class=\"form-error\" *ngIf=\"!verifyCodeForm.controls.verification_code.pristine && !verifyCodeForm.controls.verification_code.valid\">\n                  Invalid code.\n                </div>\n            </ion-list>\n            <p style=\"text-align: center\">We have sent you a 6-digit code via SMS that should arrive shortly. If you do not receive it, tap Back and make sure you entered your mobile number correctly.</p>\n            <ion-row>\n              <ion-col>\n                <ion-button expand=\"full\" shape=\"round\" color=\"primary\" [disabled]=\"!(verifyCodeForm.valid && verifyCodeForm.value.verification_code.length === 6)\" (click)=\"verifyMobile()\">Verify Phone</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--My Email-->\n    <!--Slide index 5-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"emailForm\" class=\"form\">\n            <ion-list lines=\"none\">\n              <div class=\"title\" style=\"margin-bottom: 20%\">My Email</div>\n              <ion-item lines=\"full\">\n                <ion-label position=\"stacked\" color=\"secondary\">Email Address</ion-label>\n                <ion-input type=\"email\" formControlName=\"email\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" placeholder=\"Enter Email Address\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!emailForm.controls.email.pristine && !emailForm.controls.email.valid\">\n                <div class=\"form-error\" *ngIf=\"!emailForm.controls.email.pristine && emailForm.controls.email.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error\"  *ngIf=\"!emailForm.controls.email.pristine && !emailForm.controls.email.valid\">\n                  Invalid email address.\n                </div>\n              </div>\n            </ion-list>\n            <ion-row style=\"margin: 10% 0 0 0;\">\n              <ion-col>\n                <ion-button [disabled]=\"!emailForm.valid\" expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"saveEmail()\">Next</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--Pick Password-->\n      <!--Slide index 6-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <form [formGroup]=\"passForm\" class=\"form\">\n            <ion-list lines=\"none\">\n              <ion-buttons class=\"custom-back-button\" slot=\"start\" *ngIf=\"exitType === 'dashboard'\" (click)=\"prevSlide()\">\n                <ion-button fill=\"clear\">\n                  <ion-icon name=\"chevron-back-outline\" color=\"primary\"></ion-icon>\n                </ion-button>\n              </ion-buttons>\n              <div class=\"title\" style=\"margin-bottom: 20%\">My Password</div>\n              <ion-item lines=\"full\">\n                <ion-input #password [type]=\"passwordType\" formControlName=\"password\" placeholder=\"Pick a Password\"></ion-input>\n                <ion-icon slot=\"end\" [name]=\"passwordIcon\" class=\"password-icon\" (click)='hideShowPassword()'></ion-icon>\n              </ion-item>\n              <div *ngIf=\"!passForm.controls.password.pristine && !passForm.controls.password.valid\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!passForm.controls.password.pristine && passForm.controls.password.hasError('required')\">\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!passForm.controls.password.pristine && passForm.controls.password?.errors?.minlength\">\n                  Password must have at least 6 characters\n                </div>\n              </div>\n              <ion-item lines=\"full\">\n                <ion-input type=\"password\" formControlName=\"passwordConfirmation\" placeholder=\"Confirm Password\"></ion-input>\n              </ion-item>\n              <div *ngIf=\"!passForm.controls.passwordConfirmation.pristine && (!passForm.controls.passwordConfirmation.valid || passForm.hasError('mismatchedPasswords'))\">\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!passForm.controls.passwordConfirmation.pristine && passForm.controls.passwordConfirmation.hasError('required')\" >\n                  This is a required field.\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!passForm.controls.passwordConfirmation.pristine && passForm.controls.passwordConfirmation?.errors?.minlength\" >\n                  Password must have at least 6 characters\n                </div>\n                <div class=\"form-error ion-text-wrap\" *ngIf=\"!passForm.controls.passwordConfirmation.pristine && passForm.hasError('mismatchedPasswords')\" >\n                  Password do not match\n                </div>\n              </div>\n            </ion-list>\n            <ion-row>\n              <ion-col>\n                <ion-button [disabled]=\"!passForm.valid || !password\" expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"savePassword()\">Save</ion-button>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n    <!--Upload Contacts-->\n    <!--Slide index 7-->\n    <ion-slide>\n      <ion-grid class=\"full-height\">\n        <ion-row class=\"ion-align-items-center full-height\">\n          <div class=\"form\">\n            <div class=\"title\" style=\"margin-bottom: 30%\">Congrats! One last step...</div>\n            <p class=\"comment\">Connect your contacts to find friends, family, coworkers, and others on Restvo!</p>\n            <ion-row>\n              <ion-col>\n                <ion-button expand=\"full\" shape=\"round\" color=\"primary\" (click)=\"importContacts()\">Connect</ion-button>\n              </ion-col>\n            </ion-row>\n            <ion-row>\n              <ion-col>\n                <ion-button fill=\"clear\" (click)=\"finish()\">\n                  <div class=\"text-link\">Nah. Next time.</div>\n                </ion-button>\n              </ion-col>\n            </ion-row>\n          </div>\n        </ion-row>\n      </ion-grid>\n    </ion-slide>\n  </ion-slides>\n</ion-content>\n");

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../../connect/showrecipientinfo/showrecipientinfo.module": [
		"./src/app/pages/connect/showrecipientinfo/showrecipientinfo.module.ts"
	],
	"../../discover/preferences/preferences.module": [
		"./src/app/pages/discover/preferences/preferences.module.ts",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"discover-preferences-preferences-module"
	],
	"../../feature/manage/feature-insight/feature-insight.module": [
		"./src/app/pages/feature/manage/feature-insight/feature-insight.module.ts",
		"default~feature-insight-feature-insight-module~feature-manage-managefeature-module~pages-main-tab-ma~0fd01f8f"
	],
	"../../feature/showfeature/showfeature.module": [
		"./src/app/pages/feature/showfeature/showfeature.module.ts"
	],
	"../../group/groupchat/groupchat.module": [
		"./src/app/pages/group/groupchat/groupchat.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~group-groupchat-groupchat-module~pages-main-tab-m~02576a4e",
		"default~group-groupchat-groupchat-module~pages-main-tab-main-tab-module",
		"group-groupchat-groupchat-module"
	],
	"../../group/groupinfo/groupinfo.module": [
		"./src/app/pages/group/groupinfo/groupinfo.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"group-groupinfo-groupinfo-module"
	],
	"../activities/activities.module": [
		"./src/app/pages/manage/activities/activities.module.ts",
		"default~activities-activities-module~manage-managecommunities-managecommunities-module"
	],
	"../administrators/administrators.module": [
		"./src/app/pages/manage/administrators/administrators.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~administrators-administrators-module~manage-managecommunities-managecommunities-module"
	],
	"../analytics/analytics.module": [
		"./src/app/pages/manage/analytics/analytics.module.ts",
		"default~analytics-analytics-module~manage-managecommunities-managecommunities-module"
	],
	"../billing/billing.module": [
		"./src/app/pages/manage/billing/billing.module.ts",
		"default~billing-billing-module~manage-managecommunities-managecommunities-module",
		"billing-billing-module"
	],
	"../board/communityboard/communityboard.module": [
		"./src/app/pages/board/communityboard/communityboard.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~board-communityboard-communityboard-module~groups-groups-module~manage-managecommunities-man~e8713d10",
		"default~board-communityboard-communityboard-module~group-groupchat-groupchat-module~pages-main-tab-m~02576a4e",
		"board-communityboard-communityboard-module"
	],
	"../communities/communities.module": [
		"./src/app/pages/manage/communities/communities.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~communities-communities-module~manage-managecommunities-managecommunities-module"
	],
	"../connect/myconversations/myconversations.module": [
		"./src/app/pages/connect/myconversations/myconversations.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~connect-myconversations-myconversations-module~pages-main-tab-main-tab-module",
		"connect-myconversations-myconversations-module"
	],
	"../connect/showrecipientinfo/showrecipientinfo.module": [
		"./src/app/pages/connect/showrecipientinfo/showrecipientinfo.module.ts"
	],
	"../development/development.module": [
		"./src/app/pages/manage/development/development.module.ts",
		"default~development-development-module~manage-managecommunities-managecommunities-module"
	],
	"../discover/discover/discover.module": [
		"./src/app/pages/discover/discover/discover.module.ts",
		"discover-discover-discover-module"
	],
	"../discover/preferences/preferences.module": [
		"./src/app/pages/discover/preferences/preferences.module.ts",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"discover-preferences-preferences-module"
	],
	"../editparticipants/editparticipants.module": [
		"./src/app/pages/feature/editparticipants/editparticipants.module.ts",
		"common"
	],
	"../feature/createfeature/createfeature.module": [
		"./src/app/pages/feature/createfeature/createfeature.module.ts",
		"common"
	],
	"../feature/editfeature/editfeature.module": [
		"./src/app/pages/feature/editfeature/editfeature.module.ts",
		"common"
	],
	"../feature/manage/managefeature.module": [
		"./src/app/pages/feature/manage/managefeature.module.ts",
		"default~feature-childactivities-feature-childactivities-module~feature-manage-managefeature-module~f~af00ffcf",
		"default~feature-manage-managefeature-module~feature-schedule-feature-schedule-module~pages-main-tab-~a528695a",
		"default~feature-insight-feature-insight-module~feature-manage-managefeature-module~pages-main-tab-ma~0fd01f8f",
		"default~feature-manage-managefeature-module~pages-main-tab-main-tab-module"
	],
	"../feature/onboardfeature/onboardfeature.module": [
		"./src/app/pages/feature/onboardfeature/onboardfeature.module.ts",
		"common"
	],
	"../feature/showfeature/showfeature.module": [
		"./src/app/pages/feature/showfeature/showfeature.module.ts"
	],
	"../groups/groups.module": [
		"./src/app/pages/manage/groups/groups.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~groups-groups-module~manage-managecommunities-man~e8713d10",
		"default~groups-groups-module~manage-managecommunities-managecommunities-module"
	],
	"../manage/managecommunities/managecommunities.module": [
		"./src/app/pages/manage/managecommunities/managecommunities.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~board-communityboard-communityboard-module~groups-groups-module~manage-managecommunities-man~e8713d10",
		"default~manage-managecommunities-managecommunities-module~plan-plan-module",
		"default~billing-billing-module~manage-managecommunities-managecommunities-module",
		"default~communities-communities-module~manage-managecommunities-managecommunities-module",
		"default~manage-managecommunities-managecommunities-module~topics-topics-module",
		"default~groups-groups-module~manage-managecommunities-managecommunities-module",
		"default~manage-managecommunities-managecommunities-module~members-members-module",
		"default~development-development-module~manage-managecommunities-managecommunities-module",
		"default~activities-activities-module~manage-managecommunities-managecommunities-module",
		"default~analytics-analytics-module~manage-managecommunities-managecommunities-module",
		"default~administrators-administrators-module~manage-managecommunities-managecommunities-module",
		"manage-managecommunities-managecommunities-module"
	],
	"../members/members.module": [
		"./src/app/pages/manage/members/members.module.ts",
		"default~manage-managecommunities-managecommunities-module~members-members-module"
	],
	"../plan/plan.module": [
		"./src/app/pages/manage/plan/plan.module.ts",
		"default~manage-managecommunities-managecommunities-module~plan-plan-module"
	],
	"../showfeature/showfeature.module": [
		"./src/app/pages/feature/showfeature/showfeature.module.ts"
	],
	"../topics/topics.module": [
		"./src/app/pages/manage/topics/topics.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~groups-groups-module~manage-managecommunities-man~e8713d10",
		"default~manage-managecommunities-managecommunities-module~topics-topics-module"
	],
	"../user/completeprofile/completeprofile.module": [
		"./src/app/pages/user/completeprofile/completeprofile.module.ts",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"user-completeprofile-completeprofile-module"
	],
	"../user/dashboard/dashboard.module": [
		"./src/app/pages/user/dashboard/dashboard.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"default~about-about-module~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module"
	],
	"../user/user.module": [
		"./src/app/pages/user/user.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"default~about-about-module~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~pages-main-tab-main-tab-module~settings-settings-module~user-user-module",
		"default~pages-main-tab-main-tab-module~programs-programs-module~user-user-module",
		"default~notifications-notifications-module~pages-main-tab-main-tab-module~user-user-module",
		"default~pages-main-tab-main-tab-module~user-user-module"
	],
	"./about/about.module": [
		"./src/app/pages/user/about/about.module.ts",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"default~about-about-module~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"about-about-module"
	],
	"./dashboard/dashboard.module": [
		"./src/app/pages/user/dashboard/dashboard.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"default~about-about-module~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module"
	],
	"./feature-childactivities/feature-childactivities.module": [
		"./src/app/pages/feature/manage/feature-childactivities/feature-childactivities.module.ts",
		"default~feature-childactivities-feature-childactivities-module~feature-manage-managefeature-module~f~af00ffcf",
		"feature-childactivities-feature-childactivities-module"
	],
	"./feature-insight/feature-insight.module": [
		"./src/app/pages/feature/manage/feature-insight/feature-insight.module.ts",
		"default~feature-insight-feature-insight-module~feature-manage-managefeature-module~pages-main-tab-ma~0fd01f8f"
	],
	"./feature-schedule/feature-schedule.module": [
		"./src/app/pages/feature/manage/feature-schedule/feature-schedule.module.ts",
		"default~feature-childactivities-feature-childactivities-module~feature-manage-managefeature-module~f~af00ffcf",
		"default~feature-manage-managefeature-module~feature-schedule-feature-schedule-module~pages-main-tab-~a528695a"
	],
	"./notifications/notifications.module": [
		"./src/app/pages/user/notifications/notifications.module.ts",
		"default~notifications-notifications-module~pages-main-tab-main-tab-module~user-user-module"
	],
	"./pages/community/showcommunity/showcommunity.module": [
		"./src/app/pages/community/showcommunity/showcommunity.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"common"
	],
	"./pages/feature/showfeature/showfeature.module": [
		"./src/app/pages/feature/showfeature/showfeature.module.ts"
	],
	"./pages/main-tab/main-tab.module": [
		"./src/app/pages/main-tab/main-tab.module.ts",
		"default~administrators-administrators-module~board-communityboard-communityboard-module~communities-~e958f6f2",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~8e3a18b1",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~29966ac3",
		"default~board-communityboard-communityboard-module~communities-communities-module~dashboard-dashboar~1ef017ed",
		"default~board-communityboard-communityboard-module~groups-groups-module~manage-managecommunities-man~e8713d10",
		"default~about-about-module~dashboard-dashboard-module~discover-preferences-preferences-module~pages-~fd1aec84",
		"default~feature-childactivities-feature-childactivities-module~feature-manage-managefeature-module~f~af00ffcf",
		"default~about-about-module~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~dashboard-dashboard-module~pages-main-tab-main-tab-module~user-user-module",
		"default~feature-manage-managefeature-module~feature-schedule-feature-schedule-module~pages-main-tab-~a528695a",
		"default~pages-main-tab-main-tab-module~settings-settings-module~user-user-module",
		"default~feature-insight-feature-insight-module~feature-manage-managefeature-module~pages-main-tab-ma~0fd01f8f",
		"default~board-communityboard-communityboard-module~group-groupchat-groupchat-module~pages-main-tab-m~02576a4e",
		"default~pages-main-tab-main-tab-module~programs-programs-module~user-user-module",
		"default~notifications-notifications-module~pages-main-tab-main-tab-module~user-user-module",
		"default~connect-myconversations-myconversations-module~pages-main-tab-main-tab-module",
		"default~pages-main-tab-main-tab-module~user-user-module",
		"default~feature-manage-managefeature-module~pages-main-tab-main-tab-module",
		"default~group-groupchat-groupchat-module~pages-main-tab-main-tab-module",
		"common",
		"pages-main-tab-main-tab-module"
	],
	"./pages/user/recover/recover.module": [
		"./src/app/pages/user/recover/recover.module.ts",
		"pages-user-recover-recover-module"
	],
	"./pages/user/register/register.module": [
		"./src/app/pages/user/register/register.module.ts"
	],
	"./profile/profile.module": [
		"./src/app/pages/user/profile/profile.module.ts",
		"default~board-communityboard-communityboard-module~connect-myconversations-myconversations-module~gr~632626bd",
		"profile-profile-module"
	],
	"./programs/programs.module": [
		"./src/app/pages/user/programs/programs.module.ts",
		"default~pages-main-tab-main-tab-module~programs-programs-module~user-user-module"
	],
	"./settings/settings.module": [
		"./src/app/pages/user/settings/settings.module.ts",
		"default~pages-main-tab-main-tab-module~settings-settings-module~user-user-module"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var routes = [
    {
        path: '',
        redirectTo: '/app/discover/home/5d5785b462489003817fee18',
        pathMatch: 'full'
    },
    {
        path: 'recover',
        loadChildren: './pages/user/recover/recover.module#RecoverPageModule'
    },
    {
        path: 'register',
        loadChildren: './pages/user/register/register.module#RegisterPageModule'
    },
    {
        path: 'app',
        loadChildren: './pages/main-tab/main-tab.module#MainTabPageModule'
    },
    {
        // service in auth.service.ts that handles routing to activities
        path: 'activity/:id',
        loadChildren: './pages/feature/showfeature/showfeature.module#ShowfeaturePageModule'
    },
    {
        // service in auth.service.ts that handles routing to connect
        path: 'connect/:id',
        loadChildren: './pages/community/showcommunity/showcommunity.module#ShowcommunityPageModule'
    },
    {
        path: 'video/:id',
        loadChildren: function () { return __webpack_require__.e(/*! import() | pages-connect-videoconference-videoconference-module */ "connect-videoconference-videoconference-module").then(__webpack_require__.bind(null, /*! ./pages/connect/videoconference/videoconference.module */ "./src/app/pages/connect/videoconference/videoconference.module.ts")).then(function (m) { return m.VideoconferencePageModule; }); }
    },
    {
        path: '**',
        redirectTo: '/app/discover/home/5d5785b462489003817fee18',
        pathMatch: 'prefix'
    },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-root .title-container {\n  padding-top: var(--ion-safe-area-top);\n}\napp-root .title {\n  font-weight: bold;\n}\napp-root .split-pane-md.split-pane-visible > .split-pane-side {\n  min-width: 77px;\n  max-width: 180px;\n  border-right: var(--border);\n  border-left: 0;\n}\napp-root .split-pane-ios.split-pane-visible > .split-pane-side {\n  min-width: 77px;\n  max-width: 180px;\n  border-right: var(--border);\n  border-left: 0;\n}\napp-root .menu {\n  margin-left: 6px;\n  color: black;\n}\napp-root .menu.disabled {\n  color: lightgrey;\n}\napp-root ion-avatar {\n  width: 40px !important;\n  height: 40px !important;\n}\napp-root #videoSpace {\n  background-color: var(--ion-color-secondary);\n  border: none;\n}\napp-root .developer-section {\n  margin: 5%;\n}\napp-root .menu-panel-select {\n  min-width: 100%;\n}\napp-root .calendar-container {\n  width: 85%;\n  max-width: 400px;\n  margin: 10px auto;\n  padding-bottom: 10px;\n  --color: var(--ion-color-dark);\n}\napp-root .month-title-container {\n  width: 100%;\n}\napp-root .month-title {\n  width: calc((100% / 7) * 5);\n  text-align: center;\n  display: inline-block;\n}\napp-root .calendar-arrow {\n  width: calc(100% / 7);\n  position: relative;\n  display: inline-block;\n}\napp-root .calendar-arrow .left {\n  float: left;\n}\napp-root .calendar-arrow .right {\n  float: right;\n}\napp-root .monthview-day-headers {\n  width: calc(100% / 7);\n  float: left;\n  position: relative;\n  color: var(--ion-color-grey);\n  text-align: center;\n}\napp-root .monthview-element {\n  width: calc(100% / 7);\n  float: left;\n  position: relative;\n  padding-bottom: calc(100% / 9);\n}\napp-root .selected-date {\n  background-color: var(--ion-color-lightgrey);\n  border-radius: 50%;\n}\napp-root .monthview-element .monthview-element-content {\n  width: calc(100% - 10px);\n  height: calc(100% - 10px);\n  text-align: center;\n  margin: 5px;\n  padding-top: 5px;\n  position: absolute;\n}\napp-root .past-calendar-item {\n  background-color: var(--ion-color-grey);\n}\napp-root .monthview-dot-container {\n  text-align: center;\n  display: inline-block;\n}\napp-root .monthview-element-dot {\n  height: 5px;\n  width: 5px;\n  margin: 0px 0.5px 0px 0.5px;\n  border-radius: 50%;\n  background-color: var(--ion-color-primary);\n}\napp-root .list-container {\n  overflow: scroll;\n  max-height: 400px;\n  margin: 0 auto;\n  max-width: 400px;\n}\napp-root .feature-thumbnail {\n  height: 40px;\n  width: 40px;\n}\napp-root .item-container {\n  width: 60%;\n  margin: 5px;\n  float: left;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0UscUNBQUE7QUNESjtBRElFO0VBQ0UsaUJBQUE7QUNGSjtBREtFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsMkJBQUE7RUFDQSxjQUFBO0FDSEo7QURNRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDJCQUFBO0VBQ0EsY0FBQTtBQ0pKO0FET0U7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUNMSjtBRFFFO0VBQ0UsZ0JBQUE7QUNOSjtBRFNFO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtBQ1BKO0FEVUU7RUFDRSw0Q0FBQTtFQUNBLFlBQUE7QUNSSjtBRFdFO0VBQ0UsVUFBQTtBQ1RKO0FEWUU7RUFDRSxlQUFBO0FDVko7QURvQkU7RUFDRSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsOEJBQUE7QUNsQko7QURxQkU7RUFDRSxXQUFBO0FDbkJKO0FEc0JFO0VBQ0UsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDcEJKO0FEdUJFO0VBQ0UscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDckJKO0FEc0JJO0VBQ0UsV0FBQTtBQ3BCTjtBRHNCSTtFQUNFLFlBQUE7QUNwQk47QUR3QkU7RUFDRSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0Esa0JBQUE7QUN0Qko7QUQwQkU7RUFDRSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLDhCQUFBO0FDeEJKO0FEMkJFO0VBQ0UsNENBQUE7RUFDQSxrQkFBQTtBQ3pCSjtBRDRCRTtFQUNFLHdCQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDMUJKO0FENkJFO0VBQ0UsdUNBQUE7QUMzQko7QUQ4QkU7RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0FDNUJKO0FEK0JFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7RUFDQSwyQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMENBQUE7QUM3Qko7QURpQ0U7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDL0JKO0FEa0NFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUNoQ0o7QURtQ0U7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUNqQ0oiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtcm9vdCB7XG5cbiAgLnRpdGxlLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZy10b3A6IHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKTtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cblxuICAuc3BsaXQtcGFuZS1tZC5zcGxpdC1wYW5lLXZpc2libGU+LnNwbGl0LXBhbmUtc2lkZSB7XG4gICAgbWluLXdpZHRoOiA3N3B4O1xuICAgIG1heC13aWR0aDogMTgwcHg7XG4gICAgYm9yZGVyLXJpZ2h0OiB2YXIoLS1ib3JkZXIpO1xuICAgIGJvcmRlci1sZWZ0OiAwO1xuICB9XG5cbiAgLnNwbGl0LXBhbmUtaW9zLnNwbGl0LXBhbmUtdmlzaWJsZT4uc3BsaXQtcGFuZS1zaWRlIHtcbiAgICBtaW4td2lkdGg6IDc3cHg7XG4gICAgbWF4LXdpZHRoOiAxODBweDtcbiAgICBib3JkZXItcmlnaHQ6IHZhcigtLWJvcmRlcik7XG4gICAgYm9yZGVyLWxlZnQ6IDA7XG4gIH1cblxuICAubWVudSB7XG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcbiAgICBjb2xvcjogYmxhY2s7XG4gIH1cblxuICAubWVudS5kaXNhYmxlZCB7XG4gICAgY29sb3I6IGxpZ2h0Z3JleTtcbiAgfVxuXG4gIGlvbi1hdmF0YXIge1xuICAgIHdpZHRoOiA0MHB4ICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0IDogNDBweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgI3ZpZGVvU3BhY2Uge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgfVxuXG4gIC5kZXZlbG9wZXItc2VjdGlvbiB7XG4gICAgbWFyZ2luOiA1JTtcbiAgfVxuXG4gIC5tZW51LXBhbmVsLXNlbGVjdCB7XG4gICAgbWluLXdpZHRoOiAxMDAlO1xuICB9XG5cbiAgJHNlZ21lbnQtYnV0dG9uLWlvcy10b29sYmFyLWZvbnQtc2l6ZTogMC40cmVtO1xuICAkc2VnbWVudC1idXR0b24tbWQtZm9udC1zaXplOiAwLjRyZW07XG5cblxuICAvLyBjYWxlbmRhclxuXG5cbiAgLmNhbGVuZGFyLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDg1JTtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgIG1hcmdpbjogMTBweCBhdXRvO1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgfVxuXG4gIC5tb250aC10aXRsZS1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLm1vbnRoLXRpdGxlIHtcbiAgICB3aWR0aDogY2FsYygoMTAwJSAvIDcpICogNSk7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5jYWxlbmRhci1hcnJvdyB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgLmxlZnQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5yaWdodCB7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLm1vbnRodmlldy1kYXktaGVhZGVycyB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICB9XG5cbiAgLm1vbnRodmlldy1lbGVtZW50IHtcbiAgICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHBhZGRpbmctYm90dG9tOiBjYWxjKDEwMCUgLyA5KTtcbiAgfVxuXG4gIC5zZWxlY3RlZC1kYXRlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRncmV5KTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIH1cblxuICAubW9udGh2aWV3LWVsZW1lbnQgLm1vbnRodmlldy1lbGVtZW50LWNvbnRlbnQge1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDEwcHgpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW46IDVweDtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgfVxuXG4gIC5wYXN0LWNhbGVuZGFyLWl0ZW0ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgfVxuXG4gIC5tb250aHZpZXctZG90LWNvbnRhaW5lciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5tb250aHZpZXctZWxlbWVudC1kb3Qge1xuICAgIGhlaWdodDogNXB4O1xuICAgIHdpZHRoOiA1cHg7XG4gICAgbWFyZ2luOiAwcHggLjVweCAwcHggLjVweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICB9XG5cblxuICAubGlzdC1jb250YWluZXIge1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgbWF4LWhlaWdodDogNDAwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgfVxuXG4gIC5mZWF0dXJlLXRodW1ibmFpbCB7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIHdpZHRoOiA0MHB4O1xuICB9XG5cbiAgLml0ZW0tY29udGFpbmVyIHtcbiAgICB3aWR0aDogNjAlO1xuICAgIG1hcmdpbjogNXB4O1xuICAgIGZsb2F0OiBsZWZ0O1xuICB9XG59XG4iLCJhcHAtcm9vdCAudGl0bGUtY29udGFpbmVyIHtcbiAgcGFkZGluZy10b3A6IHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKTtcbn1cbmFwcC1yb290IC50aXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuYXBwLXJvb3QgLnNwbGl0LXBhbmUtbWQuc3BsaXQtcGFuZS12aXNpYmxlID4gLnNwbGl0LXBhbmUtc2lkZSB7XG4gIG1pbi13aWR0aDogNzdweDtcbiAgbWF4LXdpZHRoOiAxODBweDtcbiAgYm9yZGVyLXJpZ2h0OiB2YXIoLS1ib3JkZXIpO1xuICBib3JkZXItbGVmdDogMDtcbn1cbmFwcC1yb290IC5zcGxpdC1wYW5lLWlvcy5zcGxpdC1wYW5lLXZpc2libGUgPiAuc3BsaXQtcGFuZS1zaWRlIHtcbiAgbWluLXdpZHRoOiA3N3B4O1xuICBtYXgtd2lkdGg6IDE4MHB4O1xuICBib3JkZXItcmlnaHQ6IHZhcigtLWJvcmRlcik7XG4gIGJvcmRlci1sZWZ0OiAwO1xufVxuYXBwLXJvb3QgLm1lbnUge1xuICBtYXJnaW4tbGVmdDogNnB4O1xuICBjb2xvcjogYmxhY2s7XG59XG5hcHAtcm9vdCAubWVudS5kaXNhYmxlZCB7XG4gIGNvbG9yOiBsaWdodGdyZXk7XG59XG5hcHAtcm9vdCBpb24tYXZhdGFyIHtcbiAgd2lkdGg6IDQwcHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA0MHB4ICFpbXBvcnRhbnQ7XG59XG5hcHAtcm9vdCAjdmlkZW9TcGFjZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICBib3JkZXI6IG5vbmU7XG59XG5hcHAtcm9vdCAuZGV2ZWxvcGVyLXNlY3Rpb24ge1xuICBtYXJnaW46IDUlO1xufVxuYXBwLXJvb3QgLm1lbnUtcGFuZWwtc2VsZWN0IHtcbiAgbWluLXdpZHRoOiAxMDAlO1xufVxuYXBwLXJvb3QgLmNhbGVuZGFyLWNvbnRhaW5lciB7XG4gIHdpZHRoOiA4NSU7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbjogMTBweCBhdXRvO1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xufVxuYXBwLXJvb3QgLm1vbnRoLXRpdGxlLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXJvb3QgLm1vbnRoLXRpdGxlIHtcbiAgd2lkdGg6IGNhbGMoKDEwMCUgLyA3KSAqIDUpO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbmFwcC1yb290IC5jYWxlbmRhci1hcnJvdyB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLyA3KTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5hcHAtcm9vdCAuY2FsZW5kYXItYXJyb3cgLmxlZnQge1xuICBmbG9hdDogbGVmdDtcbn1cbmFwcC1yb290IC5jYWxlbmRhci1hcnJvdyAucmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5hcHAtcm9vdCAubW9udGh2aWV3LWRheS1oZWFkZXJzIHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICBmbG9hdDogbGVmdDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5hcHAtcm9vdCAubW9udGh2aWV3LWVsZW1lbnQge1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIGZsb2F0OiBsZWZ0O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHBhZGRpbmctYm90dG9tOiBjYWxjKDEwMCUgLyA5KTtcbn1cbmFwcC1yb290IC5zZWxlY3RlZC1kYXRlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0Z3JleSk7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cbmFwcC1yb290IC5tb250aHZpZXctZWxlbWVudCAubW9udGh2aWV3LWVsZW1lbnQtY29udGVudCB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMHB4KTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDVweDtcbiAgcGFkZGluZy10b3A6IDVweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xufVxuYXBwLXJvb3QgLnBhc3QtY2FsZW5kYXItaXRlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbn1cbmFwcC1yb290IC5tb250aHZpZXctZG90LWNvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLXJvb3QgLm1vbnRodmlldy1lbGVtZW50LWRvdCB7XG4gIGhlaWdodDogNXB4O1xuICB3aWR0aDogNXB4O1xuICBtYXJnaW46IDBweCAwLjVweCAwcHggMC41cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuYXBwLXJvb3QgLmxpc3QtY29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuYXBwLXJvb3QgLmZlYXR1cmUtdGh1bWJuYWlsIHtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbn1cbmFwcC1yb290IC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiA2MCU7XG4gIG1hcmdpbjogNXB4O1xuICBmbG9hdDogbGVmdDtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var ngx_stripe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-stripe */ "./node_modules/ngx-stripe/fesm5/ngx-stripe.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _pages_connect_showrecipientinfo_showrecipientinfo_page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/connect/showrecipientinfo/showrecipientinfo.page */ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.ts");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




//import {registerWebPlugin} from "@capacitor/core";
//import {OAuth2Client} from '@byteowls/capacitor-oauth2';






var App = _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["Plugins"].App;
var AppComponent = /** @class */ (function () {
    function AppComponent(router, storage, zone, stripeService, actionSheetCtrl, menuCtrl, modalCtrl, platform, networkService, userData, chatService) {
        this.router = router;
        this.storage = storage;
        this.zone = zone;
        this.stripeService = stripeService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.menuCtrl = menuCtrl;
        this.modalCtrl = modalCtrl;
        this.platform = platform;
        this.networkService = networkService;
        this.userData = userData;
        this.chatService = chatService;
    }
    AppComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.menuCtrl.enable(false);
                this.userData.refreshUserStatus$.subscribe(function (res) { return __awaiter(_this, void 0, void 0, function () {
                    var modalPage;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                if (!(res && res.type === 'show recipient')) return [3 /*break*/, 3];
                                return [4 /*yield*/, this.modalCtrl.create({
                                        component: _pages_connect_showrecipientinfo_showrecipientinfo_page__WEBPACK_IMPORTED_MODULE_8__["ShowrecipientinfoPage"],
                                        componentProps: res.data
                                    })];
                            case 1:
                                modalPage = _a.sent();
                                return [4 /*yield*/, modalPage.present()];
                            case 2:
                                _a.sent();
                                _a.label = 3;
                            case 3: return [2 /*return*/];
                        }
                    });
                }); });
                return [2 /*return*/];
            });
        });
    };
    AppComponent.prototype.ngAfterViewInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, err_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.platform.ready()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 6, , 7]);
                        if (!_capacitor_core__WEBPACK_IMPORTED_MODULE_9__["Capacitor"].isPluginAvailable('App')) return [3 /*break*/, 4];
                        return [4 /*yield*/, App.getLaunchUrl()];
                    case 3:
                        data = _a.sent();
                        if (data && data.url) {
                            this.openUrl(data.url);
                        }
                        App.addListener('appUrlOpen', function (app_data) { return __awaiter(_this, void 0, void 0, function () {
                            var _this = this;
                            return __generator(this, function (_a) {
                                if (app_data && app_data.url) {
                                    this.zone.run(function () {
                                        _this.openUrl(app_data.url);
                                    });
                                }
                                return [2 /*return*/];
                            });
                        }); });
                        return [3 /*break*/, 5];
                    case 4:
                        console.log("App Plugin not available");
                        _a.label = 5;
                    case 5: return [3 /*break*/, 7];
                    case 6:
                        err_1 = _a.sent();
                        console.log("error when activating Capacitor's App Plugin");
                        return [3 /*break*/, 7];
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.openUrl = function (dataUrl) {
        return __awaiter(this, void 0, void 0, function () {
            var routeUrl, params, urlComponents, i, modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        routeUrl = dataUrl.slice(22, dataUrl.length);
                        if (!(routeUrl && routeUrl.length)) return [3 /*break*/, 2];
                        params = {};
                        urlComponents = void 0;
                        if (this.platform.is('ios')) {
                            urlComponents = routeUrl.split('%3B'); // to account for the matrix notation ";" in iOS, which encodes as %3B
                        }
                        else {
                            urlComponents = routeUrl.split(';'); // to account for the matrix notation ";" in Android
                        }
                        if (urlComponents.length > 1) {
                            for (i = 1; i < urlComponents.length; i++) {
                                params[urlComponents[i].split('=')[0]] = urlComponents[i].split('=')[1];
                            }
                        }
                        console.log("launch app!", routeUrl, urlComponents[0], params);
                        return [4 /*yield*/, this.modalCtrl.getTop()];
                    case 1:
                        modal = _a.sent();
                        if (modal) {
                            modal.dismiss();
                        }
                        this.router.navigate([urlComponents[0], params]);
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.changeTab = function (tab) {
        this.menuCtrl.close();
        this.router.navigateByUrl('app/' + tab);
    };
    AppComponent.prototype.settings = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.router.navigateByUrl('/app/user/profile');
                this.menuCtrl.close();
                return [2 /*return*/];
            });
        });
    };
    AppComponent.prototype.toggleAdminMode = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.userData.UIready)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.storage.set('UIAdminMode', this.userData.UIAdminMode)];
                    case 1:
                        _a.sent();
                        if (this.userData.UIAdminMode) {
                            this.userData.openUserPrograms({ modalPage: this.platform.width() < 768 });
                            this.menuCtrl.close();
                        }
                        else {
                            if (this.userData.defaultProgram) {
                                this.router.navigateByUrl('/app/discover/home/' + this.userData.defaultProgram._id);
                            }
                            else {
                                this.router.navigateByUrl('/app/discover');
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.prototype.saveToLocalStorage = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.storage.set('serverDomain', this.networkService.domain)];
                    case 1:
                        _a.sent();
                        if (this.networkService.domain === 'https://server.restvo.com') {
                            this.stripeService.setKey('pk_live_yJ6A4nw34iPEMTvJnAzTZPLl');
                        }
                        else {
                            this.stripeService.setKey('pk_test_x6u9uWj1QBPuhpD1MtOTTriS');
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    AppComponent.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] },
        { type: ngx_stripe__WEBPACK_IMPORTED_MODULE_3__["StripeService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_5__["NetworkService"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_7__["Chat"] }
    ]; };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __importDefault(__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            ngx_stripe__WEBPACK_IMPORTED_MODULE_3__["StripeService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_5__["NetworkService"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_7__["Chat"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var ngx_pinch_zoom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-pinch-zoom */ "./node_modules/ngx-pinch-zoom/fesm5/ngx-pinch-zoom.js");
/* harmony import */ var ngx_plyr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-plyr */ "./node_modules/ngx-plyr/fesm5/ngx-plyr.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _ionic_native_push_ngx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic-native/push/ngx */ "./node_modules/@ionic-native/push/ngx/index.js");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var _ionic_native_sms_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/sms/ngx */ "./node_modules/@ionic-native/sms/ngx/index.js");
/* harmony import */ var _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/email-composer/ngx */ "./node_modules/@ionic-native/email-composer/ngx/index.js");
/* harmony import */ var _ionic_native_call_number_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/call-number/ngx */ "./node_modules/@ionic-native/call-number/ngx/index.js");
/* harmony import */ var _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic-native/contacts/ngx */ "./node_modules/@ionic-native/contacts/ngx/index.js");
/* harmony import */ var _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic-native/app-version/ngx */ "./node_modules/@ionic-native/app-version/ngx/index.js");
/* harmony import */ var _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @ionic-native/geolocation/ngx */ "./node_modules/@ionic-native/geolocation/ngx/index.js");
/* harmony import */ var _ionic_native_native_geocoder_ngx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ionic-native/native-geocoder/ngx */ "./node_modules/@ionic-native/native-geocoder/ngx/index.js");
/* harmony import */ var _ionic_native_speech_recognition_ngx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ionic-native/speech-recognition/ngx */ "./node_modules/@ionic-native/speech-recognition/ngx/index.js");
/* harmony import */ var _ionic_native_calendar_ngx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @ionic-native/calendar/ngx */ "./node_modules/@ionic-native/calendar/ngx/index.js");
/* harmony import */ var _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ionic-native/screen-orientation/ngx */ "./node_modules/@ionic-native/screen-orientation/ngx/index.js");
/* harmony import */ var ngx_stripe__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ngx-stripe */ "./node_modules/ngx-stripe/fesm5/ngx-stripe.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./pipes/application-pipes */ "./src/app/pipes/application-pipes.ts");
/* harmony import */ var _utils_IonicGestureConfig__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../utils/IonicGestureConfig */ "./src/utils/IonicGestureConfig.ts");
/* harmony import */ var _pages_user_register_register_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./pages/user/register/register.module */ "./src/app/pages/user/register/register.module.ts");
/* harmony import */ var _pages_connect_showrecipientinfo_showrecipientinfo_module__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./pages/connect/showrecipientinfo/showrecipientinfo.module */ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.module.ts");
/* harmony import */ var _pages_feature_showfeature_showfeature_module__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./pages/feature/showfeature/showfeature.module */ "./src/app/pages/feature/showfeature/showfeature.module.ts");
/* harmony import */ var _pages_feature_pickpeople_popover_pickpeople_popover_module__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pages/feature/pickpeople-popover/pickpeople-popover.module */ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.module.ts");
/* harmony import */ var _pages_feature_pickfeature_popover_pickfeature_popover_module__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./pages/feature/pickfeature-popover/pickfeature-popover.module */ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_26__["AppComponent"],
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                ngx_electron__WEBPACK_IMPORTED_MODULE_6__["NgxElectronModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                ngx_pinch_zoom__WEBPACK_IMPORTED_MODULE_7__["PinchZoomModule"],
                ngx_plyr__WEBPACK_IMPORTED_MODULE_8__["PlyrModule"],
                ionic_cache__WEBPACK_IMPORTED_MODULE_10__["CacheModule"].forRoot(),
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_28__["ApplicationPipesModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"].forRoot(),
                _ionic_storage__WEBPACK_IMPORTED_MODULE_9__["IonicStorageModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_27__["AppRoutingModule"],
                _pages_user_register_register_module__WEBPACK_IMPORTED_MODULE_30__["RegisterPageModule"],
                _pages_feature_showfeature_showfeature_module__WEBPACK_IMPORTED_MODULE_32__["ShowfeaturePageModule"],
                _pages_connect_showrecipientinfo_showrecipientinfo_module__WEBPACK_IMPORTED_MODULE_31__["ShowrecipientinfoModule"],
                _pages_feature_pickfeature_popover_pickfeature_popover_module__WEBPACK_IMPORTED_MODULE_34__["PickfeaturePopoverPageModule"],
                _pages_feature_pickpeople_popover_pickpeople_popover_module__WEBPACK_IMPORTED_MODULE_33__["PickpeoplePopoverPageModule"],
                ngx_stripe__WEBPACK_IMPORTED_MODULE_23__["NgxStripeModule"].forRoot(),
                _angular_service_worker__WEBPACK_IMPORTED_MODULE_24__["ServiceWorkerModule"].register('ngsw-worker.js', { enabled: _environments_environment__WEBPACK_IMPORTED_MODULE_25__["environment"].production }),
            ],
            providers: [
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicRouteStrategy"] },
                { provide: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["HAMMER_GESTURE_CONFIG"], useClass: _utils_IonicGestureConfig__WEBPACK_IMPORTED_MODULE_29__["IonicGestureConfig"] },
                _ionic_native_push_ngx__WEBPACK_IMPORTED_MODULE_11__["Push"],
                _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_12__["Badge"],
                _ionic_native_call_number_ngx__WEBPACK_IMPORTED_MODULE_15__["CallNumber"],
                _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_16__["Contacts"],
                _ionic_native_sms_ngx__WEBPACK_IMPORTED_MODULE_13__["SMS"],
                _ionic_native_email_composer_ngx__WEBPACK_IMPORTED_MODULE_14__["EmailComposer"],
                _ionic_native_app_version_ngx__WEBPACK_IMPORTED_MODULE_17__["AppVersion"],
                _ionic_native_screen_orientation_ngx__WEBPACK_IMPORTED_MODULE_22__["ScreenOrientation"],
                _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_18__["Geolocation"],
                _ionic_native_native_geocoder_ngx__WEBPACK_IMPORTED_MODULE_19__["NativeGeocoder"],
                _ionic_native_speech_recognition_ngx__WEBPACK_IMPORTED_MODULE_20__["SpeechRecognition"],
                _ionic_native_calendar_ngx__WEBPACK_IMPORTED_MODULE_21__["Calendar"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_26__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/pages/connect/focus-photo/focus-photo.page.scss":
/*!*****************************************************************!*\
  !*** ./src/app/pages/connect/focus-photo/focus-photo.page.scss ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-focus-photo ion-content {\n  --background: var(--ion-color-dark);\n}\napp-focus-photo #back-icon {\n  margin-left: 10%;\n  color: #FFFFFF !important;\n  width: 30%;\n}\napp-focus-photo .container {\n  height: 100%;\n}\napp-focus-photo .image {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2Nvbm5lY3QvZm9jdXMtcGhvdG8vZm9jdXMtcGhvdG8ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jb25uZWN0L2ZvY3VzLXBob3RvL2ZvY3VzLXBob3RvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLG1DQUFBO0FDREo7QURJRTtFQUNFLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0FDRko7QURLRTtFQUNFLFlBQUE7QUNISjtBRE1FO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtLQUFBLG1CQUFBO0VBQ0EsY0FBQTtBQ0pKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY29ubmVjdC9mb2N1cy1waG90by9mb2N1cy1waG90by5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtZm9jdXMtcGhvdG8ge1xuXG4gIGlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgfVxuXG4gICNiYWNrLWljb257XG4gICAgbWFyZ2luLWxlZnQ6IDEwJTtcbiAgICBjb2xvcjogI0ZGRkZGRiAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAzMCU7XG4gIH1cblxuICAuY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAuaW1hZ2Uge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbn1cbiIsImFwcC1mb2N1cy1waG90byBpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xufVxuYXBwLWZvY3VzLXBob3RvICNiYWNrLWljb24ge1xuICBtYXJnaW4tbGVmdDogMTAlO1xuICBjb2xvcjogI0ZGRkZGRiAhaW1wb3J0YW50O1xuICB3aWR0aDogMzAlO1xufVxuYXBwLWZvY3VzLXBob3RvIC5jb250YWluZXIge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtZm9jdXMtcGhvdG8gLmltYWdlIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgbWFyZ2luOiAwIGF1dG87XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/connect/focus-photo/focus-photo.page.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/connect/focus-photo/focus-photo.page.ts ***!
  \***************************************************************/
/*! exports provided: FocusPhotoPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusPhotoPage", function() { return FocusPhotoPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var FocusPhotoPage = /** @class */ (function () {
    function FocusPhotoPage(modalCtrl) {
        this.modalCtrl = modalCtrl;
    }
    FocusPhotoPage.prototype.ngOnInit = function () {
        this.filename = this.imageUri.substring(this.imageUri.lastIndexOf('/') + 1).toLowerCase();
    };
    FocusPhotoPage.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], FocusPhotoPage.prototype, "imageUri", void 0);
    FocusPhotoPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-focus-photo',
            template: __importDefault(__webpack_require__(/*! raw-loader!./focus-photo.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/focus-photo/focus-photo.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./focus-photo.page.scss */ "./src/app/pages/connect/focus-photo/focus-photo.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]])
    ], FocusPhotoPage);
    return FocusPhotoPage;
}());



/***/ }),

/***/ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.module.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/pages/connect/showrecipientinfo/showrecipientinfo.module.ts ***!
  \*****************************************************************************/
/*! exports provided: ShowrecipientinfoModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowrecipientinfoModule", function() { return ShowrecipientinfoModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _showrecipientinfo_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./showrecipientinfo.page */ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../pipes/application-pipes */ "./src/app/pipes/application-pipes.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};







var routes = [
    {
        path: '',
        component: _showrecipientinfo_page__WEBPACK_IMPORTED_MODULE_4__["ShowrecipientinfoPage"]
    }
];
var ShowrecipientinfoModule = /** @class */ (function () {
    function ShowrecipientinfoModule() {
    }
    ShowrecipientinfoModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_6__["ApplicationPipesModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
            ],
            declarations: [
                _showrecipientinfo_page__WEBPACK_IMPORTED_MODULE_4__["ShowrecipientinfoPage"],
            ]
        })
    ], ShowrecipientinfoModule);
    return ShowrecipientinfoModule;
}());



/***/ }),

/***/ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.scss ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-showrecipientinfo .header-toolbar {\n  padding: 6px;\n  --background: transparent;\n}\napp-showrecipientinfo ion-spinner {\n  position: absolute;\n  margin: 48%;\n}\napp-showrecipientinfo #map {\n  width: 100%;\n  height: 65%;\n}\napp-showrecipientinfo .section-title {\n  color: white;\n  --background: var(--ion-color-grey);\n  text-align: left;\n  font-size: large;\n}\napp-showrecipientinfo .name {\n  width: 100%;\n  margin: 0 auto;\n}\napp-showrecipientinfo .image-cropper {\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  border-radius: 50%;\n  margin: 0 auto;\n}\napp-showrecipientinfo img {\n  -o-object-fit: cover;\n     object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\napp-showrecipientinfo .section {\n  --min-height: 26px;\n}\napp-showrecipientinfo .section .section-label {\n  font-size: 12px;\n}\napp-showrecipientinfo .label-title {\n  font-weight: bold;\n  color: var(--ion-color-grey);\n}\napp-showrecipientinfo .user-detail {\n  color: var(--ion-color-grey);\n  text-align: right;\n  min-width: 70%;\n}\napp-showrecipientinfo .relationship-action {\n  color: white;\n}\napp-showrecipientinfo .infoSharingDiv {\n  padding-left: 5%;\n  padding-right: 5%;\n}\napp-showrecipientinfo .question-answer-container {\n  text-wrap: normal;\n}\napp-showrecipientinfo .question {\n  margin: 8px 12px;\n  font-size: 16px;\n}\napp-showrecipientinfo .answer {\n  margin: 8px 12px;\n  font-size: 16px;\n  color: grey;\n  font-style: italic;\n}\napp-showrecipientinfo .program-row {\n  max-height: 70%;\n  overflow: scroll;\n}\napp-showrecipientinfo .program-card {\n  width: auto;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 3%;\n}\napp-showrecipientinfo .program-photo-container {\n  height: 80px;\n  overflow: hidden;\n}\napp-showrecipientinfo .program-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  margin: auto;\n  display: block;\n}\napp-showrecipientinfo .program-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-showrecipientinfo .opacity {\n  opacity: 0.4;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2Nvbm5lY3Qvc2hvd3JlY2lwaWVudGluZm8vc2hvd3JlY2lwaWVudGluZm8ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jb25uZWN0L3Nob3dyZWNpcGllbnRpbmZvL3Nob3dyZWNpcGllbnRpbmZvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFlBQUE7RUFDQSx5QkFBQTtBQ0FKO0FER0U7RUFDRSxrQkFBQTtFQUNBLFdBQUE7QUNESjtBRElFO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUNGSjtBREtFO0VBQ0UsWUFBQTtFQUNBLG1DQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0hKO0FETUU7RUFDRSxXQUFBO0VBQ0EsY0FBQTtBQ0pKO0FET0U7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDTEo7QURRRTtFQUNFLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ05KO0FEU0U7RUFDRSxrQkFBQTtBQ1BKO0FEU0k7RUFDRSxlQUFBO0FDUE47QURXRTtFQUNFLGlCQUFBO0VBQ0EsNEJBQUE7QUNUSjtBRFlFO0VBQ0UsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNWSjtBRGFFO0VBQ0UsWUFBQTtBQ1hKO0FEY0U7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FDWko7QURlRTtFQUNFLGlCQUFBO0FDYko7QURnQkU7RUFDRSxnQkFBQTtFQUNBLGVBQUE7QUNkSjtBRGlCRTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQ2ZKO0FEa0JFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FDaEJKO0FEbUJFO0VBQ0UsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxZQUFBO0FDakJKO0FEb0JFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDbEJKO0FEdUJFO0VBQ0Usb0JBQUE7S0FBQSxpQkFBQTtFQUNBLGVBQUE7RUFFQSxZQUFBO0VBRUEsWUFBQTtFQUNBLGNBQUE7QUN2Qko7QUQyQkU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ3pCSjtBRDRCRTtFQUNFLFlBQUE7QUMxQkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jb25uZWN0L3Nob3dyZWNpcGllbnRpbmZvL3Nob3dyZWNpcGllbnRpbmZvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1zaG93cmVjaXBpZW50aW5mbyB7XG4gIC5oZWFkZXItdG9vbGJhciB7XG4gICAgcGFkZGluZzogNnB4O1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cblxuICBpb24tc3Bpbm5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbjogNDglO1xuICB9XG5cbiAgI21hcCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA2NSU7XG4gIH1cblxuICAuc2VjdGlvbi10aXRsZSB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgZm9udC1zaXplOiBsYXJnZTtcbiAgfVxuXG4gIC5uYW1lIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC5pbWFnZS1jcm9wcGVyIHtcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgaGVpZ2h0OiAxNTBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIGltZyB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnNlY3Rpb24ge1xuICAgIC0tbWluLWhlaWdodDogMjZweDtcblxuICAgIC5zZWN0aW9uLWxhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICB9XG4gIH1cblxuICAubGFiZWwtdGl0bGUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIH1cblxuICAudXNlci1kZXRhaWwge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgbWluLXdpZHRoOiA3MCU7XG4gIH1cblxuICAucmVsYXRpb25zaGlwLWFjdGlvbiB7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG5cbiAgLmluZm9TaGFyaW5nRGl2e1xuICAgIHBhZGRpbmctbGVmdDogNSU7XG4gICAgcGFkZGluZy1yaWdodDogNSU7XG4gIH1cblxuICAucXVlc3Rpb24tYW5zd2VyLWNvbnRhaW5lciB7XG4gICAgdGV4dC13cmFwOiBub3JtYWw7XG4gIH1cblxuICAucXVlc3Rpb24ge1xuICAgIG1hcmdpbjogOHB4IDEycHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICB9XG5cbiAgLmFuc3dlciB7XG4gICAgbWFyZ2luOiA4cHggMTJweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6IGdyZXk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG5cbiAgLnByb2dyYW0tcm93IHtcbiAgICBtYXgtaGVpZ2h0OiA3MCU7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5wcm9ncmFtLWNhcmQge1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgbWFyZ2luOiAwIDMlO1xuICB9XG5cbiAgLnByb2dyYW0tcGhvdG8tY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDgwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvL2JvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAvL21hcmdpbjogNSUgYXV0bztcbiAgfVxuXG4gIC5wcm9ncmFtLXBob3RvIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgLy9vcGFjaXR5OiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIC8vd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIC8vbWF4LWhlaWdodDogMjAwcHg7XG4gIH1cblxuICAucHJvZ3JhbS1uYW1lIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAyJTtcbiAgICBsZWZ0OiAyJTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB6LWluZGV4OiAxNTtcbiAgfVxuXG4gIC5vcGFjaXR5IHtcbiAgICBvcGFjaXR5OiAwLjQ7XG4gIH1cbn1cbiIsImFwcC1zaG93cmVjaXBpZW50aW5mbyAuaGVhZGVyLXRvb2xiYXIge1xuICBwYWRkaW5nOiA2cHg7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5hcHAtc2hvd3JlY2lwaWVudGluZm8gaW9uLXNwaW5uZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogNDglO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvICNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2NSU7XG59XG5hcHAtc2hvd3JlY2lwaWVudGluZm8gLnNlY3Rpb24tdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmb250LXNpemU6IGxhcmdlO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5uYW1lIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5pbWFnZS1jcm9wcGVyIHtcbiAgd2lkdGg6IDE1MHB4O1xuICBoZWlnaHQ6IDE1MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIGltZyB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5zZWN0aW9uIHtcbiAgLS1taW4taGVpZ2h0OiAyNnB4O1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5zZWN0aW9uIC5zZWN0aW9uLWxhYmVsIHtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5sYWJlbC10aXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC51c2VyLWRldGFpbCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtaW4td2lkdGg6IDcwJTtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAucmVsYXRpb25zaGlwLWFjdGlvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAuaW5mb1NoYXJpbmdEaXYge1xuICBwYWRkaW5nLWxlZnQ6IDUlO1xuICBwYWRkaW5nLXJpZ2h0OiA1JTtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAucXVlc3Rpb24tYW5zd2VyLWNvbnRhaW5lciB7XG4gIHRleHQtd3JhcDogbm9ybWFsO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5xdWVzdGlvbiB7XG4gIG1hcmdpbjogOHB4IDEycHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAuYW5zd2VyIHtcbiAgbWFyZ2luOiA4cHggMTJweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogZ3JleTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5wcm9ncmFtLXJvdyB7XG4gIG1heC1oZWlnaHQ6IDcwJTtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAucHJvZ3JhbS1jYXJkIHtcbiAgd2lkdGg6IGF1dG87XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIG1hcmdpbjogMCAzJTtcbn1cbmFwcC1zaG93cmVjaXBpZW50aW5mbyAucHJvZ3JhbS1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDgwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtc2hvd3JlY2lwaWVudGluZm8gLnByb2dyYW0tcGhvdG8ge1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5hcHAtc2hvd3JlY2lwaWVudGluZm8gLnByb2dyYW0tbmFtZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAyJTtcbiAgbGVmdDogMiU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLXNob3dyZWNpcGllbnRpbmZvIC5vcGFjaXR5IHtcbiAgb3BhY2l0eTogMC40O1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.ts":
/*!***************************************************************************!*\
  !*** ./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.ts ***!
  \***************************************************************************/
/*! exports provided: ShowrecipientinfoPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowrecipientinfoPage", function() { return ShowrecipientinfoPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _ionic_native_call_number_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/call-number/ngx */ "./node_modules/@ionic-native/call-number/ngx/index.js");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _services_church_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/church.service */ "./src/app/services/church.service.ts");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _feature_showfeature_showfeature_page__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../feature/showfeature/showfeature.page */ "./src/app/pages/feature/showfeature/showfeature.page.ts");
/* harmony import */ var _feature_pickfeature_popover_pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../feature/pickfeature-popover/pickfeature-popover.page */ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};














var ShowrecipientinfoPage = /** @class */ (function () {
    function ShowrecipientinfoPage(storage, location, router, route, actionSheetCtrl, alertCtrl, loadingCtrl, callNumber, userData, networkService, resourceService, momentService, chatService, modalCtrl, churchService) {
        var _this = this;
        this.storage = storage;
        this.location = location;
        this.router = router;
        this.route = route;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.loadingCtrl = loadingCtrl;
        this.callNumber = callNumber;
        this.userData = userData;
        this.networkService = networkService;
        this.resourceService = resourceService;
        this.momentService = momentService;
        this.chatService = chatService;
        this.modalCtrl = modalCtrl;
        this.churchService = churchService;
        this.recipient = { _id: '', first_name: '', last_name: '', role: '', avatar: '' };
        this.subscriptions = {};
        this.result = [];
        this.isConnected = false;
        this.isBlocked = false;
        this.userHasSharedContact = false;
        this.recipientHasSharedContact = false;
        this.community = {};
        this.anyChangeMade = false;
        this.loadCompleted = false;
        this.awaitUserInput = false;
        this.manageMode = false;
        this.selectedProgram = '';
        this.refreshHandler = function () {
            if (_this.recipient._id) {
                if (!_this.userData.user || (_this.recipient && ((_this.recipient.role === 'Contact') || (_this.recipient.role === 'Pending')))) {
                    _this.loadCompleted = true;
                }
                else {
                    _this.checkConnection();
                }
            }
        };
    }
    ShowrecipientinfoPage.prototype.ngOnInit = function () {
        if (this.userData.currentCommunityAdminStatus) {
            this.setToggle();
        }
        this.manageMode = this.recipient.wee_user;
        this.recipient._id = this.recipient._id || this.route.snapshot.paramMap.get('id');
        // link refreshUserStatus Observable with refresh handler. It fires on page loads and subsequent user status refresh
        this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.refreshHandler);
    };
    ShowrecipientinfoPage.prototype.checkConnection = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_1, _a, e_2, _b, _c, _d, _e, program, _f, _g, leader;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        _c = this;
                        return [4 /*yield*/, this.chatService.getConversationByRecipientId(this.recipient._id, true, this.programId)];
                    case 1:
                        _c.result = _h.sent(); // API-controlled recipient info access permission
                        if (this.result && this.result.recipient) {
                            this.recipient = this.result.recipient;
                        }
                        this.isConnected = !!this.result.conversation;
                        if (this.isConnected) { // if user is connected && not in manage Mode
                            this.isBlocked = this.result.conversation.blockedBy === this.userData.user._id;
                            this.userHasSharedContact = this.result.conversation.shareContactBy.indexOf(this.userData.user._id.toString()) > -1;
                            this.recipientHasSharedContact = this.result.conversation.shareContactBy.indexOf(this.recipient._id.toString()) > -1;
                        }
                        if (this.result.programs) {
                            try {
                                for (_d = __values(this.result.programs), _e = _d.next(); !_e.done; _e = _d.next()) {
                                    program = _e.value;
                                    try {
                                        for (_f = __values(program.leader), _g = _f.next(); !_g.done; _g = _f.next()) {
                                            leader = _g.value;
                                            if (leader.role) {
                                                this.recipient.role = leader.role;
                                            }
                                        }
                                    }
                                    catch (e_2_1) { e_2 = { error: e_2_1 }; }
                                    finally {
                                        try {
                                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                                        }
                                        finally { if (e_2) throw e_2.error; }
                                    }
                                    if (program._id !== '5d5785b462489003817fee18' && !this.selectedProgram) {
                                        this.selectedProgram = program._id;
                                    }
                                }
                            }
                            catch (e_1_1) { e_1 = { error: e_1_1 }; }
                            finally {
                                try {
                                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                                }
                                finally { if (e_1) throw e_1.error; }
                            }
                        }
                        this.loadCompleted = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.setToggle = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, adminIds;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.churchService.loadChurchProfile(this.userData.user.churches[this.userData.currentCommunityIndex]._id)];
                    case 1:
                        _a = __read.apply(void 0, [_b.sent(), 1]), this.community = _a[0];
                        adminIds = this.community.admins.map(function (c) { return c._id; });
                        this.appUserIsAdmin = adminIds.indexOf(this.recipient._id) > -1;
                        setTimeout(function () {
                            _this.awaitUserInput = true;
                        }, 50);
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.toggleAdminStatus = function () {
        return __awaiter(this, void 0, void 0, function () {
            var err_1, networkAlert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 8]);
                        if (!this.awaitUserInput)
                            return [2 /*return*/];
                        if (!this.appUserIsAdmin) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.churchService.addAdmin(this.community._id, { _id: this.recipient._id, name: this.recipient.name })];
                    case 1:
                        _a.sent();
                        this.userData.socket.emit('refresh user status', this.recipient._id, { type: 'update admin', action: 'add as admin', community: this.community });
                        return [3 /*break*/, 4];
                    case 2: //remove this person's admin role
                    return [4 /*yield*/, this.churchService.removeAdmin(this.community._id, { _id: this.recipient._id, name: this.recipient.name })];
                    case 3:
                        _a.sent();
                        this.userData.socket.emit('refresh user status', this.recipient._id, { type: 'update admin', action: 'remove from admin', community: this.community });
                        _a.label = 4;
                    case 4:
                        this.anyChangeMade = true;
                        return [3 /*break*/, 8];
                    case 5:
                        err_1 = _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'No Internet Connection',
                                message: 'Please resume internet connection to complete the log out process.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 6:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 7:
                        _a.sent();
                        return [3 /*break*/, 8];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.messageRecipient = function () {
        return __awaiter(this, void 0, void 0, function () {
            var conversation_1, alert_1, alert_2, alert_3, alert_4;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.recipient._id === this.userData.user._id)
                            return [2 /*return*/]; //terminate if the recipient selected is the user herself
                        if (!this.result.conversation) return [3 /*break*/, 9];
                        conversation_1 = this.result.conversation;
                        if (!(conversation_1.type === 'connect')) return [3 /*break*/, 1];
                        if (this.modalPage) {
                            this.chatService.openChat({ conversationId: conversation_1._id, author: this.recipient });
                        }
                        else {
                            this.chatService.currentChatProps.push({
                                conversationId: conversation_1._id,
                                name: this.recipient.first_name + ' ' + this.recipient.last_name,
                                recipient: this.recipient,
                                page: 'chat',
                                modalPage: false
                            });
                            this.router.navigate(['/app/myconversations/chat']);
                            this.userData.refreshMyConversations({ action: 'reload chat view' });
                        }
                        return [3 /*break*/, 8];
                    case 1:
                        if (!(conversation_1.type === 'request')) return [3 /*break*/, 8];
                        if (!conversation_1.blockedBy) return [3 /*break*/, 6];
                        if (!(conversation_1.blockedBy === this.userData.user._id)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'User is Blocked',
                                message: 'Do you want to reconnect with ' + this.recipient.name + '?',
                                buttons: [{
                                        text: 'Yes',
                                        handler: function () {
                                            var navTransition = alert_1.dismiss();
                                            navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                                return __generator(this, function (_a) {
                                                    switch (_a.label) {
                                                        case 0: return [4 /*yield*/, this.chatService.unblockConversation(conversation_1._id, this.recipient._id)];
                                                        case 1:
                                                            _a.sent();
                                                            this.chatService.openChat({ conversationId: conversation_1._id, author: this.recipient });
                                                            this.isBlocked = false;
                                                            this.isConnected = true;
                                                            return [2 /*return*/];
                                                    }
                                                });
                                            }); });
                                        }
                                    }, { text: 'No' }],
                                cssClass: 'level-15'
                            })];
                    case 2:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Blocked by ' + this.recipient.name + '.',
                            message: 'You cannot direct message this user while being blocked.',
                            buttons: [{ text: 'Dismiss' }],
                            cssClass: 'level-15'
                        })];
                    case 4:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 5;
                    case 5: return [3 /*break*/, 8];
                    case 6: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Connect request is pending',
                            message: 'You have already sent a connect request to this user.',
                            buttons: [{ text: 'Dismiss' }],
                            cssClass: 'level-15'
                        })];
                    case 7:
                        alert_3 = _a.sent();
                        alert_3.present();
                        _a.label = 8;
                    case 8: return [3 /*break*/, 11];
                    case 9: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Connect to ' + this.recipient.name,
                            message: 'You are not yet connected with ' + this.recipient.name + ". Do you want to direct message " + this.recipient.name + '?',
                            buttons: [{ text: 'Yes',
                                    handler: function () {
                                        console.log("creating new conversation...");
                                        var navTransition = alert_4.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            var welcomeMessage, newConversationId;
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: return [4 /*yield*/, this.userData.checkPushNotification()];
                                                    case 1:
                                                        _a.sent();
                                                        welcomeMessage = this.userData.user.first_name + ' ' + this.userData.user.last_name + " is now connected with you.";
                                                        return [4 /*yield*/, this.chatService.newConversation(this.recipient._id, { composedMessage: welcomeMessage, type: "connect" })];
                                                    case 2:
                                                        newConversationId = _a.sent();
                                                        this.chatService.refreshTabBadges();
                                                        this.isConnected = true;
                                                        this.chatService.openChat({ conversationId: newConversationId, author: this.recipient });
                                                        return [2 /*return*/];
                                                }
                                            });
                                        }); });
                                    } }, { text: 'Cancel' }],
                            cssClass: 'level-15'
                        })];
                    case 10:
                        alert_4 = _a.sent();
                        alert_4.present();
                        _a.label = 11;
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.shareContactInfo = function () {
        return __awaiter(this, void 0, void 0, function () {
            var state_1, err_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.chatService.shareContactInfo(this.result.conversation._id)];
                    case 1:
                        state_1 = _a.sent();
                        this.resourceService.load('en-US', "Contact").subscribe(function (result) { return __awaiter(_this, void 0, void 0, function () {
                            var moment;
                            return __generator(this, function (_a) {
                                moment = { comment: [''], notifyAt: new Date().toISOString(), matrix_string: [['Contact Request']], matrix_number: [[]], conversation: this.result.conversation._id, resource: {} };
                                moment.resource = result[0];
                                moment.matrix_number = [[state_1]];
                                this.createFeature(moment);
                                this.checkConnection();
                                return [2 /*return*/];
                            });
                        }); });
                        return [3 /*break*/, 3];
                    case 2:
                        err_2 = _a.sent();
                        console.log(err_2);
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.createContactMessage = function (state) {
        return __awaiter(this, void 0, void 0, function () {
            var err_3, networkAlert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 1, , 4]);
                        this.resourceService.load('en-US', "Contact").subscribe(function (result) { return __awaiter(_this, void 0, void 0, function () {
                            var _a, serverData, createdMoment, index, conversationObj;
                            return __generator(this, function (_b) {
                                switch (_b.label) {
                                    case 0:
                                        _a = this;
                                        return [4 /*yield*/, this.chatService.getConversationByRecipientId(this.recipient._id, true, this.programId)];
                                    case 1:
                                        _a.result = _b.sent();
                                        this.conversation = this.result.conversation;
                                        serverData = { comment: [''], notifyAt: new Date().toISOString(), matrix_string: [['']], matrix_number: [[]], conversations: this.conversation._id, resource: {} };
                                        serverData.resource = result[0]._id;
                                        serverData.matrix_number = [[state]];
                                        return [4 /*yield*/, this.momentService.create(serverData)];
                                    case 2:
                                        createdMoment = _b.sent();
                                        createdMoment.resource = result[0]; // repopulate resource
                                        index = this.chatService.conversations.map(function (c) { return c.conversation._id; }).indexOf(this.conversation._id);
                                        if (index > -1) {
                                            createdMoment.conversations = [this.chatService.conversations[index]];
                                        }
                                        else {
                                            conversationObj = { conversation: this.conversation, type: 'connect' };
                                            createdMoment.conversations.push(conversationObj);
                                        }
                                        return [4 /*yield*/, this.momentService.share(createdMoment)];
                                    case 3:
                                        _b.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        return [3 /*break*/, 4];
                    case 1:
                        err_3 = _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'No Internet Connection',
                                subHeader: 'Please check your internet connection.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15',
                            })];
                    case 2:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 3:
                        _a.sent();
                        console.log(err_3);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.callAction = function (phoneNumber) {
        if (phoneNumber.length) {
            this.callNumber.callNumber(phoneNumber, true)
                .then(function () { return console.log('Launched dialer!'); })
                .catch(function () { return console.log('Error launching dialer'); });
        }
    };
    ShowrecipientinfoPage.prototype.createFeature = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var createdMoment, err_4, err_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 6, , 7]);
                        return [4 /*yield*/, this.momentService.create(moment)];
                    case 1:
                        createdMoment = _a.sent();
                        createdMoment.resource = moment.resource; //populate resource
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 4, , 5]);
                        return [4 /*yield*/, this.chatService.sendReply(this.result.conversation._id, {
                                moment: createdMoment._id,
                                page: "MessagePage",
                                groupId: null,
                                groupName: null
                            }, {
                                conversationId: this.result.conversation._id,
                                moment: createdMoment,
                                createdAt: new Date(),
                                author: {
                                    _id: this.userData.user._id,
                                    first_name: this.userData.user.first_name,
                                    last_name: this.userData.user.last_name,
                                    avatar: this.userData.user.avatar
                                },
                                status: "pending",
                                confirmId: Math.random()
                            })];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        err_4 = _a.sent();
                        console.log(err_4);
                        return [3 /*break*/, 5];
                    case 5: return [3 /*break*/, 7];
                    case 6:
                        err_5 = _a.sent();
                        console.log(err_5);
                        return [3 /*break*/, 7];
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.openProgram = function (programId) {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.modalPage) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.modalCtrl.create({ component: _feature_showfeature_showfeature_page__WEBPACK_IMPORTED_MODULE_12__["ShowfeaturePage"], componentProps: { moment: { _id: programId }, modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [3 /*break*/, 3];
                    case 2:
                        this.router.navigate(['/app/activity/' + programId]);
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /*
        async inviteToGroup(){
            const invitePage = await this.modalCtrl.create({component: InvitetoconnectPage, componentProps: {type: "Invite to Group", selectedAppUser: this.recipient}});
            invitePage.present();
        }
    
        async inviteToCommunity(){
            const invitePage = await this.modalCtrl.create({component: InvitetoconnectPage, componentProps: {type: "Invite to Community", selectedAppUser: this.recipient}});
            invitePage.present();
        }*/
    ShowrecipientinfoPage.prototype.createRelationship = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pickProgramModal, moments, _a, clonedMoments;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({ component: _feature_pickfeature_popover_pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_13__["PickfeaturePopoverPage"], componentProps: { title: 'Create Relationship', maxMomentCount: 1, categoryId: '5dfdbb547b00ea76b75e5a70', allowCreate: false, allowSwitchCategory: false, modalPage: true } })];
                    case 1:
                        pickProgramModal = _b.sent();
                        return [4 /*yield*/, pickProgramModal.present()];
                    case 2:
                        _b.sent();
                        return [4 /*yield*/, pickProgramModal.onDidDismiss()];
                    case 3:
                        moments = (_b.sent()).data;
                        if (!(moments && moments.length)) return [3 /*break*/, 9];
                        _a = this;
                        return [4 /*yield*/, this.loadingCtrl.create({
                                message: 'Processing...',
                                duration: 5000
                            })];
                    case 4:
                        _a.loading = _b.sent();
                        return [4 /*yield*/, this.loading.present()];
                    case 5:
                        _b.sent();
                        if (!(moments[0] && moments[0].type === 'new')) return [3 /*break*/, 7];
                        moments[0].calendar = {
                            title: moments[0].matrix_string[0][0],
                            location: '',
                            notes: '',
                            startDate: new Date().toISOString(),
                            endDate: new Date().toISOString(),
                            options: {
                                firstReminderMinutes: 0,
                                secondReminderMinutes: 0,
                                reminders: []
                            }
                        };
                        return [4 /*yield*/, this.momentService.clone(moments, null)];
                    case 6:
                        clonedMoments = _b.sent();
                        if (clonedMoments && clonedMoments.length) {
                            clonedMoments[0].type = 'new';
                            clonedMoments[0].resource = moments[0].resource; // clone the populated resource
                            this.selectedProgram = clonedMoments[0];
                        }
                        return [3 /*break*/, 8];
                    case 7:
                        this.selectedProgram = moments[0];
                        _b.label = 8;
                    case 8:
                        this.momentService.initiateParticipantsView(this.selectedProgram, this.loading);
                        _b.label = 9;
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.initializeCall = function (number) {
        this.callNumber.callNumber(number, true)
            .then(function () { return console.log('Launched dialer!'); })
            .catch(function () { return console.log('Error launching dialer'); });
    };
    ShowrecipientinfoPage.prototype.reportUserAbuse = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var buttons, actionSheet;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        buttons = [];
                        buttons.push({
                            text: 'Report',
                            handler: function () {
                                _this.churchService.reportUserAbuse(_this.recipient);
                            }
                        });
                        if (this.isConnected) {
                            if (!this.isBlocked) {
                                buttons.push({
                                    text: 'Block & Report',
                                    handler: function () {
                                        _this.blockConversation();
                                    }
                                });
                                buttons.push({
                                    text: 'Delete and Unfriend',
                                    handler: function () {
                                        _this.disconnectConversation();
                                    }
                                });
                            }
                            else {
                                buttons.push({
                                    text: 'Cancel Block',
                                    handler: function () {
                                        _this.messageRecipient();
                                    }
                                });
                            }
                        }
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: buttons.length > 1 ? "Actions" : "Action",
                                buttons: buttons,
                                cssClass: 'level-15'
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.clearAbuseReport = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Clear Reports',
                            message: 'Are you sure you want to clear the abuse report for ' + this.recipient.name + '? Even if the report is clear, Restvo reserves the right to further investigate this user and take appropriate actions.',
                            buttons: [{
                                    text: 'Proceed',
                                    handler: function () {
                                        var navTransition = alert.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: return [4 /*yield*/, this.churchService.clearAbuseReport(this.community._id, this.recipient)];
                                                    case 1:
                                                        _a.sent();
                                                        this.closeModal();
                                                        return [2 /*return*/];
                                                }
                                            });
                                        }); });
                                    }
                                }, { text: 'Cancel' }],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.blockConversation = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert_5;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.result.conversation) return [3 /*break*/, 2];
                        this.recipient.name = this.recipient.name || this.recipient.first_name + " " + this.recipient.last_name;
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Block User',
                                message: 'Are you sure you want to block ' + this.recipient.name + '? ' + this.recipient.name + ' will no longer be able to add you as friend or message you.',
                                buttons: [{
                                        text: 'Proceed',
                                        handler: function () {
                                            var navTransition = alert_5.dismiss();
                                            navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                                return __generator(this, function (_a) {
                                                    switch (_a.label) {
                                                        case 0: return [4 /*yield*/, this.chatService.blockConversation(this.result.conversation._id, this.recipient._id, { name: this.recipient.name })];
                                                        case 1:
                                                            _a.sent();
                                                            return [4 /*yield*/, this.chatService.getAllUserConversations()];
                                                        case 2:
                                                            _a.sent();
                                                            this.userData.refreshAppPages();
                                                            if (this.modalPage) {
                                                                this.modalCtrl.dismiss(true);
                                                            }
                                                            this.churchService.reportUserAbuse(this.recipient);
                                                            return [2 /*return*/];
                                                    }
                                                });
                                            }); });
                                        }
                                    }, { text: 'Cancel' }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alert_5 = _a.sent();
                        alert_5.present();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.disconnectConversation = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert_6;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.result.conversation) return [3 /*break*/, 3];
                        this.recipient.name = this.recipient.name || this.recipient.first_name + ' ' + this.recipient.last_name;
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Disconnect',
                                message: 'This will disconnect you from ' + this.recipient.name + ' and erase all chat history. Proceed?',
                                buttons: [{
                                        text: 'Proceed',
                                        handler: function () {
                                            var navTransition = alert_6.dismiss();
                                            navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                                return __generator(this, function (_a) {
                                                    switch (_a.label) {
                                                        case 0: return [4 /*yield*/, this.chatService.deleteConversation(this.result.conversation._id, this.recipient._id)];
                                                        case 1:
                                                            _a.sent();
                                                            return [4 /*yield*/, this.chatService.getAllUserConversations()];
                                                        case 2:
                                                            _a.sent();
                                                            this.userData.refreshAppPages();
                                                            if (this.modalPage) {
                                                                this.modalCtrl.dismiss(true);
                                                            }
                                                            this.churchService.reportUserAbuse(this.recipient);
                                                            return [2 /*return*/];
                                                    }
                                                });
                                            }); });
                                        }
                                    }, { text: 'Cancel' }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alert_6 = _a.sent();
                        return [4 /*yield*/, alert_6.present()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.prototype.closeModal = function () {
        if (this.modalPage) {
            this.modalCtrl.dismiss(this.anyChangeMade);
        }
        else {
            if (this.router.url.includes('myconversations')) { // the special case when viewing in the myconversations context
                this.router.navigate(['/app/myconversations/chat'], { replaceUrl: true });
            }
            else {
                this.location.back();
            }
        }
    };
    ShowrecipientinfoPage.prototype.noNetworkConnection = function () {
        return __awaiter(this, void 0, void 0, function () {
            var networkAlert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'No Internet Connection',
                            subHeader: 'Please check your internet connection.',
                            buttons: ['Dismiss'],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowrecipientinfoPage.ctorParameters = function () { return [
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_1__["Storage"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"] },
        { type: _ionic_native_call_number_ngx__WEBPACK_IMPORTED_MODULE_3__["CallNumber"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_7__["Resource"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_8__["Moment"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
        { type: _services_church_service__WEBPACK_IMPORTED_MODULE_5__["Churches"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowrecipientinfoPage.prototype, "modalPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowrecipientinfoPage.prototype, "recipient", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowrecipientinfoPage.prototype, "programId", void 0);
    ShowrecipientinfoPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-showrecipientinfo',
            template: __importDefault(__webpack_require__(/*! raw-loader!./showrecipientinfo.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./showrecipientinfo.page.scss */ "./src/app/pages/connect/showrecipientinfo/showrecipientinfo.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_1__["Storage"],
            _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"],
            _angular_router__WEBPACK_IMPORTED_MODULE_10__["Router"],
            _angular_router__WEBPACK_IMPORTED_MODULE_10__["ActivatedRoute"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"],
            _ionic_native_call_number_ngx__WEBPACK_IMPORTED_MODULE_3__["CallNumber"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_7__["Resource"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_8__["Moment"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _services_church_service__WEBPACK_IMPORTED_MODULE_5__["Churches"]])
    ], ShowrecipientinfoPage);
    return ShowrecipientinfoPage;
}());



/***/ }),

/***/ "./src/app/pages/feature/createfeature/createfeature.page.scss":
/*!*********************************************************************!*\
  !*** ./src/app/pages/feature/createfeature/createfeature.page.scss ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-createfeature ion-item {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\napp-createfeature ion-spinner {\n  position: absolute;\n  margin: 48%;\n}\napp-createfeature ion-slides {\n  height: 100%;\n}\napp-createfeature a {\n  margin: 25px 10%;\n}\napp-createfeature .slide-grid {\n  height: 100%;\n  overflow: scroll;\n}\napp-createfeature .slide-row {\n  height: 100%;\n  padding-bottom: 42px;\n}\napp-createfeature .slide-row-align {\n  align-items: center !important;\n}\napp-createfeature .slide-col {\n  height: 100%;\n}\napp-createfeature .summary-label {\n  width: 20%;\n}\napp-createfeature .selected-item {\n  height: 100px;\n}\napp-createfeature .thumbnail-item {\n  margin: 0 auto;\n  --size: 100px;\n}\napp-createfeature .remove-media {\n  position: absolute;\n  top: 4px;\n  right: calc(100%/2 - 45px);\n  z-index: 15;\n}\napp-createfeature .slide-list {\n  height: 100%;\n  overflow: scroll;\n}\napp-createfeature .participant-row {\n  width: 100%;\n}\napp-createfeature .participant {\n  width: 100%;\n}\napp-createfeature .participant-centered {\n  width: 100%;\n  height: 65px;\n  margin: auto 0 auto 0;\n}\napp-createfeature .participant-centered .participant-avatar {\n  margin: 0 auto;\n  top: 0;\n}\napp-createfeature .participant-centered .participant-joined {\n  position: absolute;\n  left: 60%;\n  top: 28px;\n}\napp-createfeature .participant-centered .participant-label {\n  margin: 5px auto 0 auto;\n  color: grey;\n  font-size: 12px;\n}\napp-createfeature .person-card {\n  height: 100%;\n  width: 400px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 12px;\n}\napp-createfeature .person-card .top-pattern {\n  position: absolute;\n  top: 0;\n  height: 15%;\n  width: 100%;\n  background-color: #62bebf;\n  z-index: -1;\n}\napp-createfeature .person-card .middle-pattern {\n  position: absolute;\n  top: 15%;\n  height: 50%;\n  width: 100%;\n  border-style: solid;\n  border-width: 0 1300px 500px 0;\n  border-color: transparent #62bebf transparent transparent;\n  z-index: -1;\n}\napp-createfeature .person-card .bottom-pattern {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: #f0f0f0;\n  z-index: -2;\n}\napp-createfeature .person-content {\n  overflow: scroll;\n}\napp-createfeature .person-content-left {\n  width: 40%;\n  display: inline-block;\n}\napp-createfeature .person-content-right {\n  width: 60%;\n  height: 72px;\n  display: inline-block;\n}\napp-createfeature .person-list-container {\n  width: 100%;\n}\napp-createfeature .person-list {\n  margin: 10px 0 2px 0;\n  display: block;\n  width: 100%;\n}\napp-createfeature .person-content-list {\n  color: grey;\n  font-size: 14px;\n  max-height: 72px;\n  line-height: 24px;\n  /* Height / no. of lines to display */\n  overflow: hidden;\n}\napp-createfeature .person-photo-container {\n  height: 300px;\n  overflow: hidden;\n}\napp-createfeature .person-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  opacity: 50%;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-createfeature .icon-container {\n  margin: 0 auto;\n  width: 60px;\n}\napp-createfeature .center {\n  margin: 0 auto;\n}\napp-createfeature .selected-item {\n  height: 100px;\n}\napp-createfeature .add-icon {\n  height: 80px;\n  width: 80px;\n}\napp-createfeature .moment-type {\n  width: 60px;\n  margin-right: 10px;\n}\napp-createfeature .module-number {\n  padding-left: 2%;\n  width: 8%;\n  opacity: 0.5;\n  min-width: 20px;\n}\napp-createfeature .program-slides {\n  padding: 12px;\n}\napp-createfeature .program-slide {\n  max-width: 150px;\n}\napp-createfeature .program-card {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 3%;\n}\napp-createfeature .program-photo-container {\n  height: 80px;\n  overflow: hidden;\n}\napp-createfeature .program-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  margin: auto;\n  display: block;\n}\napp-createfeature .program-type {\n  position: absolute;\n  top: 2%;\n  left: 2%;\n  font-size: 12px;\n  cursor: pointer;\n}\napp-createfeature .program-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  font-size: 12px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-createfeature .light {\n  color: white;\n}\napp-createfeature .remove-moment {\n  position: absolute;\n  top: 0;\n  right: 2px;\n}\napp-createfeature .remove-video {\n  position: absolute;\n  top: 4px;\n  right: -95px;\n  z-index: 15;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvY3JlYXRlZmVhdHVyZS9jcmVhdGVmZWF0dXJlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZmVhdHVyZS9jcmVhdGVmZWF0dXJlL2NyZWF0ZWZlYXR1cmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UseUJBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7QUNBSjtBREdFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FDREo7QURJRTtFQUNFLFlBQUE7QUNGSjtBREtFO0VBQ0UsZ0JBQUE7QUNISjtBRE1FO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDSko7QURPRTtFQUNFLFlBQUE7RUFDQSxvQkFBQTtBQ0xKO0FEU0U7RUFDRSw4QkFBQTtBQ1BKO0FEVUU7RUFDRSxZQUFBO0FDUko7QURXRTtFQUNFLFVBQUE7QUNUSjtBRFlFO0VBQ0UsYUFBQTtBQ1ZKO0FEY0U7RUFDRSxjQUFBO0VBQ0EsYUFBQTtBQ1pKO0FEZUU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSwwQkFBQTtFQUNBLFdBQUE7QUNiSjtBRGdCRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQ2RKO0FEaUJFO0VBRUUsV0FBQTtBQ2hCSjtBRG1CRTtFQUNFLFdBQUE7QUNqQko7QURvQkU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDbEJKO0FEb0JJO0VBQ0UsY0FBQTtFQUNBLE1BQUE7QUNsQk47QURxQkk7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDbkJOO0FEc0JJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQ3BCTjtBRHdCRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7S0FBQSxtQkFBQTtFQUNBLGNBQUE7QUN0Qko7QUQyQkk7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtBQ3pCTjtBRDRCSTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLHlEQUFBO0VBQ0EsV0FBQTtBQzFCTjtBRDZCSTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0FDM0JOO0FEK0JFO0VBRUUsZ0JBQUE7QUM5Qko7QURxQ0U7RUFFRSxVQUFBO0VBQ0EscUJBQUE7QUNwQ0o7QUR1Q0U7RUFFRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDdENKO0FEeUNFO0VBQ0UsV0FBQTtBQ3ZDSjtBRDBDRTtFQUNFLG9CQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUN4Q0o7QUQyQ0U7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFBbUIscUNBQUE7RUFDbkIsZ0JBQUE7QUN4Q0o7QUQyQ0U7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7QUN6Q0o7QUQ4Q0U7RUFDRSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDNUNKO0FEZ0RFO0VBQ0UsY0FBQTtFQUNBLFdBQUE7QUM5Q0o7QURpREU7RUFDRSxjQUFBO0FDL0NKO0FEa0RFO0VBQ0UsYUFBQTtBQ2hESjtBRG9ERTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDbERKO0FEcURFO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0FDbkRKO0FEc0RFO0VBQ0UsZ0JBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7QUNwREo7QUR1REU7RUFDRSxhQUFBO0FDckRKO0FEd0RFO0VBQ0UsZ0JBQUE7QUN0REo7QUR5REU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxZQUFBO0FDdkRKO0FEMkRFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDekRKO0FEOERFO0VBQ0Usb0JBQUE7S0FBQSxpQkFBQTtFQUNBLGVBQUE7RUFFQSxZQUFBO0VBRUEsWUFBQTtFQUNBLGNBQUE7QUM5REo7QURrRUU7RUFDRSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNoRUo7QURtRUU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDakVKO0FEb0VFO0VBQ0UsWUFBQTtBQ2xFSjtBRHFFRTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFVBQUE7QUNuRUo7QURzRUU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ3BFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvY3JlYXRlZmVhdHVyZS9jcmVhdGVmZWF0dXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1jcmVhdGVmZWF0dXJlIHtcbiAgaW9uLWl0ZW0ge1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgLW1vei11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgdXNlci1zZWxlY3Q6IHRleHQ7XG4gIH1cblxuICBpb24tc3Bpbm5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbjogNDglO1xuICB9XG5cbiAgaW9uLXNsaWRlcyB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgYSB7XG4gICAgbWFyZ2luOiAyNXB4IDEwJTtcbiAgfVxuXG4gIC5zbGlkZS1ncmlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5zbGlkZS1yb3cge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwYWRkaW5nLWJvdHRvbTogNDJweDtcbiAgICAvL292ZXJmbG93LXk6IHNjcm9sbFxuICB9XG5cbiAgLnNsaWRlLXJvdy1hbGlnbiB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnNsaWRlLWNvbCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnN1bW1hcnktbGFiZWwge1xuICAgIHdpZHRoOiAyMCU7XG4gIH1cblxuICAuc2VsZWN0ZWQtaXRlbSB7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICAvL3dpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnRodW1ibmFpbC1pdGVtIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICAtLXNpemU6IDEwMHB4O1xuICB9XG5cbiAgLnJlbW92ZS1tZWRpYSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNHB4O1xuICAgIHJpZ2h0OiBjYWxjKDEwMCUvMiAtIDQ1cHgpO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnNsaWRlLWxpc3Qge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICB9XG5cbiAgLnBhcnRpY2lwYW50LXJvdyB7XG4gICAgLy9wYWRkaW5nOiAwIDEwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGFydGljaXBhbnQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBhcnRpY2lwYW50LWNlbnRlcmVkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDY1cHg7XG4gICAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuXG4gICAgLnBhcnRpY2lwYW50LWF2YXRhciB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHRvcDogMFxuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1qb2luZWQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogNjAlO1xuICAgICAgdG9wOiAyOHB4O1xuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1sYWJlbCB7XG4gICAgICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgfVxuXG4gIC5wZXJzb24tY2FyZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgIG1hcmdpbjogMCAxMnB4O1xuICAgIC8vYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICAvL3otaW5kZXg6IC0yO1xuXG4gICAgLy8gQWRkZWQgdGhlIHNsYW50IHBhdHRlcm4hXG4gICAgLnRvcC1wYXR0ZXJuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGhlaWdodDogMTUlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjJiZWJmO1xuICAgICAgei1pbmRleDogLTE7XG4gICAgfVxuXG4gICAgLm1pZGRsZS1wYXR0ZXJuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMTUlO1xuICAgICAgaGVpZ2h0OiA1MCU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICBib3JkZXItd2lkdGg6IDAgMTMwMHB4IDUwMHB4IDA7XG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICM2MmJlYmYgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7XG4gICAgICB6LWluZGV4OiAtMTtcbiAgICB9XG5cbiAgICAuYm90dG9tLXBhdHRlcm4ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuICAgICAgei1pbmRleDogLTI7XG4gICAgfVxuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50IHtcbiAgICAvL2hlaWdodDogOTJweDtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICAgIC8vbWFyZ2luOiAxNXB4IDE1cHggMCAxNXB4O1xuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50LWl0ZW0ge1xuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50LWxlZnQge1xuICAgIC8vbWFyZ2luOiAxMHB4IDA7XG4gICAgd2lkdGg6IDQwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtcmlnaHQge1xuICAgIC8vbWFyZ2luOiAxMHB4IDA7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBoZWlnaHQ6IDcycHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLnBlcnNvbi1saXN0LWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGVyc29uLWxpc3Qge1xuICAgIG1hcmdpbjogMTBweCAwIDJweCAwO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50LWxpc3Qge1xuICAgIGNvbG9yOiBncmV5O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBtYXgtaGVpZ2h0OiA3MnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNHB4OyAvKiBIZWlnaHQgLyBuby4gb2YgbGluZXMgdG8gZGlzcGxheSAqL1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cblxuICAucGVyc29uLXBob3RvLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiAzMDBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIC8vYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIC8vbWFyZ2luOiA1JSBhdXRvO1xuICB9XG5cbiAgLnBlcnNvbi1waG90byB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIG9wYWNpdHk6IDUwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIC8vbWF4LWhlaWdodDogMjAwcHg7XG4gIH1cblxuICAuaWNvbi1jb250YWluZXIge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIHdpZHRoOiA2MHB4O1xuICB9XG5cbiAgLmNlbnRlciB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cblxuICAuc2VsZWN0ZWQtaXRlbSB7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICAvL3dpZHRoOiAxMDAlO1xuICB9XG5cbiAgLmFkZC1pY29uIHtcbiAgICBoZWlnaHQ6IDgwcHg7XG4gICAgd2lkdGg6IDgwcHg7XG4gIH1cblxuICAubW9tZW50LXR5cGUge1xuICAgIHdpZHRoOiA2MHB4O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgfVxuXG4gIC5tb2R1bGUtbnVtYmVyIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDIlO1xuICAgIHdpZHRoOiA4JTtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgbWluLXdpZHRoOiAyMHB4O1xuICB9XG5cbiAgLnByb2dyYW0tc2xpZGVzIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICB9XG5cbiAgLnByb2dyYW0tc2xpZGUge1xuICAgIG1heC13aWR0aDogMTUwcHg7XG4gIH1cblxuICAucHJvZ3JhbS1jYXJkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICBtYXJnaW46IDAgMyU7XG4gIH1cblxuXG4gIC5wcm9ncmFtLXBob3RvLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiA4MHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgLy9ib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgLy9tYXJnaW46IDUlIGF1dG87XG4gIH1cblxuICAucHJvZ3JhbS1waG90byB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIC8vb3BhY2l0eTogNTAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICAvL3dpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICAvL21heC1oZWlnaHQ6IDIwMHB4O1xuICB9XG5cbiAgLnByb2dyYW0tdHlwZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMiU7XG4gICAgbGVmdDogMiU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5wcm9ncmFtLW5hbWUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDIlO1xuICAgIGxlZnQ6IDIlO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgei1pbmRleDogMTU7XG4gIH1cblxuICAubGlnaHQge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5yZW1vdmUtbW9tZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAycHg7XG4gIH1cblxuICAucmVtb3ZlLXZpZGVvIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA0cHg7XG4gICAgcmlnaHQ6IC05NXB4O1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG59IiwiYXBwLWNyZWF0ZWZlYXR1cmUgaW9uLWl0ZW0ge1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XG4gIHVzZXItc2VsZWN0OiB0ZXh0O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgaW9uLXNwaW5uZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogNDglO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgaW9uLXNsaWRlcyB7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIGEge1xuICBtYXJnaW46IDI1cHggMTAlO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnNsaWRlLWdyaWQge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAuc2xpZGUtcm93IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwYWRkaW5nLWJvdHRvbTogNDJweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5zbGlkZS1yb3ctYWxpZ24ge1xuICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAuc2xpZGUtY29sIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnN1bW1hcnktbGFiZWwge1xuICB3aWR0aDogMjAlO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnNlbGVjdGVkLWl0ZW0ge1xuICBoZWlnaHQ6IDEwMHB4O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnRodW1ibmFpbC1pdGVtIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIC0tc2l6ZTogMTAwcHg7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucmVtb3ZlLW1lZGlhIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDRweDtcbiAgcmlnaHQ6IGNhbGMoMTAwJS8yIC0gNDVweCk7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnNsaWRlLWxpc3Qge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucGFydGljaXBhbnQtcm93IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucGFydGljaXBhbnQge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDY1cHg7XG4gIG1hcmdpbjogYXV0byAwIGF1dG8gMDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtYXZhdGFyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHRvcDogMDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtam9pbmVkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA2MCU7XG4gIHRvcDogMjhweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtbGFiZWwge1xuICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgY29sb3I6IGdyZXk7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tY2FyZCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDQwMHB4O1xuICBvYmplY3QtZml0OiBjb250YWluO1xuICBtYXJnaW46IDAgMTJweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tY2FyZCAudG9wLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxNSU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjJiZWJmO1xuICB6LWluZGV4OiAtMTtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tY2FyZCAubWlkZGxlLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTUlO1xuICBoZWlnaHQ6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci13aWR0aDogMCAxMzAwcHggNTAwcHggMDtcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAjNjJiZWJmIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O1xuICB6LWluZGV4OiAtMTtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tY2FyZCAuYm90dG9tLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgei1pbmRleDogLTI7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucGVyc29uLWNvbnRlbnQge1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnBlcnNvbi1jb250ZW50LWxlZnQge1xuICB3aWR0aDogNDAlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucGVyc29uLWNvbnRlbnQtcmlnaHQge1xuICB3aWR0aDogNjAlO1xuICBoZWlnaHQ6IDcycHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tbGlzdC1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wZXJzb24tbGlzdCB7XG4gIG1hcmdpbjogMTBweCAwIDJweCAwO1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucGVyc29uLWNvbnRlbnQtbGlzdCB7XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1heC1oZWlnaHQ6IDcycHg7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAvKiBIZWlnaHQgLyBuby4gb2YgbGluZXMgdG8gZGlzcGxheSAqL1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnBlcnNvbi1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDMwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnBlcnNvbi1waG90byB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG9wYWNpdHk6IDUwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5pY29uLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogNjBweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5jZW50ZXIge1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5zZWxlY3RlZC1pdGVtIHtcbiAgaGVpZ2h0OiAxMDBweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5hZGQtaWNvbiB7XG4gIGhlaWdodDogODBweDtcbiAgd2lkdGg6IDgwcHg7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAubW9tZW50LXR5cGUge1xuICB3aWR0aDogNjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLm1vZHVsZS1udW1iZXIge1xuICBwYWRkaW5nLWxlZnQ6IDIlO1xuICB3aWR0aDogOCU7XG4gIG9wYWNpdHk6IDAuNTtcbiAgbWluLXdpZHRoOiAyMHB4O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnByb2dyYW0tc2xpZGVzIHtcbiAgcGFkZGluZzogMTJweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wcm9ncmFtLXNsaWRlIHtcbiAgbWF4LXdpZHRoOiAxNTBweDtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wcm9ncmFtLWNhcmQge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBvYmplY3QtZml0OiBjb250YWluO1xuICBtYXJnaW46IDAgMyU7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucHJvZ3JhbS1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDgwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucHJvZ3JhbS1waG90byB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wcm9ncmFtLXR5cGUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMiU7XG4gIGxlZnQ6IDIlO1xuICBmb250LXNpemU6IDEycHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbmFwcC1jcmVhdGVmZWF0dXJlIC5wcm9ncmFtLW5hbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMiU7XG4gIGxlZnQ6IDIlO1xuICBmb250LXNpemU6IDEycHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgei1pbmRleDogMTU7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAubGlnaHQge1xuICBjb2xvcjogd2hpdGU7XG59XG5hcHAtY3JlYXRlZmVhdHVyZSAucmVtb3ZlLW1vbWVudCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMnB4O1xufVxuYXBwLWNyZWF0ZWZlYXR1cmUgLnJlbW92ZS12aWRlbyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA0cHg7XG4gIHJpZ2h0OiAtOTVweDtcbiAgei1pbmRleDogMTU7XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/feature/createfeature/createfeature.page.ts":
/*!*******************************************************************!*\
  !*** ./src/app/pages/feature/createfeature/createfeature.page.ts ***!
  \*******************************************************************/
/*! exports provided: CreatefeaturePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatefeaturePage", function() { return CreatefeaturePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../editfeature/editfeature.page */ "./src/app/pages/feature/editfeature/editfeature.page.ts");
/* harmony import */ var _services_church_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/church.service */ "./src/app/services/church.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _services_response_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _services_aws_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_group_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../services/group.service */ "./src/app/services/group.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _editparticipants_editparticipants_page__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../editparticipants/editparticipants.page */ "./src/app/pages/feature/editparticipants/editparticipants.page.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



















var CreatefeaturePage = /** @class */ (function (_super) {
    __extends(CreatefeaturePage, _super);
    function CreatefeaturePage(cache, route, router, location, electronService, swUpdate, change, platform, alertCtrl, toastCtrl, actionSheetCtrl, popoverCtrl, modalCtrl, loadingCtrl, chatService, churchService, groupService, networkService, userData, awsService, momentService, resourceService, responseService, calendarService) {
        var _this = _super.call(this, route, router, location, electronService, swUpdate, change, platform, alertCtrl, toastCtrl, actionSheetCtrl, popoverCtrl, modalCtrl, loadingCtrl, chatService, churchService, groupService, networkService, userData, awsService, momentService, resourceService, responseService, calendarService) || this;
        _this.cache = cache;
        _this.route = route;
        _this.router = router;
        _this.location = location;
        _this.electronService = electronService;
        _this.swUpdate = swUpdate;
        _this.change = change;
        _this.platform = platform;
        _this.alertCtrl = alertCtrl;
        _this.toastCtrl = toastCtrl;
        _this.actionSheetCtrl = actionSheetCtrl;
        _this.popoverCtrl = popoverCtrl;
        _this.modalCtrl = modalCtrl;
        _this.loadingCtrl = loadingCtrl;
        _this.chatService = chatService;
        _this.churchService = churchService;
        _this.groupService = groupService;
        _this.networkService = networkService;
        _this.userData = userData;
        _this.awsService = awsService;
        _this.momentService = momentService;
        _this.resourceService = resourceService;
        _this.responseService = responseService;
        _this.calendarService = calendarService;
        _this.createReachedEnd = false;
        _this.tutorialReachedEnd = false;
        _this.view = 'create';
        _this.ionSpinner = false;
        return _this;
    }
    CreatefeaturePage.prototype.clickNextButton = function (direction) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!this.moment)
                    return [2 /*return*/];
                if (direction === 'prev') {
                    this.slides.slidePrev();
                }
                else {
                    // assuming it is Community creation and moving from Slide 1 will assign it with the Community category
                    this.moment.categories = ['5c915324e172e4e64590e346'];
                    this.slides.slideNext();
                }
                return [2 /*return*/];
            });
        });
    };
    CreatefeaturePage.prototype.changeSlide = function (type) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (!(type === 'create')) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.slides.isEnd()];
                    case 1:
                        _a.createReachedEnd = _c.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        _b = this;
                        return [4 /*yield*/, this.slides.isEnd()];
                    case 3:
                        _b.tutorialReachedEnd = _c.sent();
                        _c.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    CreatefeaturePage.prototype.saveStep1 = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.ionSpinner = true;
                        this.moment.array_boolean[5] = true; // turn on chat for participants
                        return [4 /*yield*/, this.saveActivity(false)];
                    case 1:
                        _a.sent();
                        console.log("after save", this.moment);
                        this.participantsView = 'leaders'; //switch to leaders view as default
                        this.view = 'tutorial';
                        return [2 /*return*/];
                }
            });
        });
    };
    CreatefeaturePage.prototype.loadedTutorialSlides = function () {
        this.ionSpinner = false;
    };
    CreatefeaturePage.prototype.inviteToJoinCommunity = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({ component: _editparticipants_editparticipants_page__WEBPACK_IMPORTED_MODULE_18__["EditparticipantsPage"], componentProps: { moment: this.moment, title: this.resource['en-US'].value[32] + ' to ' + this.moment.matrix_string[0][0], modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    CreatefeaturePage.prototype.inviteToJoinProgram = function (index) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.momentService.initiateParticipantsView(this.referenceActivities[index], null);
                return [2 /*return*/];
            });
        });
    };
    CreatefeaturePage.ctorParameters = function () { return [
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_9__["CacheService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_11__["ElectronService"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_12__["SwUpdate"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"] },
        { type: _services_church_service__WEBPACK_IMPORTED_MODULE_2__["Churches"] },
        { type: _services_group_service__WEBPACK_IMPORTED_MODULE_16__["Groups"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"] },
        { type: _services_aws_service__WEBPACK_IMPORTED_MODULE_13__["Aws"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_15__["Moment"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_17__["Resource"] },
        { type: _services_response_service__WEBPACK_IMPORTED_MODULE_8__["Response"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonSlides"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonSlides"])
    ], CreatefeaturePage.prototype, "slides", void 0);
    CreatefeaturePage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-createfeature',
            template: __importDefault(__webpack_require__(/*! raw-loader!./createfeature.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/createfeature/createfeature.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./createfeature.page.scss */ "./src/app/pages/feature/createfeature/createfeature.page.scss")).default]
        }),
        __metadata("design:paramtypes", [ionic_cache__WEBPACK_IMPORTED_MODULE_9__["CacheService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_11__["ElectronService"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_12__["SwUpdate"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"],
            _services_church_service__WEBPACK_IMPORTED_MODULE_2__["Churches"],
            _services_group_service__WEBPACK_IMPORTED_MODULE_16__["Groups"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"],
            _services_aws_service__WEBPACK_IMPORTED_MODULE_13__["Aws"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_15__["Moment"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_17__["Resource"],
            _services_response_service__WEBPACK_IMPORTED_MODULE_8__["Response"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__["CalendarService"]])
    ], CreatefeaturePage);
    return CreatefeaturePage;
}(_editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_1__["EditfeaturePage"]));



/***/ }),

/***/ "./src/app/pages/feature/editfeature/editfeature.page.scss":
/*!*****************************************************************!*\
  !*** ./src/app/pages/feature/editfeature/editfeature.page.scss ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-editfeature ion-card-header {\n  z-index: 10;\n}\napp-editfeature ion-item {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\napp-editfeature ion-item ion-datetime {\n  position: relative !important;\n}\napp-editfeature ion-item ion-select {\n  position: relative !important;\n}\napp-editfeature .title {\n  text-wrap: normal;\n  font-size: 20px;\n  font-weight: 500;\n}\napp-editfeature .ios {\n  font-size: 17px;\n  font-weight: 600;\n}\napp-editfeature .stock-preview {\n  --size: 100px;\n}\napp-editfeature .pixabay-grid {\n  max-height: 200px;\n  overflow: scroll;\n}\napp-editfeature a {\n  margin: 15px 10%;\n}\napp-editfeature .editTemplate {\n  opacity: 0.5;\n}\napp-editfeature #custom-select {\n  padding: 0;\n  width: 100% !important;\n}\napp-editfeature .delete-container {\n  width: 14%;\n  float: right;\n}\napp-editfeature .goal {\n  width: 70%;\n  margin-left: 20%;\n  margin-right: 40%;\n}\napp-editfeature .moment-label {\n  width: 25px;\n  height: 25px;\n  margin-right: 20px;\n}\napp-editfeature .option-number {\n  margin-right: 3%;\n}\napp-editfeature .side-image {\n  margin: auto;\n}\napp-editfeature .side-icon {\n  height: 100%;\n  width: 100%;\n  margin-left: 4%;\n}\napp-editfeature .map-container {\n  margin: 0 auto;\n  width: 90%;\n}\napp-editfeature .monthview {\n  width: 85%;\n  max-width: 400px;\n  margin: 10px auto;\n  padding-bottom: 10px;\n  --color: var(--ion-color-dark);\n}\napp-editfeature .month-title-container {\n  width: 100%;\n}\napp-editfeature .month-title {\n  width: calc((100% / 7) * 5);\n  text-align: center;\n  display: inline-block;\n}\napp-editfeature .calendar-arrow {\n  width: calc(100% / 7);\n  position: relative;\n  display: inline-block;\n}\napp-editfeature .calendar-arrow .left {\n  float: left;\n}\napp-editfeature .calendar-arrow .right {\n  float: right;\n}\napp-editfeature .list-container {\n  overflow: scroll;\n  max-height: 400px;\n  margin: 0 auto;\n  max-width: 400px;\n}\napp-editfeature .item-container {\n  width: 60%;\n  margin: 5px;\n  float: left;\n}\napp-editfeature .module-number {\n  padding-left: 2%;\n  width: 8%;\n  opacity: 0.5;\n  min-width: 20px;\n}\napp-editfeature .moment-type {\n  width: 60px;\n  margin-right: 10px;\n}\napp-editfeature .moment-input {\n  width: 90%;\n  float: left;\n  opacity: 0.5;\n  padding: 5px 0;\n}\napp-editfeature .small-font {\n  font-size: 12px;\n}\napp-editfeature .dynamicOptions {\n  margin-left: 12%;\n}\napp-editfeature .dynamicOptions ::-webkit-input-placeholder {\n  color: #cecece;\n}\napp-editfeature .dynamicOptions ::-moz-placeholder {\n  color: #cecece;\n}\napp-editfeature .dynamicOptions :-ms-input-placeholder {\n  color: #cecece;\n}\napp-editfeature .dynamicOptions ::-ms-input-placeholder {\n  color: #cecece;\n}\napp-editfeature .dynamicOptions ::placeholder {\n  color: #cecece;\n}\napp-editfeature .section-header {\n  font-size: 18px;\n}\napp-editfeature .addRemoveButtons {\n  width: 40%;\n  height: 100%;\n  padding-top: 5%;\n  color: #cecece;\n}\napp-editfeature #addButton {\n  margin-left: 5%;\n  width: 50%;\n}\napp-editfeature .addRemoveText {\n  font-size: 15px;\n  width: 100%;\n  float: right;\n}\napp-editfeature .monthview-day-headers {\n  width: calc(100% / 7);\n  float: left;\n  position: relative;\n  color: var(--ion-color-grey);\n  text-align: center;\n}\napp-editfeature .monthview-element {\n  width: calc(100% / 7);\n  float: left;\n  position: relative;\n  padding-bottom: calc(100% / 9);\n}\napp-editfeature .monthview-element .monthview-element-content {\n  width: calc(100% - 10px);\n  height: calc(100% - 10px);\n  text-align: center;\n  margin: 5px;\n  padding-top: 5px;\n  position: absolute;\n}\napp-editfeature .past-calendar-item {\n  background-color: var(--ion-color-grey);\n}\napp-editfeature .monthview-dot-container {\n  text-align: center;\n  display: inline-block;\n}\napp-editfeature .monthview-element-dot {\n  height: 5px;\n  width: 5px;\n  margin: 0px 0.5px 0px 0.5px;\n  border-radius: 50%;\n  background-color: var(--ion-color-primary);\n}\napp-editfeature .underline-datestring {\n  text-decoration: underline;\n}\napp-editfeature .selected-date {\n  background-color: var(--ion-color-lightgrey);\n  border-radius: 50%;\n}\napp-editfeature .avatar {\n  width: 40px !important;\n  height: 40px !important;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\napp-editfeature .time-input {\n  text-align: right;\n  width: 30%;\n}\napp-editfeature .moment-photo-frame {\n  width: 80%;\n  margin-bottom: 10px;\n}\napp-editfeature .moment-photo {\n  width: 100%;\n  height: 100%;\n}\napp-editfeature .remove-photo {\n  width: 20%;\n}\napp-editfeature .moment-icon {\n  max-width: 20px;\n  margin: 0 5px;\n}\napp-editfeature .current-date {\n  font-weight: bold;\n}\napp-editfeature .component-options {\n  padding: 0 10px;\n}\napp-editfeature .plan-module-options {\n  display: block;\n  max-height: 100px;\n  overflow-y: scroll;\n  width: 100%;\n  padding: 0 10px;\n}\napp-editfeature .participant-row {\n  width: 100%;\n}\napp-editfeature .participant {\n  width: 100%;\n}\napp-editfeature .participant-centered {\n  width: 100px;\n  height: 65px;\n  margin: auto 0 auto 0;\n}\napp-editfeature .participant-centered .participant-avatar {\n  margin: 0 auto;\n  top: 0;\n}\napp-editfeature .participant-centered .participant-joined {\n  position: absolute;\n  left: 60%;\n  top: 28px;\n}\napp-editfeature .participant-centered .participant-label {\n  margin: 5px auto 0 auto;\n  color: grey;\n  font-size: 12px;\n}\napp-editfeature .person-card {\n  height: 100%;\n  width: 400px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 12px;\n}\napp-editfeature .person-card .top-pattern {\n  position: absolute;\n  top: 0;\n  height: 15%;\n  width: 100%;\n  background-color: #62bebf;\n  z-index: 1;\n}\napp-editfeature .person-card .middle-pattern {\n  position: absolute;\n  top: 15%;\n  height: 50%;\n  width: 100%;\n  border-style: solid;\n  border-width: 0 1300px 500px 0;\n  border-color: transparent #62bebf transparent transparent;\n  z-index: 1;\n}\napp-editfeature .person-card .bottom-pattern {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: var(--ion-color-light);\n}\napp-editfeature .person-content {\n  overflow: scroll;\n  --background: var(--ion-color-light);\n}\napp-editfeature .person-content-item {\n  --background: transparent;\n}\napp-editfeature .person-content-left {\n  width: 40%;\n  display: inline-block;\n}\napp-editfeature .person-content-right {\n  width: 60%;\n  height: 72px;\n  display: inline-block;\n}\napp-editfeature .person-list-container {\n  width: 100%;\n}\napp-editfeature .person-list {\n  margin: 10px 0 2px 0;\n  display: block;\n  width: 100%;\n}\napp-editfeature .person-content-list {\n  color: grey;\n  font-size: 14px;\n  max-height: 72px;\n  line-height: 24px;\n  /* Height / no. of lines to display */\n  overflow: hidden;\n}\napp-editfeature .person-photo-container {\n  height: 300px;\n  overflow: hidden;\n}\napp-editfeature .person-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  opacity: 50%;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-editfeature .thumbnail-item {\n  margin: 0 auto;\n  --size: 100px;\n}\napp-editfeature .remove-media {\n  position: absolute;\n  top: 4px;\n  right: calc(100%/2 - 45px);\n  z-index: 15;\n}\napp-editfeature .remove-video {\n  position: absolute;\n  top: 4px;\n  right: -95px;\n  z-index: 15;\n}\napp-editfeature .icon-container {\n  margin: 0 auto;\n  width: 60px;\n}\napp-editfeature .center {\n  margin: 0 auto;\n}\napp-editfeature .selected-item {\n  height: 100px;\n}\napp-editfeature .add-icon {\n  height: 80px;\n  width: 80px;\n}\napp-editfeature .user-list-preview {\n  max-height: 150px;\n  overflow: scroll;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvZWRpdGZlYXR1cmUvZWRpdGZlYXR1cmUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWF0dXJlL2VkaXRmZWF0dXJlL2VkaXRmZWF0dXJlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLFdBQUE7QUNBSjtBREdFO0VBQ0UseUJBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7QUNESjtBRElFO0VBQ0UsNkJBQUE7QUNGSjtBREtFO0VBQ0UsNkJBQUE7QUNISjtBRE1FO0VBQ0UsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNKSjtBRE9FO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FDTEo7QURRRTtFQUNFLGFBQUE7QUNOSjtBRFNFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQ1BKO0FEVUU7RUFDRSxnQkFBQTtBQ1JKO0FEV0U7RUFDRSxZQUFBO0FDVEo7QURZRTtFQUNFLFVBQUE7RUFDQSxzQkFBQTtBQ1ZKO0FEZUU7RUFDRSxVQUFBO0VBQ0EsWUFBQTtBQ2JKO0FEZ0JFO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNkSjtBRGtCRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNoQko7QURtQkU7RUFDRSxnQkFBQTtBQ2pCSjtBRG9CRTtFQUNFLFlBQUE7QUNsQko7QURxQkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNuQko7QURzQkU7RUFDRSxjQUFBO0VBQ0EsVUFBQTtBQ3BCSjtBRHVCRTtFQUNFLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSw4QkFBQTtBQ3JCSjtBRHdCRTtFQUNFLFdBQUE7QUN0Qko7QUR5QkU7RUFDRSwyQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7QUN2Qko7QUQwQkU7RUFDRSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7QUN4Qko7QUR5Qkk7RUFDRSxXQUFBO0FDdkJOO0FEeUJJO0VBQ0UsWUFBQTtBQ3ZCTjtBRDJCRTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUN6Qko7QUQ0QkU7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUMxQko7QUQ2QkU7RUFDRSxnQkFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQzNCSjtBRDhCRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtBQzVCSjtBRCtCRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUM3Qko7QURnQ0U7RUFDRSxlQUFBO0FDOUJKO0FEaUNFO0VBQ0UsZ0JBQUE7QUMvQko7QURpQ0k7RUFDRSxjQUFBO0FDL0JOO0FEOEJJO0VBQ0UsY0FBQTtBQy9CTjtBRDhCSTtFQUNFLGNBQUE7QUMvQk47QUQ4Qkk7RUFDRSxjQUFBO0FDL0JOO0FEOEJJO0VBQ0UsY0FBQTtBQy9CTjtBRG1DRTtFQUNFLGVBQUE7QUNqQ0o7QURvQ0U7RUFDRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDbENKO0FEcUNFO0VBQ0UsZUFBQTtFQUNBLFVBQUE7QUNuQ0o7QURzQ0U7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNwQ0o7QUR1Q0U7RUFDRSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLDRCQUFBO0VBQ0Esa0JBQUE7QUNyQ0o7QUR3Q0U7RUFDRSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLDhCQUFBO0FDdENKO0FEeUNFO0VBQ0Usd0JBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUN2Q0o7QUQwQ0U7RUFDRSx1Q0FBQTtBQ3hDSjtBRDJDRTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7QUN6Q0o7QUQ0Q0U7RUFDRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQ0FBQTtBQzFDSjtBRDZDRTtFQUNFLDBCQUFBO0FDM0NKO0FEOENFO0VBQ0UsNENBQUE7RUFDQSxrQkFBQTtBQzVDSjtBRCtDRTtFQUNFLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDN0NKO0FEZ0RFO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0FDOUNKO0FEaURFO0VBQ0UsVUFBQTtFQUNBLG1CQUFBO0FDL0NKO0FEa0RFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNoREo7QURtREU7RUFDRSxVQUFBO0FDakRKO0FEb0RFO0VBQ0UsZUFBQTtFQUNBLGFBQUE7QUNsREo7QURxREU7RUFDRSxpQkFBQTtBQ25ESjtBRHNERTtFQUNFLGVBQUE7QUNwREo7QUR1REU7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FDckRKO0FEd0RFO0VBRUUsV0FBQTtBQ3ZESjtBRDBERTtFQUNFLFdBQUE7QUN4REo7QUQyREU7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDekRKO0FEMkRJO0VBQ0UsY0FBQTtFQUNBLE1BQUE7QUN6RE47QUQ0REk7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDMUROO0FENkRJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQzNETjtBRCtERTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7S0FBQSxtQkFBQTtFQUNBLGNBQUE7QUM3REo7QURnRUk7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsVUFBQTtBQzlETjtBRGlFSTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLHlEQUFBO0VBQ0EsVUFBQTtBQy9ETjtBRGtFSTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esd0NBQUE7QUNoRU47QURvRUU7RUFDRSxnQkFBQTtFQUNBLG9DQUFBO0FDbEVKO0FEcUVFO0VBQ0UseUJBQUE7QUNuRUo7QURzRUU7RUFDRSxVQUFBO0VBQ0EscUJBQUE7QUNwRUo7QUR1RUU7RUFDRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDckVKO0FEd0VFO0VBQ0UsV0FBQTtBQ3RFSjtBRHlFRTtFQUNFLG9CQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUN2RUo7QUQwRUU7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFBbUIscUNBQUE7RUFDbkIsZ0JBQUE7QUN2RUo7QUQwRUU7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7QUN4RUo7QUQ2RUU7RUFDRSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDM0VKO0FEK0VFO0VBQ0UsY0FBQTtFQUNBLGFBQUE7QUM3RUo7QURnRkU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSwwQkFBQTtFQUNBLFdBQUE7QUM5RUo7QURpRkU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQy9FSjtBRGtGRTtFQUNFLGNBQUE7RUFDQSxXQUFBO0FDaEZKO0FEbUZFO0VBQ0UsY0FBQTtBQ2pGSjtBRG9GRTtFQUNFLGFBQUE7QUNsRko7QURzRkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQ3BGSjtBRHVGRTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7QUNyRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWF0dXJlL2VkaXRmZWF0dXJlL2VkaXRmZWF0dXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1lZGl0ZmVhdHVyZSB7XG4gIGlvbi1jYXJkLWhlYWRlciB7XG4gICAgei1pbmRleDogMTA7XG4gIH1cblxuICBpb24taXRlbSB7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcbiAgICB1c2VyLXNlbGVjdDogdGV4dDtcbiAgfVxuXG4gIGlvbi1pdGVtIGlvbi1kYXRldGltZXtcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgaW9uLWl0ZW0gaW9uLXNlbGVjdHtcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnRpdGxlIHtcbiAgICB0ZXh0LXdyYXA6IG5vcm1hbDtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgfVxuXG4gIC5pb3Mge1xuICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICB9XG5cbiAgLnN0b2NrLXByZXZpZXcge1xuICAgIC0tc2l6ZTogMTAwcHg7XG4gIH1cblxuICAucGl4YWJheS1ncmlkIHtcbiAgICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICB9XG5cbiAgYSB7XG4gICAgbWFyZ2luOiAxNXB4IDEwJTtcbiAgfVxuXG4gIC5lZGl0VGVtcGxhdGUge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuXG4gICNjdXN0b20tc2VsZWN0IHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgLy93aWR0aDogOTAlICFpbXBvcnRhbnQ7XG4gICAgLy9mbG9hdDogbGVmdDtcbiAgfVxuXG4gIC5kZWxldGUtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTQlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgfVxuXG4gIC5nb2FsIHtcbiAgICB3aWR0aDogNzAlO1xuICAgIG1hcmdpbi1sZWZ0OiAyMCU7XG4gICAgbWFyZ2luLXJpZ2h0OiA0MCU7XG5cbiAgfVxuXG4gIC5tb21lbnQtbGFiZWwge1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gIH1cblxuICAub3B0aW9uLW51bWJlciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAzJTtcbiAgfVxuXG4gIC5zaWRlLWltYWdlIHtcbiAgICBtYXJnaW46IGF1dG87XG4gIH1cblxuICAuc2lkZS1pY29uIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLWxlZnQ6IDQlO1xuICB9XG5cbiAgLm1hcC1jb250YWluZXIge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cblxuICAubW9udGh2aWV3IHtcbiAgICB3aWR0aDogODUlO1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgbWFyZ2luOiAxMHB4IGF1dG87XG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICB9XG5cbiAgLm1vbnRoLXRpdGxlLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAubW9udGgtdGl0bGUge1xuICAgIHdpZHRoOiBjYWxjKCgxMDAlIC8gNykgKiA1KTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmNhbGVuZGFyLWFycm93IHtcbiAgICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAubGVmdCB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG4gICAgLnJpZ2h0IHtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICB9XG4gIH1cblxuICAubGlzdC1jb250YWluZXIge1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgbWF4LWhlaWdodDogNDAwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgfVxuXG4gIC5pdGVtLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBtYXJnaW46IDVweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgfVxuXG4gIC5tb2R1bGUtbnVtYmVyIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDIlO1xuICAgIHdpZHRoOiA4JTtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgbWluLXdpZHRoOiAyMHB4O1xuICB9XG5cbiAgLm1vbWVudC10eXBlIHtcbiAgICB3aWR0aDogNjBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIH1cblxuICAubW9tZW50LWlucHV0IHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBwYWRkaW5nOiA1cHggMDtcbiAgfVxuXG4gIC5zbWFsbC1mb250IHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gIH1cblxuICAuZHluYW1pY09wdGlvbnN7XG4gICAgbWFyZ2luLWxlZnQ6IDEyJTtcblxuICAgIDo6cGxhY2Vob2xkZXJ7XG4gICAgICBjb2xvcjogI2NlY2VjZTtcbiAgICB9XG4gIH1cblxuICAuc2VjdGlvbi1oZWFkZXIge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxuXG4gIC5hZGRSZW1vdmVCdXR0b25ze1xuICAgIHdpZHRoOiA0MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBhZGRpbmctdG9wOiA1JTtcbiAgICBjb2xvcjogI2NlY2VjZTtcbiAgfVxuXG4gICNhZGRCdXR0b257XG4gICAgbWFyZ2luLWxlZnQ6IDUlO1xuICAgIHdpZHRoOiA1MCU7XG4gIH1cblxuICAuYWRkUmVtb3ZlVGV4dHtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICB9XG5cbiAgLm1vbnRodmlldy1kYXktaGVhZGVycyB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5tb250aHZpZXctZWxlbWVudCB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBwYWRkaW5nLWJvdHRvbTogY2FsYygxMDAlIC8gOSk7XG4gIH1cblxuICAubW9udGh2aWV3LWVsZW1lbnQgLm1vbnRodmlldy1lbGVtZW50LWNvbnRlbnQge1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDEwcHgpO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW46IDVweDtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgfVxuXG4gIC5wYXN0LWNhbGVuZGFyLWl0ZW0ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgfVxuXG4gIC5tb250aHZpZXctZG90LWNvbnRhaW5lciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5tb250aHZpZXctZWxlbWVudC1kb3Qge1xuICAgIGhlaWdodDogNXB4O1xuICAgIHdpZHRoOiA1cHg7XG4gICAgbWFyZ2luOiAwcHggLjVweCAwcHggLjVweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICB9XG5cbiAgLnVuZGVybGluZS1kYXRlc3RyaW5nIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgfVxuXG4gIC5zZWxlY3RlZC1kYXRlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRncmV5KTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIH1cblxuICAuYXZhdGFyIHtcbiAgICB3aWR0aDogNDBweCAhaW1wb3J0YW50O1xuICAgIGhlaWdodCA6IDQwcHggIWltcG9ydGFudDtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgfVxuXG4gIC50aW1lLWlucHV0IHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICB3aWR0aDogMzAlO1xuICB9XG5cbiAgLm1vbWVudC1waG90by1mcmFtZSB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLm1vbWVudC1waG90byB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnJlbW92ZS1waG90byB7XG4gICAgd2lkdGg6IDIwJTtcbiAgfVxuXG4gIC5tb21lbnQtaWNvbiB7XG4gICAgbWF4LXdpZHRoOiAyMHB4O1xuICAgIG1hcmdpbjogMCA1cHg7XG4gIH1cblxuICAuY3VycmVudC1kYXRlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuXG4gIC5jb21wb25lbnQtb3B0aW9ucyB7XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICB9XG5cbiAgLnBsYW4tbW9kdWxlLW9wdGlvbnMge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwIDEwcHg7XG4gIH1cblxuICAucGFydGljaXBhbnQtcm93IHtcbiAgICAvL3BhZGRpbmc6IDAgMTBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5wYXJ0aWNpcGFudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGFydGljaXBhbnQtY2VudGVyZWQge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDY1cHg7XG4gICAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuXG4gICAgLnBhcnRpY2lwYW50LWF2YXRhciB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHRvcDogMFxuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1qb2luZWQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogNjAlO1xuICAgICAgdG9wOiAyOHB4O1xuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1sYWJlbCB7XG4gICAgICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgfVxuXG4gIC5wZXJzb24tY2FyZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgIG1hcmdpbjogMCAxMnB4O1xuXG4gICAgLy8gQWRkZWQgdGhlIHNsYW50IHBhdHRlcm4hXG4gICAgLnRvcC1wYXR0ZXJuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGhlaWdodDogMTUlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjJiZWJmO1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICAubWlkZGxlLXBhdHRlcm4ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAxNSU7XG4gICAgICBoZWlnaHQ6IDUwJTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgIGJvcmRlci13aWR0aDogMCAxMzAwcHggNTAwcHggMDtcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgIzYyYmViZiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgfVxuXG4gICAgLmJvdHRvbS1wYXR0ZXJuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQge1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50LWl0ZW0ge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtbGVmdCB7XG4gICAgd2lkdGg6IDQwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtcmlnaHQge1xuICAgIHdpZHRoOiA2MCU7XG4gICAgaGVpZ2h0OiA3MnB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5wZXJzb24tbGlzdC1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBlcnNvbi1saXN0IHtcbiAgICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5wZXJzb24tY29udGVudC1saXN0IHtcbiAgICBjb2xvcjogZ3JleTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgbWF4LWhlaWdodDogNzJweDtcbiAgICBsaW5lLWhlaWdodDogMjRweDsgLyogSGVpZ2h0IC8gbm8uIG9mIGxpbmVzIHRvIGRpc3BsYXkgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbiAgLnBlcnNvbi1waG90by1jb250YWluZXIge1xuICAgIGhlaWdodDogMzAwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvL2JvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAvL21hcmdpbjogNSUgYXV0bztcbiAgfVxuXG4gIC5wZXJzb24tcGhvdG8ge1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBvcGFjaXR5OiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICAvL21heC1oZWlnaHQ6IDIwMHB4O1xuICB9XG5cbiAgLnRodW1ibmFpbC1pdGVtIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICAtLXNpemU6IDEwMHB4O1xuICB9XG5cbiAgLnJlbW92ZS1tZWRpYSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNHB4O1xuICAgIHJpZ2h0OiBjYWxjKDEwMCUvMiAtIDQ1cHgpO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnJlbW92ZS12aWRlbyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNHB4O1xuICAgIHJpZ2h0OiAtOTVweDtcbiAgICB6LWluZGV4OiAxNTtcbiAgfVxuXG4gIC5pY29uLWNvbnRhaW5lciB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgd2lkdGg6IDYwcHg7XG4gIH1cblxuICAuY2VudGVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC5zZWxlY3RlZC1pdGVtIHtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIC8vd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuYWRkLWljb24ge1xuICAgIGhlaWdodDogODBweDtcbiAgICB3aWR0aDogODBweDtcbiAgfVxuXG4gIC51c2VyLWxpc3QtcHJldmlldyB7XG4gICAgbWF4LWhlaWdodDogMTUwcHg7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxufSIsImFwcC1lZGl0ZmVhdHVyZSBpb24tY2FyZC1oZWFkZXIge1xuICB6LWluZGV4OiAxMDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSBpb24taXRlbSB7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XG4gIC1tb3otdXNlci1zZWxlY3Q6IHRleHQ7XG4gIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcbiAgdXNlci1zZWxlY3Q6IHRleHQ7XG59XG5hcHAtZWRpdGZlYXR1cmUgaW9uLWl0ZW0gaW9uLWRhdGV0aW1lIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG59XG5hcHAtZWRpdGZlYXR1cmUgaW9uLWl0ZW0gaW9uLXNlbGVjdCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50O1xufVxuYXBwLWVkaXRmZWF0dXJlIC50aXRsZSB7XG4gIHRleHQtd3JhcDogbm9ybWFsO1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmlvcyB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuc3RvY2stcHJldmlldyB7XG4gIC0tc2l6ZTogMTAwcHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBpeGFiYXktZ3JpZCB7XG4gIG1heC1oZWlnaHQ6IDIwMHB4O1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufVxuYXBwLWVkaXRmZWF0dXJlIGEge1xuICBtYXJnaW46IDE1cHggMTAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5lZGl0VGVtcGxhdGUge1xuICBvcGFjaXR5OiAwLjU7XG59XG5hcHAtZWRpdGZlYXR1cmUgI2N1c3RvbS1zZWxlY3Qge1xuICBwYWRkaW5nOiAwO1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5kZWxldGUtY29udGFpbmVyIHtcbiAgd2lkdGg6IDE0JTtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5nb2FsIHtcbiAgd2lkdGg6IDcwJTtcbiAgbWFyZ2luLWxlZnQ6IDIwJTtcbiAgbWFyZ2luLXJpZ2h0OiA0MCU7XG59XG5hcHAtZWRpdGZlYXR1cmUgLm1vbWVudC1sYWJlbCB7XG4gIHdpZHRoOiAyNXB4O1xuICBoZWlnaHQ6IDI1cHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAub3B0aW9uLW51bWJlciB7XG4gIG1hcmdpbi1yaWdodDogMyU7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnNpZGUtaW1hZ2Uge1xuICBtYXJnaW46IGF1dG87XG59XG5hcHAtZWRpdGZlYXR1cmUgLnNpZGUtaWNvbiB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi1sZWZ0OiA0JTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubWFwLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogOTAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb250aHZpZXcge1xuICB3aWR0aDogODUlO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICBtYXJnaW46IDEwcHggYXV0bztcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubW9udGgtdGl0bGUtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtZWRpdGZlYXR1cmUgLm1vbnRoLXRpdGxlIHtcbiAgd2lkdGg6IGNhbGMoKDEwMCUgLyA3KSAqIDUpO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuY2FsZW5kYXItYXJyb3cge1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5jYWxlbmRhci1hcnJvdyAubGVmdCB7XG4gIGZsb2F0OiBsZWZ0O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5jYWxlbmRhci1hcnJvdyAucmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmxpc3QtY29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiA2MCU7XG4gIG1hcmdpbjogNXB4O1xuICBmbG9hdDogbGVmdDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubW9kdWxlLW51bWJlciB7XG4gIHBhZGRpbmctbGVmdDogMiU7XG4gIHdpZHRoOiA4JTtcbiAgb3BhY2l0eTogMC41O1xuICBtaW4td2lkdGg6IDIwcHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLm1vbWVudC10eXBlIHtcbiAgd2lkdGg6IDYwcHg7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubW9tZW50LWlucHV0IHtcbiAgd2lkdGg6IDkwJTtcbiAgZmxvYXQ6IGxlZnQ7XG4gIG9wYWNpdHk6IDAuNTtcbiAgcGFkZGluZzogNXB4IDA7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnNtYWxsLWZvbnQge1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmR5bmFtaWNPcHRpb25zIHtcbiAgbWFyZ2luLWxlZnQ6IDEyJTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuZHluYW1pY09wdGlvbnMgOjpwbGFjZWhvbGRlciB7XG4gIGNvbG9yOiAjY2VjZWNlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5zZWN0aW9uLWhlYWRlciB7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuYWRkUmVtb3ZlQnV0dG9ucyB7XG4gIHdpZHRoOiA0MCU7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZy10b3A6IDUlO1xuICBjb2xvcjogI2NlY2VjZTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAjYWRkQnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDUlO1xuICB3aWR0aDogNTAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5hZGRSZW1vdmVUZXh0IHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICB3aWR0aDogMTAwJTtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb250aHZpZXctZGF5LWhlYWRlcnMge1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIGZsb2F0OiBsZWZ0O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubW9udGh2aWV3LWVsZW1lbnQge1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIGZsb2F0OiBsZWZ0O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHBhZGRpbmctYm90dG9tOiBjYWxjKDEwMCUgLyA5KTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAubW9udGh2aWV3LWVsZW1lbnQgLm1vbnRodmlldy1lbGVtZW50LWNvbnRlbnQge1xuICB3aWR0aDogY2FsYygxMDAlIC0gMTBweCk7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMTBweCk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiA1cHg7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAucGFzdC1jYWxlbmRhci1pdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb250aHZpZXctZG90LWNvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb250aHZpZXctZWxlbWVudC1kb3Qge1xuICBoZWlnaHQ6IDVweDtcbiAgd2lkdGg6IDVweDtcbiAgbWFyZ2luOiAwcHggMC41cHggMHB4IDAuNXB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAudW5kZXJsaW5lLWRhdGVzdHJpbmcge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuc2VsZWN0ZWQtZGF0ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodGdyZXkpO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmF2YXRhciB7XG4gIHdpZHRoOiA0MHB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNDBweCAhaW1wb3J0YW50O1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAudGltZS1pbnB1dCB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB3aWR0aDogMzAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb21lbnQtcGhvdG8tZnJhbWUge1xuICB3aWR0aDogODAlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb21lbnQtcGhvdG8ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5yZW1vdmUtcGhvdG8ge1xuICB3aWR0aDogMjAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5tb21lbnQtaWNvbiB7XG4gIG1heC13aWR0aDogMjBweDtcbiAgbWFyZ2luOiAwIDVweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuY3VycmVudC1kYXRlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmNvbXBvbmVudC1vcHRpb25zIHtcbiAgcGFkZGluZzogMCAxMHB4O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wbGFuLW1vZHVsZS1vcHRpb25zIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1heC1oZWlnaHQ6IDEwMHB4O1xuICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAwIDEwcHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBhcnRpY2lwYW50LXJvdyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wYXJ0aWNpcGFudCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCB7XG4gIHdpZHRoOiAxMDBweDtcbiAgaGVpZ2h0OiA2NXB4O1xuICBtYXJnaW46IGF1dG8gMCBhdXRvIDA7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBhcnRpY2lwYW50LWNlbnRlcmVkIC5wYXJ0aWNpcGFudC1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgdG9wOiAwO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtam9pbmVkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA2MCU7XG4gIHRvcDogMjhweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAucGFydGljaXBhbnQtY2VudGVyZWQgLnBhcnRpY2lwYW50LWxhYmVsIHtcbiAgbWFyZ2luOiA1cHggYXV0byAwIGF1dG87XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBlcnNvbi1jYXJkIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogNDAwcHg7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIG1hcmdpbjogMCAxMnB4O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY2FyZCAudG9wLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxNSU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjJiZWJmO1xuICB6LWluZGV4OiAxO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY2FyZCAubWlkZGxlLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTUlO1xuICBoZWlnaHQ6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci13aWR0aDogMCAxMzAwcHggNTAwcHggMDtcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAjNjJiZWJmIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O1xuICB6LWluZGV4OiAxO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY2FyZCAuYm90dG9tLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAucGVyc29uLWNvbnRlbnQge1xuICBvdmVyZmxvdzogc2Nyb2xsO1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBlcnNvbi1jb250ZW50LWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY29udGVudC1sZWZ0IHtcbiAgd2lkdGg6IDQwJTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY29udGVudC1yaWdodCB7XG4gIHdpZHRoOiA2MCU7XG4gIGhlaWdodDogNzJweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tbGlzdC1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAucGVyc29uLWxpc3Qge1xuICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tY29udGVudC1saXN0IHtcbiAgY29sb3I6IGdyZXk7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWF4LWhlaWdodDogNzJweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtZWRpdGZlYXR1cmUgLnBlcnNvbi1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDMwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5wZXJzb24tcGhvdG8ge1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBvcGFjaXR5OiA1MCU7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnRodW1ibmFpbC1pdGVtIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIC0tc2l6ZTogMTAwcHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLnJlbW92ZS1tZWRpYSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA0cHg7XG4gIHJpZ2h0OiBjYWxjKDEwMCUvMiAtIDQ1cHgpO1xuICB6LWluZGV4OiAxNTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAucmVtb3ZlLXZpZGVvIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDRweDtcbiAgcmlnaHQ6IC05NXB4O1xuICB6LWluZGV4OiAxNTtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuaWNvbi1jb250YWluZXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDYwcHg7XG59XG5hcHAtZWRpdGZlYXR1cmUgLmNlbnRlciB7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLWVkaXRmZWF0dXJlIC5zZWxlY3RlZC1pdGVtIHtcbiAgaGVpZ2h0OiAxMDBweDtcbn1cbmFwcC1lZGl0ZmVhdHVyZSAuYWRkLWljb24ge1xuICBoZWlnaHQ6IDgwcHg7XG4gIHdpZHRoOiA4MHB4O1xufVxuYXBwLWVkaXRmZWF0dXJlIC51c2VyLWxpc3QtcHJldmlldyB7XG4gIG1heC1oZWlnaHQ6IDE1MHB4O1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/feature/editfeature/editfeature.page.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/feature/editfeature/editfeature.page.ts ***!
  \***************************************************************/
/*! exports provided: EditfeaturePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditfeaturePage", function() { return EditfeaturePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _services_church_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/church.service */ "./src/app/services/church.service.ts");
/* harmony import */ var _services_group_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/group.service */ "./src/app/services/group.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_aws_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_response_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _pickpeople_popover_pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../pickpeople-popover/pickpeople-popover.page */ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.ts");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _uploadmedia_uploadmedia_page__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../uploadmedia/uploadmedia.page */ "./src/app/pages/feature/uploadmedia/uploadmedia.page.ts");
/* harmony import */ var _pickfeature_popover_pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../pickfeature-popover/pickfeature-popover.page */ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};




















var EditfeaturePage = /** @class */ (function () {
    function EditfeaturePage(route, router, location, electronService, swUpdate, change, platform, alertCtrl, toastCtrl, actionSheetCtrl, popoverCtrl, modalCtrl, loadingCtrl, chatService, churchService, groupService, networkService, userData, awsService, momentService, resourceService, responseService, calendarService) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.location = location;
        this.electronService = electronService;
        this.swUpdate = swUpdate;
        this.change = change;
        this.platform = platform;
        this.alertCtrl = alertCtrl;
        this.toastCtrl = toastCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.popoverCtrl = popoverCtrl;
        this.modalCtrl = modalCtrl;
        this.loadingCtrl = loadingCtrl;
        this.chatService = chatService;
        this.churchService = churchService;
        this.groupService = groupService;
        this.networkService = networkService;
        this.userData = userData;
        this.awsService = awsService;
        this.momentService = momentService;
        this.resourceService = resourceService;
        this.responseService = responseService;
        this.calendarService = calendarService;
        this.type = 2; // type 2: participant onboarding, 3: organizer onboarding, 4: leader onboarding
        this.subscriptions = {};
        this.editTemplate = false;
        this.templateChanged = false;
        this.reminders = [];
        this.churchId = '';
        this.selectedAppUsers = [];
        this.selectedPersonOrGroup = []; // when creating new Activity, this is an array of conversations which is used to hold information for sharing with these people and groups
        this.resource = {}; // general resource for the EditFeaturePage
        this.peer_responses = [];
        this.loadedPeerOnboardingProcesses = false;
        this.startDate = new Date();
        this.endDate = new Date();
        this.allDay = false;
        this.dateType = ''; // specifies if user is changing start date or end date
        this.localTimezoneOffset = new Date().getTimezoneOffset() * 60000;
        this.addressURL = '';
        this.addressSearchString = '';
        this.churches = [];
        this.mediaList = [];
        this.referenceActivities = [];
        this.removedMoments = [];
        this.participantsView = 'participants';
        this.shareOption = false;
        this.advancedFeature = false;
        this.initialSetupCompleted = false;
        this.participantLabel = 'Participant';
        this.organizerLabel = 'Organizer';
        this.leaderLabel = 'Leader';
        this.participantsLabel = 'Participants';
        this.organizersLabel = 'Organizers';
        this.leadersLabel = 'Leaders';
        this.childActivityLabel = 'Plan';
        this.tempTabComponentSelection = [];
        this.activityResourceObj = {
            field: 'User Defined Activity',
            matrix_number: [[], [], [], []],
            'en-US': {
                value: [''],
                matrix_string: []
            }
        };
        this.momentObj = {
            resource: {},
            categories: [],
            matrix_number: [],
            matrix_string: [],
            conversations: [],
            array_boolean: Array(8),
            array_community: ['5ab62be8f83e2c1a8d41f894'],
            assets: [],
            program: '',
            parent_programs: [],
            location: {
                location: '',
                street: '',
                city: '',
                state: '',
                geo: {
                    type: "Point",
                    coordinates: []
                }
            },
            calendar: {
                title: '',
                location: '',
                notes: '',
                startDate: new Date().toISOString(),
                endDate: new Date().toISOString(),
                options: {
                    firstReminderMinutes: 0,
                    secondReminderMinutes: 0,
                    reminders: []
                }
            }
        };
        this.responseObj = {
            matrix_string: [],
            matrix_number: [],
            moment: '',
            dependent_moment: '',
            createdAt: new Date()
        };
        this.reloadEditPage = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.userData.user) {
                    this.setup();
                }
                return [2 /*return*/];
            });
        }); };
        // for refreshing moment either because of real-time interactables, or for refreshing participations
        this.refreshMomentHandler = function (res) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(res && res.data && res.data.type === 'refresh participation' && this.moment._id)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.reloadMomentUserLists()];
                    case 1:
                        _a.sent();
                        if (!['owner', 'staff', 'admin'].includes(this.userData.user.role) && !this.moment.user_list_2.map(function (c) { return c._id; }).includes(this.userData.user._id)) {
                            // if user is no longer an organizer, and if not a system admin, exit edit view
                            this.closeModal(true);
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); };
    }
    EditfeaturePage_1 = EditfeaturePage;
    // Use cases:
    // Restvo Activity
    // Restvo Program, User-defined Activity, which can access all the components offered by this class
    // Onboarding Activity
    // Onboarding Questions uses mainly the multiple choice and text input components. It needs to have an associated program ID and a type number (2 for participants onboarding, 3 for organizers, 4 for leaders)
    EditfeaturePage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.subscriptions['refreshMoment'] = this.momentService.refreshMoment$.subscribe(this.refreshMomentHandler);
                this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.reloadEditPage);
                return [2 /*return*/];
            });
        });
    };
    // for Desktop routing, it is possible for user to jump between page views without properly using the back button (closeModal and ngOnDestroy).
    // assumption: leaving the page improperly will lose all unsaved changes. Re-entering will refresh the edit page to its initial state.
    // in such case, ionViewWillEnter listener is used to detect re-entering a page view and reloading the page
    EditfeaturePage.prototype.ionViewWillEnter = function () {
        if (this.moment && this.moment._id) {
            console.log("re-entering edit feature");
            this.setup();
        }
    };
    EditfeaturePage.prototype.setup = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, result, _b, peopleComponentId, communityIds, listOfChurchIds_1, promises, categoryIds, index, currentConversation;
            var _this = this;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.churchId = this.userData.user.churches[this.userData.currentCommunityIndex]._id;
                        this.awsService.sessionAllowedCount = 9999; // allow up to 9999 files upload
                        this.churches = this.userData.user.churches.map(function (c) { return { _id: c._id, name: c.name, selected: false }; });
                        this.churches.find(function (c) { return c._id === '5ab62be8f83e2c1a8d41f894'; }).selected = true;
                        this.churches.unshift({ _id: '', name: 'None', selected: false });
                        if (!!this.modalPage) return [3 /*break*/, 2];
                        this.programId = this.route.snapshot.paramMap.get('programId'); // the program ID
                        this.parent_programId = this.route.snapshot.paramMap.get('parent_programId'); // the program ID
                        this.type = parseInt(this.route.snapshot.paramMap.get('type'), 10); // 2: participants, 3: organizers, 4: leaders
                        this.categoryId = this.route.snapshot.paramMap.get('categoryId'); // get the categoryId
                        if (!this.route.snapshot.paramMap.get('id')) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.momentService.load(this.route.snapshot.paramMap.get('id'))];
                    case 1:
                        _a.moment = _c.sent();
                        _c.label = 2;
                    case 2:
                        // there are now 3 scenarios: 1) create a new Activity, 2) create a new activity with a predefined template, 3) load an existing activity (with the predefined template with it)
                        // 1. if creating a new Activity
                        if (!this.moment) {
                            this.editTemplate = true;
                            this.moment = JSON.parse(JSON.stringify(this.momentObj));
                            // load the default template object
                            this.moment.resource = JSON.parse(JSON.stringify(this.activityResourceObj));
                            if (this.programId) { // creating new onboarding process
                                this.moment.program = this.programId;
                                this.moment.array_boolean[(this.type || 2)] = true; // default to participant onboarding
                            }
                            else {
                                delete this.moment.program; // null will cause mongoDB error when trying to convert it to ObjectId
                            }
                            if (this.parent_programId) { // creating new child Activity
                                this.moment.parent_programs = [this.parent_programId];
                            }
                            else {
                                delete this.moment.parent_programs; // empty array will cause mongoDB error when trying to convert it to ObjectId
                            }
                        }
                        return [4 /*yield*/, this.resourceService.loadSystemResources()];
                    case 3:
                        result = _c.sent();
                        this.resource = result.find(function (c) { return c.field === 'Activity Components v2'; }); // return the activity components resource object in the result array
                        this.categories = result.filter(function (c) { return c.field === 'Activity Category'; }); // return the Activity Category array by filtering the result array
                        this.childActivityLabel = this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10370)][0]; // assign 'Plan' to childActivityLabel as default
                        // 2. create a new activity with a predefined template
                        // hard code the components to be added by calling addComponents with the component IDs (consult Restvo Feature Schematic.txt file)
                        if (this.categoryId === '5e17acd47b00ea76b75e5a71') { // Onboarding Process
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; // Onboarding Process
                            this.addComponent(10000); // add the "Activity Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(20010); // add the slider to enable the walkthrough
                            this.addComponent(40010); // add text answer
                            this.editTemplate = true;
                        }
                        else if (this.categoryId === '5c915324e172e4e64590e346') { // Community
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; //'Community';
                            this.moment.categories = ['5c915324e172e4e64590e346'];
                            this.addComponent(10000); // add the "Community Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(10300); // Upload Media
                            this.addComponent(10050); // section header
                            this.addComponent(10010); // Description
                            // assign default Community description
                            this.moment.matrix_string[this.moment.resource.matrix_number[0].indexOf(10010)][0] = this.resource['en-US'].value[34];
                            this.addComponent(10370); // Plan
                            this.addComponent(10500); // People
                            this.addComponent(11000); // Chat
                            this.editTemplate = true;
                        }
                        else if (this.categoryId === '5c915475e172e4e64590e348') { // Program
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; //'Program';
                            this.moment.categories = ['5c915475e172e4e64590e348'];
                            this.addComponent(10000); // add the "Program Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(50000); // Directory
                            this.addComponent(10050); // section header
                            this.addComponent(10010); // Description
                            this.addComponent(10500); // People
                            this.addComponent(11000); // Chat
                            this.editTemplate = true;
                        }
                        else if (this.categoryId === '5dfdbb547b00ea76b75e5a70') { // Relationship
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; // 'Relationship';
                            this.moment.categories = ['5dfdbb547b00ea76b75e5a70'];
                            this.addComponent(10000); // add the "Relationship Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(10300); // Upload Media
                            this.addComponent(10050); // section header
                            this.addComponent(10010); // Description
                            this.addComponent(10370); // Plan
                            this.addComponent(10500); // People
                            this.addComponent(11000); // Chat
                            this.editTemplate = true;
                        }
                        else if (this.categoryId === '5c915476e172e4e64590e349') { // Plan
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; // 'Plan';
                            this.moment.categories = ['5c915476e172e4e64590e349'];
                            this.addComponent(10000); // add the "Plan Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(10300); // Upload Media
                            this.addComponent(10050); // section header
                            this.addComponent(10010); // Description
                            this.addComponent(10210); // Schedule
                            this.editTemplate = true;
                        }
                        else if (this.categoryId === '5e1bbda67b00ea76b75e5a73') { // Content
                            this.moment.resource['en-US'].value[0] = this.categories.find(function (c) { return c._id === _this.categoryId; })['en-US'].value[0]; // 'Content';
                            this.moment.categories = ['5e1bbda67b00ea76b75e5a73'];
                            this.addComponent(10000); // add the "Relationship Name"
                            this.addComponent(20000); // Visibility
                            this.addComponent(10300); // Upload Media
                            this.addComponent(10050); // section header
                            this.addComponent(10010); // Description
                            this.editTemplate = true;
                        }
                        else if (this.categoryId) {
                            this.moment.resource['en-US'].value[0] = this.resource['en-US'].value[0]; // 'Activity';
                            this.addComponent(10000); // add the "Activity Name"
                            this.editTemplate = true;
                        }
                        if (!(this.moment && this.moment._id)) return [3 /*break*/, 8];
                        _b = this;
                        return [4 /*yield*/, this.momentService.load(this.moment._id)];
                    case 4:
                        _b.moment = _c.sent(); // this load the activity with the template as its resource
                        peopleComponentId = -1;
                        if (this.moment.resource.matrix_number && this.moment.resource.matrix_number.length) {
                            peopleComponentId = this.moment.resource.matrix_number[0].indexOf(10500);
                        }
                        if (peopleComponentId > -1) {
                            this.participantLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 3 && this.moment.matrix_string[peopleComponentId][2] ? this.moment.matrix_string[peopleComponentId][2] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][4] > 4) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][4] : this.participantLabel;
                            this.organizerLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 5 && this.moment.matrix_string[peopleComponentId][4] ? this.moment.matrix_string[peopleComponentId][4] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][6].length > 6) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][6] : this.organizerLabel;
                            this.leaderLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 1 && this.moment.matrix_string[peopleComponentId][0] ? this.moment.matrix_string[peopleComponentId][0] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][8].length > 8) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][8] : this.leaderLabel;
                            this.participantsLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 3 && this.moment.matrix_string[peopleComponentId][3] ? this.moment.matrix_string[peopleComponentId][3] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)].length > 5) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][5] : this.participantsLabel;
                            this.organizersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 5 && this.moment.matrix_string[peopleComponentId][5] ? this.moment.matrix_string[peopleComponentId][5] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)].length > 7) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][7] : this.organizersLabel;
                            this.leadersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 1 && this.moment.matrix_string[peopleComponentId][1] ? this.moment.matrix_string[peopleComponentId][1] : (this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)].length > 9) ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10500)][9] : this.leadersLabel;
                        }
                        this.referenceActivities = [];
                        this.moment.array_moment.forEach(function (moment) {
                            _this.referenceActivities.push(moment);
                        });
                        if (!(this.moment.hasOwnProperty('array_community') && this.moment.array_community.length)) return [3 /*break*/, 6];
                        communityIds = this.moment.array_community.map(function (c) { return c._id; });
                        delete this.moment.array_community;
                        this.moment.array_community = communityIds;
                        if (this.moment.array_community.indexOf('5ab62be8f83e2c1a8d41f894') < 0) {
                            this.moment.array_community.push('5ab62be8f83e2c1a8d41f894'); // Restvo is added by default
                        }
                        listOfChurchIds_1 = this.churches.map(function (c) { return c._id; });
                        promises = this.moment.array_community.map(function (communityId) { return __awaiter(_this, void 0, void 0, function () {
                            var index, _a, church;
                            return __generator(this, function (_b) {
                                switch (_b.label) {
                                    case 0:
                                        index = listOfChurchIds_1.indexOf(communityId);
                                        if (!(index < 0)) return [3 /*break*/, 2];
                                        return [4 /*yield*/, this.churchService.loadChurchProfile(communityId)];
                                    case 1:
                                        _a = __read.apply(void 0, [_b.sent(), 1]), church = _a[0];
                                        this.churches.push({ _id: church._id, name: church.name, selected: true });
                                        _b.label = 2;
                                    case 2: return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 5:
                        _c.sent();
                        return [3 /*break*/, 7];
                    case 6:
                        this.moment.array_community = ['5ab62be8f83e2c1a8d41f894'];
                        _c.label = 7;
                    case 7:
                        if (this.moment.hasOwnProperty('categories') && this.moment.categories.length) {
                            categoryIds = this.moment.categories.map(function (c) { return c._id; });
                            delete this.moment.categories;
                            this.moment.categories = categoryIds;
                        }
                        if (!this.moment.hasOwnProperty('array_boolean')) {
                            this.moment.array_boolean = [false, false]; // if array_boolean empty, initialize it for boolean values for list in Discover and show in Marketplace
                        }
                        else if (this.moment.array_boolean && this.moment.array_boolean.length === 1) { // if index 1 (show in Marketplace) is missing, set default to false
                            this.moment.array_boolean.push(false);
                        }
                        else if (this.moment.array_boolean[2]) { // participant onboarding
                            this.loadPeerOnboardActivities(2);
                        }
                        else if (this.moment.array_boolean[3]) { // organizer onboarding
                            this.loadPeerOnboardActivities(3);
                        }
                        else if (this.moment.array_boolean[4]) { // leader onboarding
                            this.loadPeerOnboardActivities(4);
                        }
                        else if (this.moment.resource.hasOwnProperty('matrix_number') && this.moment.resource.matrix_number.length && this.moment.resource.matrix_number[0].indexOf(50000) > -1) {
                            this.loadProgramOnboardActivities(); // load list of onboarding processes
                        }
                        if (!this.moment.location) {
                            this.moment.location = {
                                location: ''
                            };
                        }
                        if (this.moment.resource.matrix_number.length) {
                            this.moment.resource.matrix_number[0].forEach(function (componentId, index) {
                                var _a;
                                if ((componentId >= 10300 && componentId <= 10360 || componentId === 20000) && !_this.moment.matrix_number[index].length) {
                                    (_a = _this.moment.matrix_number[index]).push.apply(_a, __spread([0, 0])); // default: hide photo = false (pos 0), show caption = false (pos 1)
                                }
                            });
                        }
                        // if the template has at least 1 component in it
                        if (this.moment.resource.hasOwnProperty('matrix_number') && this.moment.resource.matrix_number.length) {
                            // rebuild the moment assets array using raw data
                            this.moment.assets = [];
                            this.moment.resource.matrix_number[0].forEach(function (componentId, index) {
                                if (componentId >= 10300 && componentId <= 10360) {
                                    _this.moment.assets.push(_this.moment.matrix_string[index][0]);
                                }
                            });
                        }
                        this.awsService.sessionAssets[this.moment._id] = this.moment.assets; // store all asset urls associated with this moment in the awsAssets
                        return [3 /*break*/, 9];
                    case 8:
                        this.startTime = new Date(new Date().setMinutes(0)).toISOString();
                        this.endTime = new Date(new Date().setMinutes(0)).toISOString();
                        _c.label = 9;
                    case 9:
                        if (this.moment.location && this.moment.location.geo && this.moment.location.geo.coordinates && this.moment.location.geo.coordinates.length) {
                            this.addressURL = "https://maps.locationiq.com/v2/staticmap?key=pk.e5797fe100f9aa5732d5346f742b243f&center=" + this.moment.location.geo.coordinates[1] + "," + this.moment.location.geo.coordinates[0] + "&zoom=12&size=1000x600&maptype=roadmap&markers=icon:%20large-red-cutout%20|" + this.moment.location.geo.coordinates[1] + "," + this.moment.location.geo.coordinates[0];
                        }
                        if (this.moment.calendar && this.moment.calendar._id) {
                            this.startDate = new Date(this.moment.calendar.startDate);
                            this.endDate = new Date(this.moment.calendar.endDate);
                            this.startTime = this.startDate.toISOString();
                            this.endTime = this.endDate.toISOString();
                            if ((this.endDate.getTime() - this.startDate.getTime()) === (24 * 60 * 60 * 1000)) { // determine whether it is an all-day event
                                this.allDay = true;
                            }
                            if (this.moment.calendar.options && this.moment.calendar.options.firstReminderMinutes) {
                                this.reminders[0] = this.moment.calendar.options.firstReminderMinutes.toString();
                            }
                            if (this.moment.calendar.options && this.moment.calendar.options.secondReminderMinutes) {
                                this.reminders[1] = this.moment.calendar.options.secondReminderMinutes.toString();
                            }
                        }
                        else { // a calendar property is required as of 1.7.4+. all Activity will now show up in the creator's timeline
                            this.moment.calendar = JSON.parse(JSON.stringify(this.momentObj.calendar));
                        }
                        if (this.conversationId) {
                            index = this.chatService.conversations.map(function (c) { return c.conversation._id; }).indexOf(this.conversationId);
                            if (index > -1) {
                                currentConversation = JSON.parse(JSON.stringify(this.chatService.conversations[index]));
                                currentConversation.locked = true;
                                this.selectedPersonOrGroup.push(currentConversation);
                            }
                        }
                        // it renders the template and populate Activity with the components
                        if (this.moment.resource.matrix_number && this.moment.resource.matrix_number.length) { // prepare activity for display
                            this.moment.resource.matrix_number[0].forEach(function (componentOptionId, component_index) { return __awaiter(_this, void 0, void 0, function () {
                                var resource_index;
                                return __generator(this, function (_a) {
                                    resource_index = this.resource.matrix_number[0].indexOf(componentOptionId);
                                    if (resource_index > -1) {
                                        this.resource.matrix_number[1][resource_index]--; // reduce the available component count
                                    }
                                    return [2 /*return*/];
                                });
                            }); });
                        }
                        this.initialSetupCompleted = true;
                        console.log('moment resource', this.moment.resource);
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.edit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var createdResource;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.editTemplate = !this.editTemplate;
                        if (!!this.editTemplate) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.resourceService.create(this.moment.resource)];
                    case 1:
                        createdResource = _a.sent();
                        this.moment.resource._id = createdResource._id; // the only thing needed from the server is the newly generated template ID
                        this.templateChanged = false;
                        // TODO: Isaiah
                        console.log("template ID", createdResource._id);
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.addComponent = function (componentId) {
        return __awaiter(this, void 0, void 0, function () {
            var versionAlert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.userData.versions['List of Components'].indexOf(componentId) < 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Upgrade Required',
                                message: 'To add this component, please upgrade your app to the latest version.',
                                buttons: ['OK'],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        versionAlert = _a.sent();
                        return [4 /*yield*/, versionAlert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                    case 3:
                        // append component id, max count, input field in moment object
                        if (componentId === 10600) { // for Video Conference, default to 1000
                            this.moment.matrix_number.push([1000]); // input field
                            this.moment.matrix_string.push(['']); // input field
                        }
                        else if (componentId === 10600) { // for Video Conference, default to 1000
                            this.moment.matrix_number.push([1000]); // input field
                            this.moment.matrix_string.push(['']); // input field
                        }
                        else if (componentId === 40000) { // multiple choice
                            this.moment.matrix_number.push([0, null]); // initial value (allow multiple selections, max number of selections)
                            this.moment.matrix_string.push(['']); // input field
                        }
                        else if (componentId === 40010) { // text answer
                            this.moment.matrix_number.push([1, 0]); // initial value (allow multiple selections, max number of selections)
                            this.moment.matrix_string.push([]); // input fields
                        }
                        else if (componentId === 40020) { // tile choice
                            this.moment.matrix_number.push([1, 200, 0, null, null, Math.floor((Math.random() + new Date().getTime()) * 1000), null]); // initial value (allow multiple selections, max number of selections)
                            this.moment.matrix_string.push(['', '']); // input fields
                        }
                        else if (componentId === 50000) { // directory
                            this.moment.matrix_number.push([1, 1, 1, 0]); // default settings (show participants, organizers, leaders, display type)
                            this.moment.matrix_string.push(['']); // input field
                            if (this.moment._id)
                                this.loadProgramOnboardActivities();
                        }
                        else if (componentId >= 10300 && componentId <= 10360 || componentId === 20000 || componentId === 10010) {
                            this.moment.matrix_number.push([0, 0, null, null, null]); // default values for display settings
                            this.moment.matrix_string.push([]); // input field
                        }
                        else if (componentId === 10500) { // People
                            this.moment.matrix_number.push(Array(13));
                            this.moment.matrix_string.push([]); // input field
                        }
                        else if (componentId === 20020) { // Tabs
                            this.moment.matrix_number.push(Array(5));
                            this.moment.matrix_string.push([]); // input field
                        }
                        else {
                            this.moment.matrix_number.push([]); // input field
                            this.moment.matrix_string.push([]); // input field
                        }
                        // append default labels in resource object, e.g. (section header default label is 'Information')
                        this.moment.resource['en-US'].matrix_string.push(JSON.parse(JSON.stringify(this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(componentId)])));
                        // append placeholder and content in moment's resource object
                        this.moment.resource.matrix_number[1].push(this.resource.matrix_number[1][this.resource.matrix_number[0].indexOf(componentId)]); // add maxCount to row 1
                        this.moment.resource.matrix_number[2].push(Math.floor((Math.random() + new Date().getTime()) * 1000)); // append a randomly generated id to row 2
                        this.moment.resource.matrix_number[3].push(null); // append a randomly generated id to row 2
                        // matrix_number[0] should be appended last, since it is used to iterate each component for display so by now all component arrays need to be ready
                        this.moment.resource.matrix_number[0].push(componentId); // add the component id to row 0
                        if (!this.categoryId) { // If creating new activity with pre-existing template
                            setTimeout(function () {
                                _this.content.scrollToBottom(50);
                            }, 50);
                        }
                        // reduce the available component count
                        this.resource.matrix_number[1][this.resource.matrix_number[0].indexOf(componentId)]--;
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.removeComponent = function (index, componentId) {
        // restore the available component count
        var i = this.resource.matrix_number[0].indexOf(componentId);
        if (i > -1) {
            this.resource.matrix_number[1][i]++;
        }
        // remove component id, max count, and inputed value from moment object
        this.moment.matrix_number.splice(index, 1); // input field
        this.moment.matrix_string.splice(index, 1); // input field
        // remove placeholder and content from moment's resource object
        this.moment.resource.matrix_number[0].splice(index, 1);
        this.moment.resource.matrix_number[1].splice(index, 1);
        this.moment.resource.matrix_number[2].splice(index, 1);
        this.moment.resource.matrix_number[3].splice(index, 1);
        this.moment.resource['en-US'].matrix_string.splice(index, 1);
    };
    EditfeaturePage.prototype.reorderComponents = function (event) {
        this.resourceService.showPixabay = -1;
        if (this.moment.matrix_number && this.moment.matrix_number.length) {
            this.moment.matrix_number = this.reorderArray(this.moment.matrix_number, event.detail.from, event.detail.to);
        }
        this.moment.matrix_string = this.reorderArray(this.moment.matrix_string, event.detail.from, event.detail.to);
        this.moment.resource.matrix_number[1] = this.reorderArray(this.moment.resource.matrix_number[1], event.detail.from, event.detail.to);
        this.moment.resource.matrix_number[2] = this.reorderArray(this.moment.resource.matrix_number[2], event.detail.from, event.detail.to);
        this.moment.resource.matrix_number[3] = this.reorderArray(this.moment.resource.matrix_number[3], event.detail.from, event.detail.to);
        this.moment.resource['en-US'].matrix_string = this.reorderArray(this.moment.resource['en-US'].matrix_string, event.detail.from, event.detail.to);
        this.moment.resource.matrix_number[0] = event.detail.complete(this.moment.resource.matrix_number[0]);
    };
    EditfeaturePage.prototype.reorderPlanItems = function (event) {
        this.referenceActivities = event.detail.complete(this.referenceActivities);
    };
    EditfeaturePage.prototype.reorderArray = function (array, from, to) {
        var draggedItem = array.splice(from, 1)[0];
        array.splice(to, 0, draggedItem);
        return array;
    };
    EditfeaturePage.prototype.changeStartTime = function () {
        if (this.startTime > this.endTime) {
            this.endTime = this.startTime;
        }
    };
    EditfeaturePage.prototype.changeSelectedDate = function (inputDate) {
        if (inputDate === ' ')
            return;
        this.calendarService.calendar.selectedDate = inputDate;
        if (this.dateType === 'start') {
            this.startDate = inputDate;
            this.dateType = 'end';
            if (inputDate.getTime() > this.endDate.getTime()) {
                this.endDate = inputDate;
            }
        }
        else if (this.dateType === 'end') {
            this.endDate = inputDate;
            this.dateType = '';
        }
    };
    EditfeaturePage.prototype.selectFileFromDeviceAndUpload = function (event, i) {
        return __awaiter(this, void 0, void 0, function () {
            var err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.awsService.uploadFile('users', this.userData.user._id, event.target.files[0], this.moment._id)];
                    case 1:
                        _a.sent();
                        this.moment.matrix_string[i][0] = this.awsService.sessionAssets[this.moment._id][this.awsService.sessionAssets[this.moment._id].length - 1];
                        return [3 /*break*/, 3];
                    case 2:
                        err_1 = _a.sent();
                        console.log(err_1);
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.selectStockPhoto = function (photo, component_index, option_index) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.awsService.selectStockPhoto(photo, this.moment._id)];
                    case 1:
                        _a.sent();
                        if (this.moment.resource.matrix_number[0][component_index] === 40020) {
                            this.moment.matrix_string[component_index][option_index] = this.awsService.sessionAssets[this.moment._id][this.awsService.sessionAssets[this.moment._id].length - 1];
                        }
                        else {
                            this.moment.matrix_string[component_index][0] = this.awsService.sessionAssets[this.moment._id][this.awsService.sessionAssets[this.moment._id].length - 1];
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.toggleSearchPixaBay = function (component_index, option_index) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                // for tile photos upload
                if (this.moment.resource.matrix_number[0][component_index] === 40020) {
                    this.resourceService.showPixabay = this.moment.matrix_number[component_index][option_index];
                }
                else { // for stock photo upload
                    /*if (this.moment.matrix_string[component_index].length && this.moment.matrix_string[component_index][0].length) {
                        return; // if already selected photo, exit
                    }*/
                    this.resourceService.showPixabay = component_index;
                }
                console.log("show pixa", component_index, option_index, this.moment.matrix_number[component_index], this.resourceService.showPixabay);
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.removeMedia = function (i, j) {
        return __awaiter(this, void 0, void 0, function () {
            var url, index;
            return __generator(this, function (_a) {
                url = this.moment.matrix_string[i][j];
                index = this.awsService.sessionAssets[this.moment._id].indexOf(url);
                if (index > -1) {
                    this.awsService.sessionAssets[this.moment._id].splice(index, 1);
                }
                this.moment.matrix_string[i].splice(j, 1);
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.promptVideoUrl = function (provider, i) {
        return __awaiter(this, void 0, void 0, function () {
            var alert2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Input the Youtube link',
                            inputs: [{
                                    name: 'src',
                                    type: 'text',
                                    placeholder: 'Youtube link'
                                }],
                            buttons: [
                                {
                                    text: 'Cancel',
                                    role: 'cancel',
                                    handler: function () {
                                        console.log('Cancel video upload');
                                        return;
                                    }
                                }, {
                                    text: 'Ok',
                                    handler: function (data) {
                                        _this.moment.matrix_string[i][0] = data.src;
                                    }
                                }
                            ],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        alert2 = _a.sent();
                        return [4 /*yield*/, alert2.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // reminder methods
    EditfeaturePage.prototype.addNewReminder = function () {
        if (this.reminders.length < 3) {
            this.reminders.push('60');
        }
    };
    EditfeaturePage.prototype.deleteReminder = function (event, index) {
        event.stopPropagation();
        this.reminders.splice(index, 1);
    };
    EditfeaturePage.prototype.seeUserInfo = function (event, user) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                event.stopPropagation();
                user.name = user.first_name + ' ' + user.last_name;
                this.userData.refreshUserStatus({ type: 'show recipient', data: { recipient: user, modalPage: true } });
                return [2 /*return*/];
            });
        });
    };
    // select people to be included as participants in the Moment creation process
    EditfeaturePage.prototype.presentPickPeoplePopover = function (event, filter, title) {
        return __awaiter(this, void 0, void 0, function () {
            var modal, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.modalCtrl.create({ component: _pickpeople_popover_pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_15__["PickpeoplePopoverPage"], componentProps: { filter: filter, includeSelf: false, title: title, conversations: this.selectedPersonOrGroup } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 3:
                        result = (_a.sent()).data;
                        if (result && result.conversations) {
                            this.selectedPersonOrGroup = result.conversations;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.reloadMomentUserLists = function () {
        return __awaiter(this, void 0, void 0, function () {
            var moment;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.momentService.load(this.moment._id)];
                    case 1:
                        moment = _a.sent();
                        if (moment.hasOwnProperty('user_list_1'))
                            this.moment.user_list_1 = moment.user_list_1;
                        if (moment.hasOwnProperty('user_list_2'))
                            this.moment.user_list_2 = moment.user_list_2;
                        if (moment.hasOwnProperty('user_list_3'))
                            this.moment.user_list_3 = moment.user_list_3;
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.addParticipants = function (event, filter, listOfNames, inviteeLabel) {
        return __awaiter(this, void 0, void 0, function () {
            var response;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.momentService.addParticipants(this.moment, this.resource, filter, listOfNames, this.resource['en-US'].value[31] + ' ' + inviteeLabel, this.resource['en-US'].value[31], inviteeLabel)];
                    case 1:
                        response = _a.sent();
                        if (response === 'success') {
                            this.anyChangeMade = true;
                            this.reloadMomentUserLists();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.removeFromUserLists = function (listOfNames, listOfUserIds) {
        return __awaiter(this, void 0, void 0, function () {
            var response, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.momentService.updateMomentUserLists({
                                operation: 'remove from lists',
                                user_lists: listOfNames,
                                users: listOfUserIds,
                                momentId: this.moment._id
                            }, null)];
                    case 1:
                        response = _a.sent();
                        if (response === 'success') {
                            this.anyChangeMade = true;
                            this.reloadMomentUserLists();
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        err_2 = _a.sent();
                        console.log(err_2);
                        this.anyChangeMade = false;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.removeParticipant = function (event, type, user_index) {
        return __awaiter(this, void 0, void 0, function () {
            var alert_1, alert_2, alert_3;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        if (!(type === 'participant')) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Remove Participant',
                                subHeader: 'You are about to remove ' + this.moment.user_list_1[user_index].first_name + ' ' + this.moment.user_list_1[user_index].last_name + ' as a participant. Are you sure you want to proceed?',
                                cssClass: 'level-15',
                                buttons: [{ text: 'Remove',
                                        handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                alert_1.dismiss();
                                                this.removeFromUserLists(['user_list_1'], [this.moment.user_list_1[user_index]._id]);
                                                return [2 /*return*/];
                                            });
                                        }); } }, { text: 'Cancel' }]
                            })];
                    case 1:
                        alert_1 = _a.sent();
                        return [4 /*yield*/, alert_1.present()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 9];
                    case 3:
                        if (!(type === 'organizer')) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Remove Organizer',
                                subHeader: 'You are about to remove ' + this.moment.user_list_2[user_index].first_name + ' ' + this.moment.user_list_2[user_index].last_name + ' as a organizer. Are you sure you want to proceed?',
                                cssClass: 'level-15',
                                buttons: [{ text: 'Remove',
                                        handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                alert_2.dismiss();
                                                this.removeFromUserLists(['user_list_2'], [this.moment.user_list_2[user_index]._id]);
                                                return [2 /*return*/];
                                            });
                                        }); } }, { text: 'Cancel' }]
                            })];
                    case 4:
                        alert_2 = _a.sent();
                        return [4 /*yield*/, alert_2.present()];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 9];
                    case 6:
                        if (!(type === 'leader')) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Remove Leader',
                                subHeader: 'You are about to remove ' + this.moment.user_list_3[user_index].first_name + ' ' + this.moment.user_list_3[user_index].last_name + ' as a leader. Are you sure you want to proceed?',
                                cssClass: 'level-15',
                                buttons: [{ text: 'Remove',
                                        handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                alert_3.dismiss();
                                                this.removeFromUserLists(['user_list_3'], [this.moment.user_list_3[user_index]._id]);
                                                return [2 /*return*/];
                                            });
                                        }); } }, { text: 'Cancel' }]
                            })];
                    case 7:
                        alert_3 = _a.sent();
                        return [4 /*yield*/, alert_3.present()];
                    case 8:
                        _a.sent();
                        _a.label = 9;
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.unselect = function (obj) {
        var index = this.selectedPersonOrGroup.indexOf(obj);
        if (index > -1) {
            this.selectedPersonOrGroup.splice(index, 1);
        }
    };
    EditfeaturePage.prototype.searchAddress = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.addressSearchString.length) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.resourceService.forwardGeocode(this.addressSearchString)];
                    case 1:
                        _a.searchAddressResults = _b.sent();
                        this.searchAddressResults.push({
                            display_name: "Use Custom Location"
                        });
                        _b.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.selectAddress = function (selection) {
        if (selection.display_name == 'Use Custom Location') {
            this.moment.location = {
                location: JSON.parse(JSON.stringify(this.addressSearchString))
            };
            this.addressURL = '';
        }
        else {
            this.moment.location = {
                location: selection.display_name,
                geo: {
                    type: 'Point',
                    coordinates: [parseFloat(selection.lon), parseFloat(selection.lat)]
                }
            };
            this.moment.location.location = selection.display_name;
            this.addressURL = "https://maps.locationiq.com/v2/staticmap?key=pk.e5797fe100f9aa5732d5346f742b243f&center=" + selection.lat + "," + selection.lon + "&zoom=20&size=1000x600&maptype=roadmap&markers=icon:%20large-red-cutout%20|" + selection.lat + "," + selection.lon;
        }
        this.addressSearchString = '';
        this.searchAddressResults = [];
    };
    EditfeaturePage.prototype.clearAddress = function () {
        this.moment.location = { location: '' };
        this.addressURL = '';
    };
    EditfeaturePage.prototype.addPlanItem = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_1, _a, e_2, _b, categoryId, allowSwitchCategory, modal, moments, samples, moments_1, moments_1_1, moment, selectedMoments, clonedMoments, clonedMoments_1, clonedMoments_1_1, clonedMoment, index;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        allowSwitchCategory = true;
                        // if the current Activity is a Community, the Plan items can only be Programs
                        if (this.moment.categories && this.moment.categories.includes('5c915324e172e4e64590e346')) {
                            categoryId = '5c915475e172e4e64590e348'; // only program is allowed in Picker
                            allowSwitchCategory = false; // lock it so user is not allowed to switch category
                            // if the current Activity is a Relationship, the Plan items can only be Plans
                        }
                        else if (this.moment.categories && this.moment.categories.includes('5dfdbb547b00ea76b75e5a70')) {
                            categoryId = '5c915476e172e4e64590e349'; // only Plan is allowed in Picker
                            allowSwitchCategory = false; // lock it so user is not allowed to switch category
                        }
                        return [4 /*yield*/, this.modalCtrl.create({ component: _pickfeature_popover_pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_19__["PickfeaturePopoverPage"], componentProps: { title: 'Choose from Library', categoryId: categoryId, allowSwitchCategory: allowSwitchCategory } })];
                    case 1:
                        modal = _c.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _c.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 3:
                        moments = (_c.sent()).data;
                        if (!(moments && moments.length)) return [3 /*break*/, 5];
                        samples = [];
                        try {
                            for (moments_1 = __values(moments), moments_1_1 = moments_1.next(); !moments_1_1.done; moments_1_1 = moments_1.next()) {
                                moment = moments_1_1.value;
                                if (moment && moment.type === 'new') { // cloning a sample. copy everything except calendar
                                    moment.calendar = {
                                        title: moment.matrix_string[0][0],
                                        location: '',
                                        notes: '',
                                        startDate: new Date().toISOString(),
                                        endDate: new Date().toISOString(),
                                        options: {
                                            firstReminderMinutes: 0,
                                            secondReminderMinutes: 0,
                                            reminders: []
                                        }
                                    };
                                    samples.push(moment);
                                    this.referenceActivities.push(moment);
                                }
                                else {
                                    this.referenceActivities.push(moment);
                                }
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (moments_1_1 && !moments_1_1.done && (_a = moments_1.return)) _a.call(moments_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        selectedMoments = moments.filter(function (c) { return c.type === 'new'; });
                        if (!(selectedMoments && selectedMoments.length)) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.momentService.clone(selectedMoments, null)];
                    case 4:
                        clonedMoments = _c.sent();
                        if (clonedMoments) {
                            try {
                                for (clonedMoments_1 = __values(clonedMoments), clonedMoments_1_1 = clonedMoments_1.next(); !clonedMoments_1_1.done; clonedMoments_1_1 = clonedMoments_1.next()) {
                                    clonedMoment = clonedMoments_1_1.value;
                                    clonedMoment.type = 'new';
                                    index = this.referenceActivities.map(function (moment) { return moment.resource._id; }).indexOf(clonedMoment.resource);
                                    if (index > -1) {
                                        clonedMoment.resource = this.referenceActivities[index].resource; // clone the populated resource
                                        this.referenceActivities.splice(index, 1, clonedMoment);
                                    }
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (clonedMoments_1_1 && !clonedMoments_1_1.done && (_b = clonedMoments_1.return)) _b.call(clonedMoments_1);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                        }
                        _c.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.removePlanItem = function (event, index) {
        event.stopPropagation();
        if (this.referenceActivities[index] && this.referenceActivities[index]._id && this.referenceActivities[index].type === 'new') {
            console.log("remove cloned Activity");
            this.removedMoments.push(this.referenceActivities[index]);
        }
        this.referenceActivities.splice(index, 1);
    };
    EditfeaturePage.prototype.openPlanModule = function (index) {
        return __awaiter(this, void 0, void 0, function () {
            var moment, hasOrganizerAccess, modal, modifiedMoment;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        moment = this.referenceActivities[index];
                        if (!moment) return [3 /*break*/, 5];
                        hasOrganizerAccess = void 0;
                        if (moment.user_list_2 && moment.user_list_2.length && moment.user_list_2[0] && typeof moment.user_list_2[0] === 'object') { // if user_list is populated, i.e. array of objects
                            hasOrganizerAccess = moment.user_list_2.map(function (c) { return c._id; }).includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                        }
                        else if (moment.user_list_2 && moment.user_list_2.length && moment.user_list_2[0] && typeof moment.user_list_2[0] === 'string') { // if user_list is not populated, i.e. array of strings
                            hasOrganizerAccess = moment.user_list_2.includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                        }
                        else {
                            hasOrganizerAccess = ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                        }
                        if (!hasOrganizerAccess) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.modalCtrl.create({ component: EditfeaturePage_1, componentProps: { moment: this.referenceActivities[index], modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 3:
                        modifiedMoment = (_a.sent()).data;
                        if (modifiedMoment) {
                            this.referenceActivities[index] = modifiedMoment;
                        }
                        return [3 /*break*/, 5];
                    case 4:
                        this.momentService.openMoment({ moment: this.referenceActivities[index], modalPage: true });
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.addInteractableItem = function (component_index) {
        var _a, _b;
        if (this.moment.resource.matrix_number[0][component_index] === 40020) {
            (_a = this.moment.matrix_string[component_index]).push.apply(_a, __spread(['', ''])); // first is label, second is image url
            (_b = this.moment.matrix_number[component_index]).push.apply(_b, __spread([Math.floor((Math.random() + new Date().getTime()) * 1000), null])); // append a timestamp and an empty placeholder
        }
        else {
            this.moment.matrix_string[component_index].push(''); // append the label
        }
    };
    EditfeaturePage.prototype.removeInteractableItem = function (event, component_index, pollOption_index) {
        event.stopPropagation();
        if (this.moment.resource.matrix_number[0][component_index] === 40020) {
            this.moment.matrix_string[component_index].splice(pollOption_index, 2); // splice the label and the image url
            this.moment.matrix_number[component_index].splice(pollOption_index + 5, 2); // splice the timestamp and the empty placeholder (null)
        }
        else {
            this.moment.matrix_string[component_index].splice(pollOption_index, 1); // splice the label
        }
    };
    // for editing onboarding process, when a user toggle advanced mode, she is able to select another onboarding process which this current one will depend one (which parent process unlocks the current one)
    // TODO: type is provided but may not be necessary, since a child process can be unlocked by a parent process that is currently in a different participation type. it will just not be shown. it is an edge case but won't break the algorithm
    // load list of peer onboarding processes in order to set up an array for picking which peer onboarding process will act as a parent process
    EditfeaturePage.prototype.loadPeerOnboardActivities = function (type) {
        return __awaiter(this, void 0, void 0, function () {
            var results;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.loadedPeerOnboardingProcesses = true;
                        return [4 /*yield*/, this.momentService.loadProgramOnboardActivities(this.moment.program, type, true)];
                    case 1:
                        results = _a.sent();
                        this.peer_preferences = results.preferences;
                        this.peer_preferences.unshift({ _id: '', matrix_string: [['None']] }); // add the 'None'' option as the first element
                        if (this.moment._id)
                            this.peer_preferences.splice(this.peer_preferences.map(function (c) { return c._id; }).indexOf(this.moment._id), 1); // remove the current moment from the list, so one cannot be dependent on itself
                        // prep the peer onboarding activities responses
                        // it is the parent/child relationship records (e.g. an onboarding process is only shown if a user answers the same in the parent onboarding questions)
                        this.peer_responses = results.responses.preferences;
                        if (!this.peer_responses.length) {
                            this.peer_responses.push({
                                index: null,
                                moment: null,
                                dependent_moment: this.moment._id,
                                selectedComponentIndex: null,
                                selectionOptionIndexes: [],
                                matrix_number: [],
                                createdAt: null
                            });
                        }
                        else {
                            this.peer_responses.forEach(function (response) {
                                response.index = _this.peer_preferences.map(function (c) { return c._id; }).indexOf(response.moment);
                                console.log("index", response.index, _this.peer_preferences);
                                response.selectedComponentIndex = _this.peer_preferences[response.index].resource.matrix_number[2].indexOf(_this.peer_preferences[response.index].response.matrix_number[0][0]);
                                response.selectedOptionIndexes = JSON.parse(JSON.stringify(_this.peer_preferences[response.index].response.matrix_number[0]));
                                response.selectedOptionIndexes.splice(0, 5);
                                if (!_this.peer_preferences[response.index].matrix_number[response.selectedComponentIndex][0]) { // if multiple selection is off
                                    response.selectedOptionIndexes = response.selectedOptionIndexes[0]; // convert from array to integer
                                }
                            });
                        }
                        console.log("index", this.peer_preferences, this.peer_responses);
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.loadProgramOnboardActivities = function () {
        return __awaiter(this, void 0, void 0, function () {
            var results;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.momentService.loadProgramOnboardActivities(this.moment._id, null, true)];
                    case 1:
                        results = _a.sent();
                        this.preferences = results.preferences;
                        // prep the matching config
                        this.match_configs = results.responses.matching_config;
                        this.preferences.forEach(function (preference) {
                            // config records the question_id [0], logical operator type [1], weighing factor [2]
                            // matching_configs is the data array that stores the backend data
                            // preference.config stores a modified version of that data for display purposes. For example, weighing factor [2] is converted into natural log to display the 0 - 1 segment more prominently
                            preference.config = [];
                            if (preference.resource) { // exclude the None option
                                preference.resource.matrix_number[2].forEach(function (question_id, index) {
                                    var config = _this.match_configs.find(function (c) { return c.matrix_number[0][0] === question_id; });
                                    if (config) { // if a config exists from the backend
                                        preference.config.push(JSON.parse(JSON.stringify(config.matrix_number[0])));
                                        preference.config[index][3] = Math.log(preference.config[index][3]); // convert weighing factor (position 3) to natural log scale
                                    }
                                    else { // if no config exists, populate the display arrays
                                        preference.config.push([question_id, 1, 1, 0, null]); // weighing factor (position 3)'s default is 1 (log(1) = 0)
                                    }
                                });
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.selectedParentMoment = function (response) {
        return __awaiter(this, void 0, void 0, function () {
            var preference_cached_1;
            var _this = this;
            return __generator(this, function (_a) {
                if (response.moment) {
                    response.index = this.peer_preferences.map(function (c) { return c._id; }).indexOf(response.moment);
                    preference_cached_1 = this.peer_preferences[response.index].resource.matrix_number[0];
                    this.peer_preferences[response.index].resource.matrix_number[0] = [];
                    setTimeout(function () {
                        _this.peer_preferences[response.index].resource.matrix_number[0] = preference_cached_1;
                        response.index = _this.peer_preferences.map(function (c) { return c._id; }).indexOf(response.moment);
                        response.moment = _this.peer_preferences[response.index]._id;
                        response.selectedComponentIndex = null;
                        response.selectedOptionIndexes = null;
                    }, 100);
                }
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.selectedParentQuestion = function (response) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                response.selectedOptionIndexes = null;
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.selectedParentAnswers = function (response) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                response.createdAt = new Date();
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.changedMatchingConfig = function (momentId, selectedConfigIndex, match_config_type, event) {
        return __awaiter(this, void 0, void 0, function () {
            var question_id, config;
            return __generator(this, function (_a) {
                // config type 1 corresponds to the operation
                // config type 2 corresponds to the matching condition
                // config type 3 corresponds to the weighing factor
                event.detail.value = event.detail.value || '0';
                question_id = this.preferences.find(function (c) { return c._id === momentId; }).resource.matrix_number[2][selectedConfigIndex];
                config = this.match_configs.find(function (c) { return c.matrix_number[0][0] === question_id; });
                if (config) { // when there is an existing config record, update it
                    // for weighing factor, convert it back to base 10 number
                    config.matrix_number[0][match_config_type] = match_config_type === 3 ? Math.exp(parseFloat(event.detail.value)) : parseFloat(event.detail.value);
                }
                else { // when no existing config, create a new one
                    this.match_configs.push({
                        moment: momentId,
                        dependent_moment: this.moment._id,
                        matrix_number: [[question_id, match_config_type === 1 ? parseInt(event.detail.value, 10) : 1, match_config_type === 2 ? parseInt(event.detail.value, 10) : 1, match_config_type === 3 ? Math.exp(parseFloat(event.detail.value)) : null, null]],
                        array_number: [50000],
                        createdAt: new Date()
                    });
                }
                this.preferences.find(function (c) { return c._id === momentId; }).config[selectedConfigIndex][match_config_type] = parseFloat(event.detail.value);
                console.log("after changing match config", this.match_configs, this.preferences);
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.addPeopleProfileBio = function (componentIndex) {
        if (this.moment.matrix_number[componentIndex].length < 11) {
            this.moment.matrix_number[componentIndex].length = 11;
        }
        this.moment.matrix_number[componentIndex].length = this.moment.matrix_number[componentIndex].length + 3;
        console.log("show", this.moment.matrix_number[componentIndex]);
    };
    EditfeaturePage.prototype.addTab = function (componentIndex) {
        // if the component tab attribute array has not been added to resource's matrix_number yet, add it
        if (this.moment.resource && this.moment.resource.matrix_number && this.moment.resource.matrix_number.length < 4) {
            this.moment.resource.matrix_number.push(Array(this.moment.resource.matrix_number[0].length));
            this.templateChanged = true;
        }
        this.moment.matrix_number[componentIndex].push(Math.floor((Math.random() + new Date().getTime()) * 1000)); // add a new tabId which is a random number
    };
    EditfeaturePage.prototype.removeTab = function (componentIndex, tabIndex) {
        this.moment.matrix_number[componentIndex].splice(tabIndex + 5, 1);
        this.moment.matrix_string[componentIndex].splice(tabIndex, 1);
    };
    EditfeaturePage.prototype.addTabComponent = function (tabIndex, tabId, event) {
        var _this = this;
        var index = this.moment.resource.matrix_number[2].indexOf(event.detail.value);
        if (index >= 0) {
            this.moment.resource.matrix_number[3][index] = tabId;
            this.templateChanged = true;
        }
        setTimeout(function () {
            _this.tempTabComponentSelection = Array(_this.moment.resource.matrix_number[0].length);
        }, 50);
    };
    EditfeaturePage.prototype.removeTabComponent = function (componentIndex) {
        this.moment.resource.matrix_number[3][componentIndex] = null;
        this.templateChanged = true;
    };
    EditfeaturePage.prototype.explainWeight = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alertCtrl;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: this.moment.resource['en-US'].matrix_string[this.moment.resource.matrix_number[0].indexOf(50000)][13],
                            message: this.moment.resource['en-US'].matrix_string[this.moment.resource.matrix_number[0].indexOf(50000)][14],
                            buttons: [{ text: 'Ok',
                                    handler: function () {
                                        alertCtrl.dismiss();
                                    } }],
                            cssClass: 'level-15'
                        })];
                    case 1: return [4 /*yield*/, _a.sent()];
                    case 2:
                        alertCtrl = _a.sent();
                        return [4 /*yield*/, alertCtrl.present()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.saveActivity = function (closeModal) {
        return __awaiter(this, void 0, void 0, function () {
            var e_3, _a, _b, createdResource, selectedStartTimeObj, selectedEndTimeObj, alertCtrl_1, i, promises, err_3, createdMoment, responseObj, _c, _d, response, alert_4;
            var _this = this;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        _b = this;
                        return [4 /*yield*/, this.loadingCtrl.create({
                                message: 'Saving...',
                                duration: 5000
                            })];
                    case 1:
                        _b.loading = _e.sent();
                        return [4 /*yield*/, this.loading.present()];
                    case 2:
                        _e.sent();
                        if (!this.moment.matrix_string[0].length || (this.moment.matrix_string[0].length && !this.moment.matrix_string[0][0])) {
                            this.presentToast("Please enter a name for this " + this.moment.resource['en-US'].value[0] || false);
                            return [2 /*return*/];
                        }
                        if (!(this.editTemplate || this.templateChanged || !this.moment.resource._id)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.resourceService.create(this.moment.resource)];
                    case 3:
                        createdResource = _e.sent();
                        this.moment.resource._id = createdResource._id;
                        _e.label = 4;
                    case 4:
                        if (!this.moment.resource.matrix_number[0].includes(10200)) return [3 /*break*/, 9];
                        if (this.allDay) {
                            this.startDate = new Date(this.calendarService.calendar.selectedDate.getFullYear(), this.calendarService.calendar.selectedDate.getMonth(), this.calendarService.calendar.selectedDate.getDate(), 0, 0, 0);
                            this.endDate = new Date(this.calendarService.calendar.selectedDate.getFullYear(), this.calendarService.calendar.selectedDate.getMonth(), this.calendarService.calendar.selectedDate.getDate() + 1, 0, 0);
                        }
                        else {
                            selectedStartTimeObj = new Date(this.startTime);
                            this.startDate = new Date(this.startDate.getFullYear(), this.startDate.getMonth(), this.startDate.getDate(), selectedStartTimeObj.getHours(), selectedStartTimeObj.getMinutes());
                            selectedEndTimeObj = new Date(this.endTime);
                            this.endDate = new Date(this.endDate.getFullYear(), this.endDate.getMonth(), this.endDate.getDate(), selectedEndTimeObj.getHours(), selectedEndTimeObj.getMinutes());
                        }
                        if (!(this.startDate.getTime() > this.endDate.getTime())) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.loading.dismiss()];
                    case 5:
                        _e.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: this.moment.resource['en-US'].matrix_string[this.moment.resource.matrix_number[0].indexOf(10200)][5],
                                message: this.moment.resource['en-US'].matrix_string[this.moment.resource.matrix_number[0].indexOf(10200)][6],
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            alertCtrl_1.dismiss();
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 6: return [4 /*yield*/, _e.sent()];
                    case 7:
                        alertCtrl_1 = _e.sent();
                        return [4 /*yield*/, alertCtrl_1.present()];
                    case 8:
                        _e.sent();
                        return [2 /*return*/];
                    case 9:
                        this.moment.author = this.userData.user._id;
                        this.moment.conversations = this.selectedPersonOrGroup;
                        // remove Restvo community from event communities list because it is listed by default
                        this.moment.array_community.forEach(function (community, index) {
                            if (community === '5ab62be8f83e2c1a8d41f894') {
                                _this.moment.array_community.splice(index, 1);
                            }
                        });
                        // prepare calendar object for upload
                        this.moment.calendar.title = this.moment.matrix_string[0][0]; // this value is required by default
                        this.moment.calendar.startDate = this.startDate.toISOString();
                        this.moment.calendar.endDate = this.endDate.toISOString();
                        // process reminder data
                        if (this.moment.resource.matrix_number[0].indexOf(10400) > -1) {
                            this.moment.calendar.options.reminders = []; // if it is to update the record, empty it first
                            this.reminders.sort(function (a, b) {
                                return parseInt(b, 10) - parseInt(a, 10);
                            });
                            for (i = 0; i < this.reminders.length; i++) {
                                // convert reminders from string to number, then add to reminder object
                                this.reminders[i] = parseInt(this.reminders[i], 10);
                                // the new array to store the reminders in mongoDB with reminderSent boolean field
                                this.moment.calendar.options.reminders.push({
                                    remindAt: new Date(this.startDate.getTime() - (this.reminders[i] * 60 * 1000)).toISOString(),
                                    reminderSent: false
                                });
                            }
                            if (this.reminders.length === 1) {
                                this.moment.calendar.options.firstReminderMinutes = this.reminders[0];
                                delete this.moment.calendar.options.secondReminderMinutes;
                            }
                            else if (this.reminders.length === 2) {
                                this.moment.calendar.options.firstReminderMinutes = this.reminders[0];
                                this.moment.calendar.options.secondReminderMinutes = this.reminders[1];
                            }
                        }
                        if (!(this.moment.resource.matrix_number[0].indexOf(10370) > -1)) return [3 /*break*/, 11];
                        this.moment.array_moment = []; // clear the array
                        promises = this.referenceActivities.map(function (referenceActivity) { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                if (referenceActivity && referenceActivity._id) {
                                    this.moment.array_moment.push(referenceActivity._id);
                                }
                                return [2 /*return*/];
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 10:
                        _e.sent();
                        _e.label = 11;
                    case 11: 
                    // clean up DO of unlinked media URLs in this.moment.assets before it is overwritten by sessionAssets
                    return [4 /*yield*/, this.awsService.cleanUp(this.moment._id, this.moment.assets)];
                    case 12:
                        // clean up DO of unlinked media URLs in this.moment.assets before it is overwritten by sessionAssets
                        _e.sent();
                        //console.log("check", this.awsService.tempUploadedMedia);
                        // sessionAssets has the latest, valid media URLs for this moment. Store it in moment.assets before save
                        this.moment.assets = this.awsService.sessionAssets[this.moment._id];
                        console.log("assets", this.awsService.sessionAssets[this.moment._id]);
                        if (!this.moment._id) return [3 /*break*/, 17];
                        _e.label = 13;
                    case 13:
                        _e.trys.push([13, 15, , 16]);
                        return [4 /*yield*/, this.momentService.update(this.moment)];
                    case 14:
                        _e.sent();
                        return [3 /*break*/, 16];
                    case 15:
                        err_3 = _e.sent();
                        return [2 /*return*/, this.closeModal(this.anyChangeMade)];
                    case 16: return [3 /*break*/, 19];
                    case 17: return [4 /*yield*/, this.momentService.create(this.moment)];
                    case 18:
                        createdMoment = _e.sent();
                        this.moment._id = createdMoment._id;
                        this.moment.access_tokens = createdMoment.access_tokens;
                        this.moment.user_list_1 = createdMoment.user_list_1;
                        this.moment.user_list_2 = createdMoment.user_list_2;
                        this.moment.user_list_3 = createdMoment.user_list_3;
                        this.moment.calendar._id = createdMoment.calendar; // the newly returned createdMoment has calendar _id
                        _e.label = 19;
                    case 19:
                        responseObj = [];
                        try {
                            for (_c = __values(this.peer_responses), _d = _c.next(); !_d.done; _d = _c.next()) {
                                response = _d.value;
                                if (response.selectedComponentIndex && response.selectedOptionIndexes !== null) { // remove response element with unfinished choice
                                    // push interactable ID and selection options (multiple selection or single integer) into matrix
                                    response.matrix_number = [[this.peer_preferences[response.index].resource.matrix_number[2][response.selectedComponentIndex], null, null, null, null].concat(response.selectedOptionIndexes)];
                                    responseObj.push(response);
                                }
                            }
                        }
                        catch (e_3_1) { e_3 = { error: e_3_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                            }
                            finally { if (e_3) throw e_3.error; }
                        }
                        if (!this.loadedPeerOnboardingProcesses) return [3 /*break*/, 21];
                        return [4 /*yield*/, this.responseService.submitDependentResponse({ class: 1000, dependentMomentId: this.moment._id, responses: responseObj })];
                    case 20:
                        _e.sent();
                        _e.label = 21;
                    case 21:
                        if (!(this.moment.resource.matrix_number[0].indexOf(50000) > -1)) return [3 /*break*/, 23];
                        return [4 /*yield*/, this.responseService.submitDependentResponse({ class: 50000, dependentMomentId: this.moment._id, responses: this.match_configs })];
                    case 22:
                        _e.sent();
                        _e.label = 23;
                    case 23: return [4 /*yield*/, this.loading.dismiss()];
                    case 24:
                        _e.sent();
                        if (!closeModal) return [3 /*break*/, 28];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: this.resource['en-US'].value[10],
                                message: this.moment.matrix_string[0][0] + this.resource['en-US'].value[11] + (this.moment.array_boolean[0] ? this.resource['en-US'].value[12] : ''),
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            _this.closeModal(_this.moment);
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 25: return [4 /*yield*/, _e.sent()];
                    case 26:
                        alert_4 = _e.sent();
                        return [4 /*yield*/, alert_4.present()];
                    case 27:
                        _e.sent();
                        _e.label = 28;
                    case 28:
                        this.userData.refreshUserStatus({ type: 'change aux data' }); // this will refresh the pickfeature-popover.page.ts and managefeature.page.ts
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.presentToast = function (text) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastCtrl.create({
                            message: text,
                            duration: 3000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.explainDiscover = function (i) {
        return __awaiter(this, void 0, void 0, function () {
            var activityType, alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        activityType = this.moment.resource['en-US'].value[0] || this.resource['en-US'].value[0];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: this.moment.resource['en-US'].matrix_string[i][1],
                                subHeader: this.moment.resource['en-US'].matrix_string[i][3] + activityType.toLowerCase() + this.moment.resource['en-US'].matrix_string[i][4] + activityType.toLowerCase() + this.moment.resource['en-US'].matrix_string[i][5],
                                buttons: [{ text: 'Ok' }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.inviteLinkAction = function (type) {
        return __awaiter(this, void 0, void 0, function () {
            var url, Share, err_4, Clipboard_1, alert_5, alert_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        url = this.networkService.webapp_domain + '/app/activity/' + this.moment._id + ';type=' + type + ';token=' + this.moment.access_tokens[type - 2];
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 11]);
                        Share = _capacitor_core__WEBPACK_IMPORTED_MODULE_14__["Plugins"].Share;
                        return [4 /*yield*/, Share.share({
                                text: url
                            })];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 11];
                    case 3:
                        err_4 = _a.sent();
                        console.log(err_4);
                        if (!(err_4.name !== 'AbortError')) return [3 /*break*/, 7];
                        Clipboard_1 = _capacitor_core__WEBPACK_IMPORTED_MODULE_14__["Plugins"].Clipboard;
                        return [4 /*yield*/, Clipboard_1.write({
                                url: url
                            })];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Share Link Ready',
                                message: 'The invitation link ' + url + 'has been copied to your clipboard.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 5:
                        alert_5 = _a.sent();
                        return [4 /*yield*/, alert_5.present()];
                    case 6:
                        _a.sent();
                        return [3 /*break*/, 10];
                    case 7: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Invitation Link',
                            message: url,
                            buttons: ['Dismiss'],
                            cssClass: 'level-15'
                        })];
                    case 8:
                        alert_6 = _a.sent();
                        return [4 /*yield*/, alert_6.present()];
                    case 9:
                        _a.sent();
                        _a.label = 10;
                    case 10: return [3 /*break*/, 11];
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.editOnboarding = function (event, type) {
        return __awaiter(this, void 0, void 0, function () {
            var alertCtrl;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Unsaved Changes',
                                message: 'You are leaving the Edit Mode. Ensure you save your changes before you proceed.',
                                buttons: [{ text: 'Proceed',
                                        handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                if (this.modalPage) {
                                                    this.momentService.openPreferences({ programId: this.moment._id, type: type, organizer: true, modalPage: true });
                                                }
                                                else {
                                                    this.router.navigate(['/app/discover/preferences', { programId: this.moment._id, type: type, organizer: true, showHeader: true }]);
                                                }
                                                return [2 /*return*/];
                                            });
                                        }); } }, {
                                        text: 'Cancel'
                                    }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alertCtrl = _a.sent();
                        return [4 /*yield*/, alertCtrl.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    EditfeaturePage.prototype.initPlyr = function (event, mediaId) {
        var player;
        player = event;
        this.mediaList.push({ _id: mediaId, player: player });
    };
    EditfeaturePage.prototype.destroyPlayers = function (mediaId) {
        var e_4, _a;
        if (mediaId) {
            var media = this.mediaList.find(function (c) { return c._id === mediaId; });
            media.player.destroy();
        }
        else {
            try {
                for (var _b = __values(this.mediaList), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var media = _c.value;
                    media.player.destroy();
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_4) throw e_4.error; }
            }
        }
    };
    EditfeaturePage.prototype.openUploadMedia = function (i, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, modal, media_list;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({ component: _uploadmedia_uploadmedia_page__WEBPACK_IMPORTED_MODULE_18__["UploadmediaPage"], componentProps: { sessionId: this.moment._id, modalPage: true } })];
                    case 1:
                        modal = _b.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _b.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 3:
                        media_list = (_b.sent()).data;
                        // event is an a moment object see server/models/moment.js
                        // event contains a resource with info on the event see server/models/resource.js
                        if (media_list) {
                            if ((componentIndex === 10010 || componentIndex === 40010) && this.moment.matrix_string[i].length < 11) { // only when initiating textarea + media component
                                this.moment.matrix_string[i].length = 11;
                            }
                            (_a = this.moment.matrix_string[i]).push.apply(_a, __spread(media_list));
                        }
                        console.log("after media upload", this.moment);
                        return [2 /*return*/];
                }
            });
        });
    };
    // this function is used by Angular *ngFor to track the dynamic DOM creation and destruction
    EditfeaturePage.prototype.customTrackBy = function (index, item) {
        return index;
    };
    EditfeaturePage.prototype.closeModal = function (refreshNeeded) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.destroyPlayers(null);
                this.awsService.cleanUp(this.moment._id, true); // clean up the temporarily uploaded media
                /*const promises = this.removedMoments.map( async (moment) => {
                    console.log('removing abandoned Programs', moment);
                    await this.momentService.delete(moment);
                });
                await Promise.all(promises);*/
                this.subscriptions['refreshUserStatus'].unsubscribe(this.reloadEditPage);
                this.subscriptions['refreshMoment'].unsubscribe(this.refreshMomentHandler);
                if (this.modalPage) {
                    this.modalCtrl.dismiss(refreshNeeded);
                }
                else {
                    this.location.back();
                    this.userData.refreshUserStatus({});
                }
                this.awsService.sessionAllowedCount = 1; // reset the allowed files count to 1
                return [2 /*return*/];
            });
        });
    };
    EditfeaturePage.prototype.ngOnDestroy = function () {
        this.subscriptions['refreshUserStatus'].unsubscribe(this.reloadEditPage);
        this.subscriptions['refreshMoment'].unsubscribe(this.refreshMomentHandler);
    };
    var EditfeaturePage_1;
    EditfeaturePage.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_17__["Location"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_1__["ElectronService"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__["SwUpdate"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["PopoverController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["LoadingController"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_5__["Chat"] },
        { type: _services_church_service__WEBPACK_IMPORTED_MODULE_6__["Churches"] },
        { type: _services_group_service__WEBPACK_IMPORTED_MODULE_7__["Groups"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_16__["NetworkService"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"] },
        { type: _services_aws_service__WEBPACK_IMPORTED_MODULE_9__["Aws"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_10__["Moment"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_11__["Resource"] },
        { type: _services_response_service__WEBPACK_IMPORTED_MODULE_12__["Response"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_13__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonContent"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonContent"])
    ], EditfeaturePage.prototype, "content", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "modalPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "moment", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "conversationId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "categoryId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "programId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditfeaturePage.prototype, "parent_programId", void 0);
    EditfeaturePage = EditfeaturePage_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-editfeature',
            template: __importDefault(__webpack_require__(/*! raw-loader!./editfeature.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editfeature/editfeature.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./editfeature.page.scss */ "./src/app/pages/feature/editfeature/editfeature.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_17__["Location"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_1__["ElectronService"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__["SwUpdate"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["LoadingController"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_5__["Chat"],
            _services_church_service__WEBPACK_IMPORTED_MODULE_6__["Churches"],
            _services_group_service__WEBPACK_IMPORTED_MODULE_7__["Groups"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_16__["NetworkService"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"],
            _services_aws_service__WEBPACK_IMPORTED_MODULE_9__["Aws"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_10__["Moment"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_11__["Resource"],
            _services_response_service__WEBPACK_IMPORTED_MODULE_12__["Response"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_13__["CalendarService"]])
    ], EditfeaturePage);
    return EditfeaturePage;
}());



/***/ }),

/***/ "./src/app/pages/feature/editparticipants/editparticipants.page.ts":
/*!*************************************************************************!*\
  !*** ./src/app/pages/feature/editparticipants/editparticipants.page.ts ***!
  \*************************************************************************/
/*! exports provided: EditparticipantsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditparticipantsPage", function() { return EditparticipantsPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _services_church_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/church.service */ "./src/app/services/church.service.ts");
/* harmony import */ var _services_group_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/group.service */ "./src/app/services/group.service.ts");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_aws_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_response_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../services/response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../editfeature/editfeature.page */ "./src/app/pages/feature/editfeature/editfeature.page.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

















var EditparticipantsPage = /** @class */ (function (_super) {
    __extends(EditparticipantsPage, _super);
    function EditparticipantsPage(route, router, location, electronService, swUpdate, change, platform, alertCtrl, toastCtrl, actionSheetCtrl, popoverCtrl, modalCtrl, loadingCtrl, chatService, churchService, groupService, networkService, userData, awsService, momentService, resourceService, responseService, calendarService) {
        var _this = _super.call(this, route, router, location, electronService, swUpdate, change, platform, alertCtrl, toastCtrl, actionSheetCtrl, popoverCtrl, modalCtrl, loadingCtrl, chatService, churchService, groupService, networkService, userData, awsService, momentService, resourceService, responseService, calendarService) || this;
        _this.route = route;
        _this.router = router;
        _this.location = location;
        _this.electronService = electronService;
        _this.swUpdate = swUpdate;
        _this.change = change;
        _this.platform = platform;
        _this.alertCtrl = alertCtrl;
        _this.toastCtrl = toastCtrl;
        _this.actionSheetCtrl = actionSheetCtrl;
        _this.popoverCtrl = popoverCtrl;
        _this.modalCtrl = modalCtrl;
        _this.loadingCtrl = loadingCtrl;
        _this.chatService = chatService;
        _this.churchService = churchService;
        _this.groupService = groupService;
        _this.networkService = networkService;
        _this.userData = userData;
        _this.awsService = awsService;
        _this.momentService = momentService;
        _this.resourceService = resourceService;
        _this.responseService = responseService;
        _this.calendarService = calendarService;
        _this.title = '';
        return _this;
    }
    EditparticipantsPage.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_4__["SwUpdate"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["PopoverController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_6__["Chat"] },
        { type: _services_church_service__WEBPACK_IMPORTED_MODULE_7__["Churches"] },
        { type: _services_group_service__WEBPACK_IMPORTED_MODULE_8__["Groups"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_9__["NetworkService"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_10__["UserData"] },
        { type: _services_aws_service__WEBPACK_IMPORTED_MODULE_11__["Aws"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_12__["Moment"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_13__["Resource"] },
        { type: _services_response_service__WEBPACK_IMPORTED_MODULE_14__["Response"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_15__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], EditparticipantsPage.prototype, "title", void 0);
    EditparticipantsPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-editfeature',
            template: __importDefault(__webpack_require__(/*! raw-loader!./editparticipants.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/editparticipants/editparticipants.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ../editfeature/editfeature.page.scss */ "./src/app/pages/feature/editfeature/editfeature.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_4__["SwUpdate"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_6__["Chat"],
            _services_church_service__WEBPACK_IMPORTED_MODULE_7__["Churches"],
            _services_group_service__WEBPACK_IMPORTED_MODULE_8__["Groups"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_9__["NetworkService"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_10__["UserData"],
            _services_aws_service__WEBPACK_IMPORTED_MODULE_11__["Aws"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_12__["Moment"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_13__["Resource"],
            _services_response_service__WEBPACK_IMPORTED_MODULE_14__["Response"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_15__["CalendarService"]])
    ], EditparticipantsPage);
    return EditparticipantsPage;
}(_editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_16__["EditfeaturePage"]));



/***/ }),

/***/ "./src/app/pages/feature/onboardfeature/onboardfeature.page.scss":
/*!***********************************************************************!*\
  !*** ./src/app/pages/feature/onboardfeature/onboardfeature.page.scss ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-onboardfeature ion-item {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\napp-onboardfeature ion-slides {\n  height: 100%;\n}\napp-onboardfeature a {\n  margin: 25px 10%;\n}\napp-onboardfeature .component {\n  width: 100%;\n}\napp-onboardfeature .slide-grid {\n  height: 100%;\n  overflow: scroll;\n}\napp-onboardfeature .slide-row {\n  height: 100%;\n  padding-bottom: 42px;\n}\napp-onboardfeature .slide-row-align {\n  align-items: center !important;\n}\napp-onboardfeature .slide-col {\n  height: 100%;\n}\napp-onboardfeature .moment-photo-frame {\n  margin: 10px auto;\n  width: 90%;\n  max-width: 400px;\n  /*height: 100%;\n  max-height: 180px;*/\n}\napp-onboardfeature .moment-photo-frame-small {\n  margin: 0 auto;\n  width: 20%;\n}\napp-onboardfeature .moment-photo {\n  width: 100%;\n  height: 100%;\n}\napp-onboardfeature .moment-type {\n  margin-right: 10px;\n}\napp-onboardfeature .module-number {\n  padding-left: 2%;\n  width: 8%;\n  min-width: 20px;\n}\napp-onboardfeature .moment-label {\n  width: 25px;\n  height: 25px;\n  margin-right: 20px;\n}\napp-onboardfeature .moment-input {\n  float: left;\n  opacity: 0.5;\n  margin-left: 10px;\n}\napp-onboardfeature .side-icon {\n  width: 100%;\n  height: 100%;\n}\napp-onboardfeature .textarea {\n  width: 100%;\n  margin: 15px;\n}\napp-onboardfeature .textarea.center {\n  margin: 15px auto;\n}\napp-onboardfeature .small-font {\n  font-size: 12px;\n}\napp-onboardfeature .label-title {\n  font-weight: bold;\n  max-width: 50%;\n  color: var(--ion-color-grey);\n}\napp-onboardfeature .detail {\n  color: var(--ion-color-dark);\n  text-align: right;\n  min-width: 60%;\n}\napp-onboardfeature .map-container {\n  margin: 0 auto;\n  width: 90%;\n}\napp-onboardfeature .relationship-action {\n  color: white;\n}\napp-onboardfeature .pollIconDiv .pollIcon {\n  height: 50px;\n  width: 50px;\n  margin: 5% 45%;\n}\napp-onboardfeature .pollQuestion {\n  color: black;\n  font-size: large;\n  font-style: italic;\n}\napp-onboardfeature .pollContainer {\n  width: 100%;\n  display: inline-block;\n  clear: both;\n  background-color: rgba(150, 150, 150, 0.2);\n  padding: 0 20px;\n}\napp-onboardfeature .optionsContainer {\n  float: left;\n  width: 68%;\n}\napp-onboardfeature .optionsContainer .option {\n  padding-top: 5px;\n  float: left;\n  font-size: medium;\n  font-weight: bold;\n}\napp-onboardfeature .votesContainer {\n  float: left;\n  width: 15%;\n}\napp-onboardfeature .votesContainer .votecount {\n  padding-top: 12px;\n  color: black;\n  font-size: x-small;\n}\napp-onboardfeature .userContainer {\n  float: right;\n  width: 15%;\n  padding: 0 auto;\n}\napp-onboardfeature .userContainer .uservote {\n  margin: 15px 5% 0 5%;\n  font-size: x-small;\n  width: 90%;\n  height: 30px;\n  color: black;\n}\napp-onboardfeature .userContainer .uservoted {\n  padding-top: 20px;\n  width: 30%;\n  margin: 0 40%;\n}\napp-onboardfeature .pollNotes {\n  color: black;\n  width: 100%;\n}\napp-onboardfeature .voteCount {\n  font-weight: bold;\n  color: black;\n  width: 100%;\n}\napp-onboardfeature .results-list {\n  max-height: 30vh;\n  overflow-y: scroll;\n}\napp-onboardfeature #mapCanvas {\n  height: 30vh;\n}\napp-onboardfeature #mapCanvas2 {\n  height: 30vh;\n  width: 100%;\n}\napp-onboardfeature .map-card {\n  width: 100%;\n}\napp-onboardfeature .marker {\n  display: block;\n  border: black;\n  border-radius: 50%;\n  background-color: var(--ion-color-grey);\n  cursor: pointer;\n  padding: 0;\n}\napp-onboardfeature .marker p {\n  text-align: center;\n  margin: 15% 0;\n}\napp-onboardfeature .item-container {\n  width: 100%;\n}\napp-onboardfeature .item-name {\n  margin: 10px 0 2px 0;\n  width: 100%;\n}\napp-onboardfeature .category {\n  color: var(--ion-color-grey);\n  font-style: italic;\n}\napp-onboardfeature .category {\n  color: var(--ion-color-grey);\n  font-style: italic;\n}\napp-onboardfeature .note-col {\n  height: 100%;\n  max-width: 20%;\n}\napp-onboardfeature .note {\n  float: right;\n  color: lightgrey;\n  margin: 10px 0 0 0;\n}\napp-onboardfeature .ng-resizable-handle {\n  height: 50px;\n  color: grey;\n}\napp-onboardfeature .pull-handle {\n  width: 100%;\n  height: 20px;\n}\napp-onboardfeature .pull-handle-icon {\n  margin: 0 auto;\n}\napp-onboardfeature .result-list {\n  height: 30vh;\n  width: 100%;\n}\napp-onboardfeature .participant-row {\n  width: 100%;\n}\napp-onboardfeature .participant {\n  width: 100%;\n}\napp-onboardfeature .participant-centered {\n  width: 100%;\n  height: 65px;\n  margin: auto 0 auto 0;\n}\napp-onboardfeature .participant-centered .participant-avatar {\n  margin: 0 auto;\n  top: 0;\n}\napp-onboardfeature .participant-centered .participant-joined {\n  position: absolute;\n  left: 60%;\n  top: 28px;\n}\napp-onboardfeature .participant-centered .participant-label {\n  margin: 5px auto 0 auto;\n  color: grey;\n  font-size: 12px;\n}\napp-onboardfeature .tile-grid {\n  width: 100%;\n}\napp-onboardfeature .tile-card {\n  height: 75px;\n  margin: 0 3%;\n}\napp-onboardfeature .tile-photo-container {\n  height: 75px;\n  overflow: hidden;\n}\napp-onboardfeature .tile-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-onboardfeature .tile-option-selected {\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  top: 5px;\n  right: 5px;\n  z-index: 15;\n}\napp-onboardfeature .tile-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  color: white;\n  font-size: 14px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-onboardfeature .photo-split-view {\n  height: 200px;\n  display: inline-block;\n}\napp-onboardfeature .icon-container {\n  margin: 0 auto;\n  width: 100px;\n}\napp-onboardfeature .thumbnail-item {\n  margin: 0 auto;\n  --size: 90%;\n}\napp-onboardfeature .selected-item {\n  height: 100px;\n}\napp-onboardfeature .footer-toolbar {\n  height: 58px;\n}\napp-onboardfeature .title {\n  font-size: 14px;\n  text-wrap: normal;\n}\napp-onboardfeature .subtitle {\n  font-size: 14px;\n  color: var(--ion-color-grey);\n  text-wrap: normal;\n}\napp-onboardfeature quill-editor {\n  width: 100%;\n  margin-right: 8px;\n}\napp-onboardfeature .ql-container, app-onboardfeature .ql-editor, app-onboardfeature .ql-editor.ql-blank, app-onboardfeature .ql-editor.ql-blank::before, app-onboardfeature .ql-editor.ql-blank::after {\n  -moz-user-select: text !important;\n  -ms-user-select: text !important;\n  user-select: text !important;\n  -webkit-user-select: text !important;\n}\napp-onboardfeature .ql-editor.ql-blank::before {\n  color: var(--ion-color-dark);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvb25ib2FyZGZlYXR1cmUvb25ib2FyZGZlYXR1cmUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWF0dXJlL29uYm9hcmRmZWF0dXJlL29uYm9hcmRmZWF0dXJlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0FDREo7QURJRTtFQUNFLFlBQUE7QUNGSjtBREtFO0VBQ0UsZ0JBQUE7QUNISjtBRE1FO0VBQ0UsV0FBQTtBQ0pKO0FET0U7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7QUNMSjtBRFFFO0VBQ0UsWUFBQTtFQUNBLG9CQUFBO0FDTko7QURVRTtFQUNFLDhCQUFBO0FDUko7QURXRTtFQUNFLFlBQUE7QUNUSjtBRFlFO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7RUFDQTtxQkFBQTtBQ1RKO0FEYUU7RUFDRSxjQUFBO0VBQ0EsVUFBQTtBQ1hKO0FEY0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ1pKO0FEZUU7RUFDRSxrQkFBQTtBQ2JKO0FEZ0JFO0VBQ0UsZ0JBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQ2RKO0FEaUJFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ2ZKO0FEa0JFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ2hCSjtBRG1CRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDakJKO0FEb0JFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNsQko7QURxQkU7RUFDRSxpQkFBQTtBQ25CSjtBRHNCRTtFQUNFLGVBQUE7QUNwQko7QUR1QkU7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSw0QkFBQTtBQ3JCSjtBRHdCRTtFQUNFLDRCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FDdEJKO0FEeUJFO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUN2Qko7QUQwQkU7RUFDRSxZQUFBO0FDeEJKO0FEOEJJO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0FDNUJOO0FEZ0NFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUM5Qko7QURpQ0U7RUFDRSxXQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsMENBQUE7RUFDQSxlQUFBO0FDL0JKO0FEa0NFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUNoQ0o7QURpQ0k7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FDL0JOO0FEbUNFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUNqQ0o7QURrQ0k7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ2hDTjtBRG9DRTtFQUNFLFlBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtBQ2xDSjtBRG1DSTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUNqQ047QURtQ0k7RUFDRSxpQkFBQTtFQUNBLFVBQUE7RUFDQSxhQUFBO0FDakNOO0FEcUNFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUNuQ0o7QURzQ0U7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDcENKO0FEdUNFO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQ3JDSjtBRHlDRTtFQUNFLFlBQUE7QUN2Q0o7QUQwQ0U7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQ3hDSjtBRDJDRTtFQUNFLFdBQUE7QUN6Q0o7QUQ0Q0U7RUFDRSxjQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUNBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtBQzFDSjtBRDJDSTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtBQ3pDTjtBRDZDRTtFQUNFLFdBQUE7QUMzQ0o7QUQ4Q0U7RUFDRSxvQkFBQTtFQUVBLFdBQUE7QUM3Q0o7QURnREU7RUFDRSw0QkFBQTtFQUNBLGtCQUFBO0FDOUNKO0FEaURFO0VBQ0UsNEJBQUE7RUFDQSxrQkFBQTtBQy9DSjtBRGtERTtFQUNFLFlBQUE7RUFDQSxjQUFBO0FDaERKO0FEbURFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNqREo7QURvREU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQ2xESjtBRHFERTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDbkRKO0FEc0RFO0VBQ0UsY0FBQTtBQ3BESjtBRHVERTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDckRKO0FEd0RFO0VBRUUsV0FBQTtBQ3ZESjtBRDBERTtFQUNFLFdBQUE7QUN4REo7QUQyREU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDekRKO0FEMkRJO0VBQ0UsY0FBQTtFQUNBLE1BQUE7QUN6RE47QUQ0REk7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDMUROO0FENkRJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQzNETjtBRCtERTtFQUNFLFdBQUE7QUM3REo7QURnRUU7RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQzlESjtBRGlFRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQy9ESjtBRGtFRTtFQUNFLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxlQUFBO0VBRUEsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ2pFSjtBRG9FRTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNsRUo7QURxRUU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ25FSjtBRHNFRTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtBQ3BFSjtBRHVFRTtFQUNFLGNBQUE7RUFDQSxZQUFBO0FDckVKO0FEd0VFO0VBQ0UsY0FBQTtFQUNBLFdBQUE7QUN0RUo7QUR5RUU7RUFDRSxhQUFBO0FDdkVKO0FEMEVFO0VBQ0UsWUFBQTtBQ3hFSjtBRDJFRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQ3pFSjtBRDRFRTtFQUNFLGVBQUE7RUFDQSw0QkFBQTtFQUNBLGlCQUFBO0FDMUVKO0FENkVFO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0FDM0VKO0FEOEVFO0VBRUUsaUNBQUE7RUFDQSxnQ0FBQTtFQUNBLDRCQUFBO0VBQ0Esb0NBQUE7QUM1RUo7QUQrRUU7RUFDRSw0QkFBQTtBQzdFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvb25ib2FyZGZlYXR1cmUvb25ib2FyZGZlYXR1cmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLW9uYm9hcmRmZWF0dXJlIHtcblxuICBpb24taXRlbSB7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcbiAgICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAgIC1tcy11c2VyLXNlbGVjdDogdGV4dDtcbiAgICB1c2VyLXNlbGVjdDogdGV4dDtcbiAgfVxuXG4gIGlvbi1zbGlkZXMge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIGEge1xuICAgIG1hcmdpbjogMjVweCAxMCU7XG4gIH1cblxuICAuY29tcG9uZW50IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5zbGlkZS1ncmlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5zbGlkZS1yb3cge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwYWRkaW5nLWJvdHRvbTogNDJweDtcbiAgICAvL292ZXJmbG93LXk6IHNjcm9sbFxuICB9XG5cbiAgLnNsaWRlLXJvdy1hbGlnbiB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnNsaWRlLWNvbCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLm1vbWVudC1waG90by1mcmFtZSB7XG4gICAgbWFyZ2luOiAxMHB4IGF1dG87XG4gICAgd2lkdGg6IDkwJTtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgIC8qaGVpZ2h0OiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDE4MHB4OyovXG4gIH1cblxuICAubW9tZW50LXBob3RvLWZyYW1lLXNtYWxsIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogMjAlO1xuICB9XG5cbiAgLm1vbWVudC1waG90byB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLm1vbWVudC10eXBlIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIH1cblxuICAubW9kdWxlLW51bWJlciB7XG4gICAgcGFkZGluZy1sZWZ0OiAyJTtcbiAgICB3aWR0aDogOCU7XG4gICAgbWluLXdpZHRoOiAyMHB4O1xuICB9XG5cbiAgLm1vbWVudC1sYWJlbCB7XG4gICAgd2lkdGg6IDI1cHg7XG4gICAgaGVpZ2h0OiAyNXB4O1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgfVxuXG4gIC5tb21lbnQtaW5wdXQge1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgfVxuXG4gIC5zaWRlLWljb24ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC50ZXh0YXJlYSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiAxNXB4O1xuICB9XG5cbiAgLnRleHRhcmVhLmNlbnRlciB7XG4gICAgbWFyZ2luOiAxNXB4IGF1dG87XG4gIH1cblxuICAuc21hbGwtZm9udCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG5cbiAgLmxhYmVsLXRpdGxlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXgtd2lkdGg6IDUwJTtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICB9XG5cbiAgLmRldGFpbCB7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBtaW4td2lkdGg6IDYwJTtcbiAgfVxuXG4gIC5tYXAtY29udGFpbmVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogOTAlO1xuICB9XG5cbiAgLnJlbGF0aW9uc2hpcC1hY3Rpb24ge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC8vUG9sbCBtZXNzYWdlXG4gIC5wb2xsSWNvbkRpdntcblxuICAgIC5wb2xsSWNvbntcbiAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgbWFyZ2luOiA1JSA0NSU7XG4gICAgfVxuICB9XG5cbiAgLnBvbGxRdWVzdGlvbntcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgZm9udC1zaXplOiBsYXJnZTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIH1cblxuICAucG9sbENvbnRhaW5lcntcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTAsIDE1MCwgMTUwLCAwLjIpO1xuICAgIHBhZGRpbmc6IDAgMjBweDtcbiAgfVxuXG4gIC5vcHRpb25zQ29udGFpbmVye1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHdpZHRoOiA2OCU7XG4gICAgLm9wdGlvbntcbiAgICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICB9XG5cbiAgLnZvdGVzQ29udGFpbmVye1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHdpZHRoOiAxNSU7XG4gICAgLnZvdGVjb3VudHtcbiAgICAgIHBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xuICAgIH1cbiAgfVxuXG4gIC51c2VyQ29udGFpbmVye1xuICAgIGZsb2F0OiByaWdodDtcbiAgICB3aWR0aDogMTUlO1xuICAgIHBhZGRpbmc6IDAgYXV0bztcbiAgICAudXNlcnZvdGV7XG4gICAgICBtYXJnaW46IDE1cHggNSUgMCA1JTtcbiAgICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgICAgIHdpZHRoOiA5MCU7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBjb2xvcjogYmxhY2s7XG4gICAgfVxuICAgIC51c2Vydm90ZWR7XG4gICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgIHdpZHRoOiAzMCU7XG4gICAgICBtYXJnaW46IDAgNDAlO1xuICAgIH1cbiAgfVxuXG4gIC5wb2xsTm90ZXN7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnZvdGVDb3VudHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucmVzdWx0cy1saXN0IHtcbiAgICBtYXgtaGVpZ2h0OiAzMHZoO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgfVxuXG4gIC8vIG1hcFxuICAjbWFwQ2FudmFzIHtcbiAgICBoZWlnaHQ6IDMwdmg7XG4gIH1cblxuICAjbWFwQ2FudmFzMiB7XG4gICAgaGVpZ2h0OiAzMHZoO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLm1hcC1jYXJkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5tYXJrZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJvcmRlcjogYmxhY2s7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcGFkZGluZzogMDtcbiAgICBwIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIG1hcmdpbjogMTUlIDA7XG4gICAgfVxuICB9XG5cbiAgLml0ZW0tY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5pdGVtLW5hbWUge1xuICAgIG1hcmdpbjogMTBweCAwIDJweCAwO1xuICAgIC8vZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuY2F0ZWdvcnkge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG5cbiAgLmNhdGVnb3J5IHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgfVxuXG4gIC5ub3RlLWNvbCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1heC13aWR0aDogMjAlO1xuICB9XG5cbiAgLm5vdGUge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBjb2xvcjogbGlnaHRncmV5O1xuICAgIG1hcmdpbjogMTBweCAwIDAgMDtcbiAgfVxuXG4gIC5uZy1yZXNpemFibGUtaGFuZGxlIHtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgY29sb3I6IGdyZXk7XG4gIH1cblxuICAucHVsbC1oYW5kbGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMjBweDtcbiAgfVxuXG4gIC5wdWxsLWhhbmRsZS1pY29uIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC5yZXN1bHQtbGlzdCB7XG4gICAgaGVpZ2h0OiAzMHZoO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBhcnRpY2lwYW50LXJvdyB7XG4gICAgLy9wYWRkaW5nOiAwIDEwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGFydGljaXBhbnQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnBhcnRpY2lwYW50LWNlbnRlcmVkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDY1cHg7XG4gICAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuXG4gICAgLnBhcnRpY2lwYW50LWF2YXRhciB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHRvcDogMFxuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1qb2luZWQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogNjAlO1xuICAgICAgdG9wOiAyOHB4O1xuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1sYWJlbCB7XG4gICAgICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgfVxuXG4gIC50aWxlLWdyaWQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnRpbGUtY2FyZCB7XG4gICAgaGVpZ2h0OiA3NXB4O1xuICAgIG1hcmdpbjogMCAzJTtcbiAgfVxuXG4gIC50aWxlLXBob3RvLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiA3NXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cblxuICAudGlsZS1waG90byB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIC8vb3BhY2l0eTogNTAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAudGlsZS1vcHRpb24tc2VsZWN0ZWQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IDVweDtcbiAgICB6LWluZGV4OiAxNTtcbiAgfVxuXG4gIC50aWxlLW5hbWUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDIlO1xuICAgIGxlZnQ6IDIlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnBob3RvLXNwbGl0LXZpZXcge1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmljb24tY29udGFpbmVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogMTAwcHg7XG4gIH1cblxuICAudGh1bWJuYWlsLWl0ZW0ge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIC0tc2l6ZTogOTAlO1xuICB9XG5cbiAgLnNlbGVjdGVkLWl0ZW0ge1xuICAgIGhlaWdodDogMTAwcHg7XG4gIH1cblxuICAuZm9vdGVyLXRvb2xiYXIge1xuICAgIGhlaWdodDogNThweDtcbiAgfVxuXG4gIC50aXRsZSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHRleHQtd3JhcDogbm9ybWFsO1xuICB9XG5cbiAgLnN1YnRpdGxlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgICB0ZXh0LXdyYXA6IG5vcm1hbDtcbiAgfVxuXG4gIHF1aWxsLWVkaXRvciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gIH1cblxuICAucWwtY29udGFpbmVyLC5xbC1lZGl0b3IsIC5xbC1lZGl0b3IucWwtYmxhbmssIC5xbC1lZGl0b3IucWwtYmxhbms6OmJlZm9yZSwgLnFsLWVkaXRvci5xbC1ibGFuazo6YWZ0ZXIge1xuICAgIC1raHRtbC11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgICB1c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5xbC1lZGl0b3IucWwtYmxhbms6OmJlZm9yZSB7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgfVxuXG59XG4iLCJhcHAtb25ib2FyZGZlYXR1cmUgaW9uLWl0ZW0ge1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xuICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XG4gIHVzZXItc2VsZWN0OiB0ZXh0O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIGlvbi1zbGlkZXMge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgYSB7XG4gIG1hcmdpbjogMjVweCAxMCU7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLmNvbXBvbmVudCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5zbGlkZS1ncmlkIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5zbGlkZS1yb3cge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBhZGRpbmctYm90dG9tOiA0MnB4O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5zbGlkZS1yb3ctYWxpZ24ge1xuICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnNsaWRlLWNvbCB7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubW9tZW50LXBob3RvLWZyYW1lIHtcbiAgbWFyZ2luOiAxMHB4IGF1dG87XG4gIHdpZHRoOiA5MCU7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIC8qaGVpZ2h0OiAxMDAlO1xuICBtYXgtaGVpZ2h0OiAxODBweDsqL1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5tb21lbnQtcGhvdG8tZnJhbWUtc21hbGwge1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDIwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubW9tZW50LXBob3RvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubW9tZW50LXR5cGUge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLm1vZHVsZS1udW1iZXIge1xuICBwYWRkaW5nLWxlZnQ6IDIlO1xuICB3aWR0aDogOCU7XG4gIG1pbi13aWR0aDogMjBweDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubW9tZW50LWxhYmVsIHtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5tb21lbnQtaW5wdXQge1xuICBmbG9hdDogbGVmdDtcbiAgb3BhY2l0eTogMC41O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAuc2lkZS1pY29uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudGV4dGFyZWEge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAxNXB4O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50ZXh0YXJlYS5jZW50ZXIge1xuICBtYXJnaW46IDE1cHggYXV0bztcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAuc21hbGwtZm9udCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubGFiZWwtdGl0bGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWF4LXdpZHRoOiA1MCU7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLmRldGFpbCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtaW4td2lkdGg6IDYwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubWFwLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogOTAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5yZWxhdGlvbnNoaXAtYWN0aW9uIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5wb2xsSWNvbkRpdiAucG9sbEljb24ge1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBtYXJnaW46IDUlIDQ1JTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucG9sbFF1ZXN0aW9uIHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXNpemU6IGxhcmdlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnBvbGxDb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBjbGVhcjogYm90aDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTAsIDE1MCwgMTUwLCAwLjIpO1xuICBwYWRkaW5nOiAwIDIwcHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLm9wdGlvbnNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDY4JTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAub3B0aW9uc0NvbnRhaW5lciAub3B0aW9uIHtcbiAgcGFkZGluZy10b3A6IDVweDtcbiAgZmxvYXQ6IGxlZnQ7XG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudm90ZXNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDE1JTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudm90ZXNDb250YWluZXIgLnZvdGVjb3VudCB7XG4gIHBhZGRpbmctdG9wOiAxMnB4O1xuICBjb2xvcjogYmxhY2s7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudXNlckNvbnRhaW5lciB7XG4gIGZsb2F0OiByaWdodDtcbiAgd2lkdGg6IDE1JTtcbiAgcGFkZGluZzogMCBhdXRvO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC51c2VyQ29udGFpbmVyIC51c2Vydm90ZSB7XG4gIG1hcmdpbjogMTVweCA1JSAwIDUlO1xuICBmb250LXNpemU6IHgtc21hbGw7XG4gIHdpZHRoOiA5MCU7XG4gIGhlaWdodDogMzBweDtcbiAgY29sb3I6IGJsYWNrO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC51c2VyQ29udGFpbmVyIC51c2Vydm90ZWQge1xuICBwYWRkaW5nLXRvcDogMjBweDtcbiAgd2lkdGg6IDMwJTtcbiAgbWFyZ2luOiAwIDQwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucG9sbE5vdGVzIHtcbiAgY29sb3I6IGJsYWNrO1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudm90ZUNvdW50IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiBibGFjaztcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnJlc3VsdHMtbGlzdCB7XG4gIG1heC1oZWlnaHQ6IDMwdmg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAjbWFwQ2FudmFzIHtcbiAgaGVpZ2h0OiAzMHZoO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlICNtYXBDYW52YXMyIHtcbiAgaGVpZ2h0OiAzMHZoO1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubWFwLWNhcmQge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubWFya2VyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJvcmRlcjogYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IDA7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLm1hcmtlciBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDE1JSAwO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5pdGVtLW5hbWUge1xuICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLmNhdGVnb3J5IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5jYXRlZ29yeSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAubm90ZS1jb2wge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1heC13aWR0aDogMjAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5ub3RlIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBjb2xvcjogbGlnaHRncmV5O1xuICBtYXJnaW46IDEwcHggMCAwIDA7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLm5nLXJlc2l6YWJsZS1oYW5kbGUge1xuICBoZWlnaHQ6IDUwcHg7XG4gIGNvbG9yOiBncmV5O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5wdWxsLWhhbmRsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIwcHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnB1bGwtaGFuZGxlLWljb24ge1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucmVzdWx0LWxpc3Qge1xuICBoZWlnaHQ6IDMwdmg7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5wYXJ0aWNpcGFudC1yb3cge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucGFydGljaXBhbnQge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucGFydGljaXBhbnQtY2VudGVyZWQge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2NXB4O1xuICBtYXJnaW46IGF1dG8gMCBhdXRvIDA7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnBhcnRpY2lwYW50LWNlbnRlcmVkIC5wYXJ0aWNpcGFudC1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgdG9wOiAwO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtam9pbmVkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA2MCU7XG4gIHRvcDogMjhweDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucGFydGljaXBhbnQtY2VudGVyZWQgLnBhcnRpY2lwYW50LWxhYmVsIHtcbiAgbWFyZ2luOiA1cHggYXV0byAwIGF1dG87XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnRpbGUtZ3JpZCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50aWxlLWNhcmQge1xuICBoZWlnaHQ6IDc1cHg7XG4gIG1hcmdpbjogMCAzJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAudGlsZS1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDc1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnRpbGUtcGhvdG8ge1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50aWxlLW9wdGlvbi1zZWxlY3RlZCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgdG9wOiA1cHg7XG4gIHJpZ2h0OiA1cHg7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50aWxlLW5hbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMiU7XG4gIGxlZnQ6IDIlO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB6LWluZGV4OiAxNTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAucGhvdG8tc3BsaXQtdmlldyB7XG4gIGhlaWdodDogMjAwcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAuaWNvbi1jb250YWluZXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgd2lkdGg6IDEwMHB4O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50aHVtYm5haWwtaXRlbSB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICAtLXNpemU6IDkwJTtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSAuc2VsZWN0ZWQtaXRlbSB7XG4gIGhlaWdodDogMTAwcHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLmZvb3Rlci10b29sYmFyIHtcbiAgaGVpZ2h0OiA1OHB4O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC50aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdGV4dC13cmFwOiBub3JtYWw7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnN1YnRpdGxlIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICB0ZXh0LXdyYXA6IG5vcm1hbDtcbn1cbmFwcC1vbmJvYXJkZmVhdHVyZSBxdWlsbC1lZGl0b3Ige1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XG59XG5hcHAtb25ib2FyZGZlYXR1cmUgLnFsLWNvbnRhaW5lciwgYXBwLW9uYm9hcmRmZWF0dXJlIC5xbC1lZGl0b3IsIGFwcC1vbmJvYXJkZmVhdHVyZSAucWwtZWRpdG9yLnFsLWJsYW5rLCBhcHAtb25ib2FyZGZlYXR1cmUgLnFsLWVkaXRvci5xbC1ibGFuazo6YmVmb3JlLCBhcHAtb25ib2FyZGZlYXR1cmUgLnFsLWVkaXRvci5xbC1ibGFuazo6YWZ0ZXIge1xuICAta2h0bWwtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgLW1vei11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAtbXMtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xufVxuYXBwLW9uYm9hcmRmZWF0dXJlIC5xbC1lZGl0b3IucWwtYmxhbms6OmJlZm9yZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/feature/onboardfeature/onboardfeature.page.ts":
/*!*********************************************************************!*\
  !*** ./src/app/pages/feature/onboardfeature/onboardfeature.page.ts ***!
  \*********************************************************************/
/*! exports provided: OnboardfeaturePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OnboardfeaturePage", function() { return OnboardfeaturePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/geolocation/ngx */ "./node_modules/@ionic-native/geolocation/ngx/index.js");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_response_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _connect_focus_photo_focus_photo_page__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../connect/focus-photo/focus-photo.page */ "./src/app/pages/connect/focus-photo/focus-photo.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};














var OnboardfeaturePage = /** @class */ (function () {
    function OnboardfeaturePage(zone, location, storage, cache, route, router, geolocation, platform, resourceService, authService, momentService, responseService, modalCtrl, userData, chatService) {
        this.zone = zone;
        this.location = location;
        this.storage = storage;
        this.cache = cache;
        this.route = route;
        this.router = router;
        this.geolocation = geolocation;
        this.platform = platform;
        this.resourceService = resourceService;
        this.authService = authService;
        this.momentService = momentService;
        this.responseService = responseService;
        this.modalCtrl = modalCtrl;
        this.userData = userData;
        this.chatService = chatService;
        this.slidesOpts = {
            updateOnWindowResize: true,
            autoHeight: true
        };
        this.nextButtonReady = true;
        this.activityStartTime = 0;
        this.page = 1;
        this.images = [];
        this.activities = [];
        this.matchedPeople = [];
        this.planModules = [];
        this.mediaList = [];
        this.interactableDisplay = {}; // an object of arrays of options to be listOfDisplayed
        this.responses = []; // an object of arrays of responses
        this.responseObj = {
            matrix_string: [],
            matrix_number: [],
            moment: '',
            array_number: [],
            createdAt: new Date()
        };
        this.loadCompleted = false;
        this.totalVoteCount = {};
        this.pageNum = 0;
        this.reachedEnd = true;
        this.loadAPIBusy = false;
        this.completedDefaultOnboarding = false;
        this.ionSpinner = false;
    }
    OnboardfeaturePage.prototype.ionViewWillEnter = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.resourceService.loadSystemResources()];
                    case 1:
                        result = _a.sent();
                        this.resource = result.find(function (c) { return c.field === 'Activity Components v2'; }); // return the activity components resource object in the result array
                        this.setup();
                        return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.setup = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.authService.token) {
                            this.programId = this.programId || this.route.snapshot.paramMap.get('id');
                            this.type = this.type || parseInt(this.route.snapshot.paramMap.get('type'), 10);
                            this.token = this.token || this.route.snapshot.paramMap.get('token');
                        }
                        if (this.programId === '5d5785b462489003817fee18') {
                            this.completedDefaultOnboarding = true;
                        }
                        return [4 /*yield*/, this.loadActivities()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.loadActivities = function () {
        return __awaiter(this, void 0, void 0, function () {
            var onboardingProcesses;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.loadCompleted = false;
                        if (!!this.completedDefaultOnboarding) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.momentService.loadUserPreferences(1, '5d5785b462489003817fee18', this.type || 2)];
                    case 1:
                        onboardingProcesses = _a.sent();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.momentService.loadUserPreferences(1, this.programId, this.type)];
                    case 3:
                        onboardingProcesses = _a.sent();
                        _a.label = 4;
                    case 4:
                        clearTimeout(this.loadActTimeoutHandle);
                        this.authService.incompleteOnboardProcess = onboardingProcesses.find(function (process) {
                            // first, check if the designated onboarding has any section that either has no response yet or is partially completed
                            var isIncomplete = !process.response || (process.response.matrix_number.filter(function (c) { return c.length > 5; }).length < process.resource.matrix_number[0].filter(function (c) { return (c === 40000 || c === 40020); }).length) || (process.response.matrix_string.filter(function (c) { return (c.length > 1) && (c[1].length > 0); }).length < process.resource.matrix_number[0].filter(function (c) { return (c === 40010); }).length);
                            // second, check if the process has a component that is newer than this app version
                            var versionUpToDate = true;
                            process.resource.matrix_number[0].forEach(function (componentId) {
                                if (_this.userData.versions['List of Components'].indexOf(componentId) < 0) {
                                    versionUpToDate = false;
                                }
                            });
                            return (isIncomplete && versionUpToDate) ? process : null; // if it has incomplete question and the version is up to date, return the process for display
                        });
                        if (!this.authService.incompleteOnboardProcess) return [3 /*break*/, 6];
                        this.reachedEnd = false;
                        return [4 /*yield*/, this.prepareMoment(this.authService.incompleteOnboardProcess)];
                    case 5:
                        _a.sent();
                        this.moment = this.authService.incompleteOnboardProcess;
                        this.loadCompleted = true;
                        this.ionSpinner = false;
                        setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!this.slides) return [3 /*break*/, 4];
                                        return [4 /*yield*/, this.slides.update()];
                                    case 1:
                                        _a.sent();
                                        return [4 /*yield*/, this.slides.slideTo(0)];
                                    case 2:
                                        _a.sent();
                                        return [4 /*yield*/, this.slides.lockSwipes(true)];
                                    case 3:
                                        _a.sent();
                                        _a.label = 4;
                                    case 4: return [2 /*return*/];
                                }
                            });
                        }); }, 50);
                        return [3 /*break*/, 9];
                    case 6:
                        this.moment = null;
                        if (!!this.completedDefaultOnboarding) return [3 /*break*/, 8];
                        this.ionSpinner = true;
                        return [4 /*yield*/, this.addUserToProgramUserList('5d5785b462489003817fee18', this.type || 2, this.token)];
                    case 7:
                        _a.sent();
                        this.completedDefaultOnboarding = true;
                        this.loadActivities();
                        // exit out the load animation after 8 secs. In case internet connection is lost
                        this.loadActTimeoutHandle = setTimeout(function () {
                            if (!_this.moment) {
                                _this.ionSpinner = false;
                                _this.reachedEnd = true;
                                _this.loadCompleted = true;
                            }
                        }, 8000);
                        return [3 /*break*/, 9];
                    case 8:
                        this.authService.incompleteOnboardProcess = null;
                        this.ionSpinner = false;
                        this.reachedEnd = true;
                        this.loadCompleted = true;
                        _a.label = 9;
                    case 9:
                        console.log("moment", this.moment);
                        return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.prepareMoment = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.planModules[moment._id] = [];
                moment.array_moment.forEach(function (plan_moment) {
                    _this.planModules.push(plan_moment);
                });
                // if there is any interactable
                if (moment.resource.matrix_number[0].find(function (c) { return c >= 30000 && c <= 49999; }) > -1) {
                    if (moment.response) {
                        moment.response.user = {
                            _id: this.userData.user._id,
                            first_name: this.userData.user.first_name,
                            last_name: this.userData.user.last_name,
                            avatar: this.userData.user.avatar
                        };
                        this.responses = [moment.response];
                        this.responseObj.moment = moment._id;
                        this.responseObj = moment.response; // load the response object with backend data, since it is user only response it should only have one response
                    }
                    else {
                        this.responses = [];
                        this.responseObj = {
                            matrix_string: [],
                            matrix_number: [],
                            moment: moment._id,
                            array_number: [],
                            createdAt: new Date()
                        };
                    }
                }
                // if there is any interactable that requires socket.io support
                if (moment.resource.matrix_number[0].find(function (c) { return c >= 30000 && c <= 39999; }) > -1) {
                    if (this.momentService && this.momentService.socket) {
                        this.momentService.socket.emit('join moment', moment._id);
                    }
                }
                // set up to display interactables
                moment.resource.matrix_number[0].forEach(function (componentId, componentIndex) {
                    var e_1, _a, e_2, _b, e_3, _c, e_4, _d;
                    if (moment.resource.matrix_number[2]) {
                        var interactableId_1 = moment.resource.matrix_number[2][componentIndex]; // if interactable, grab the createdAt timestamp
                        if (componentId === 30000) { // poll
                            _this.interactableDisplay[interactableId_1] = [];
                            try {
                                for (var _e = __values(moment.matrix_string[componentIndex]), _f = _e.next(); !_f.done; _f = _e.next()) { // set up the poll options
                                    var option = _f.value;
                                    _this.interactableDisplay[interactableId_1].push({ option: option, count: 0, votedByUser: false });
                                }
                            }
                            catch (e_1_1) { e_1 = { error: e_1_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
                                }
                                finally { if (e_1) throw e_1.error; }
                            }
                            _this.totalVoteCount[interactableId_1] = 0;
                            _this.setupPollDisplay(moment, interactableId_1, componentIndex);
                        }
                        else if (componentId === 40000) { // multiple choice
                            _this.interactableDisplay[interactableId_1] = [];
                            try {
                                for (var _g = __values(moment.matrix_string[componentIndex]), _h = _g.next(); !_h.done; _h = _g.next()) { // set up the interactable options
                                    var option = _h.value;
                                    _this.interactableDisplay[interactableId_1].push({ option: option, selectedByUser: false });
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                            _this.setupInteractableDisplay(moment, interactableId_1, componentIndex);
                        }
                        else if (componentId === 40010) { // text answer
                            _this.interactableDisplay[interactableId_1] = [];
                            try {
                                for (var _j = __values(_this.responseObj.matrix_string), _k = _j.next(); !_k.done; _k = _j.next()) { // process the text answer responses
                                    var interactable = _k.value;
                                    if (interactableId_1.toString() === interactable[0]) { // interactableId is a Number
                                        var content = void 0;
                                        if (interactable.length > 2 && interactable[2]) {
                                            content = JSON.parse(interactable[2]);
                                        }
                                        else { // for backward compatibility before quill, need to build the content object from scratch
                                            content = { ops: [{ insert: interactable[1] + '\n' }] };
                                        }
                                        _this.interactableDisplay[interactableId_1].content = content; // insert the response data into the display matrix
                                        // prep the user's own response Obj, in case response needs to be sent out without the user changing the text answer and it will still grab the latest response text answer
                                        var updatedExistingResponse = void 0;
                                        try {
                                            for (var _l = __values(_this.responseObj.matrix_string), _m = _l.next(); !_m.done; _m = _l.next()) {
                                                var responseInteractable = _m.value;
                                                if (responseInteractable[0] === interactableId_1.toString()) { // InteractableId is in Number
                                                    responseInteractable = interactable;
                                                    updatedExistingResponse = true;
                                                }
                                            }
                                        }
                                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
                                        finally {
                                            try {
                                                if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
                                            }
                                            finally { if (e_4) throw e_4.error; }
                                        }
                                        if (!updatedExistingResponse) { // add a new entry to array
                                            _this.responseObj.matrix_number.push([interactableId_1]);
                                            _this.responseObj.matrix_string.push(interactable);
                                        }
                                    }
                                }
                            }
                            catch (e_3_1) { e_3 = { error: e_3_1 }; }
                            finally {
                                try {
                                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
                                }
                                finally { if (e_3) throw e_3.error; }
                            }
                        }
                        else if (componentId === 40020) { // tile choice
                            _this.interactableDisplay[interactableId_1] = {};
                            moment.matrix_string[componentIndex].forEach(function (option, option_index) {
                                if (option_index % 2 === 0) { // only even number, i.e. 0, 2, 4, 6
                                    _this.interactableDisplay[interactableId_1][moment.matrix_number[componentIndex][option_index + 5].toString()] = { createdAt: moment.matrix_number[componentIndex][option_index + 5], option: option, image: moment.matrix_string[componentIndex][option_index + 1], selectedByUser: false };
                                }
                            });
                            _this.setupInteractableDisplay(moment, interactableId_1, componentIndex);
                        }
                    }
                });
                // add a blank slide at the end of each questionniare: provide a place to transition to the next questionnaire
                moment.resource.matrix_number[0].push(0);
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.setupPollDisplay = function (moment, interactableId, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_5, _a, e_6, _b, _c, _d, response, _e, _f, interactable;
            return __generator(this, function (_g) {
                try {
                    for (_c = __values(this.responses), _d = _c.next(); !_d.done; _d = _c.next()) {
                        response = _d.value;
                        try {
                            for (_e = __values(response.matrix_number), _f = _e.next(); !_f.done; _f = _e.next()) {
                                interactable = _f.value;
                                if (interactableId === interactable[0]) {
                                    this.totalVoteCount[interactableId]++; // set up the total vote count
                                    if (interactable[1] > (moment.matrix_string[componentIndex].length - 1)) {
                                        return [2 /*return*/]; // if this response belongs to an option that has been deleted
                                    }
                                    if (response.user._id === this.userData.user._id) {
                                        this.interactableDisplay[interactableId][interactable[1]].votedByUser = true;
                                    }
                                    this.interactableDisplay[interactableId][interactable[1]].count++;
                                }
                            }
                        }
                        catch (e_6_1) { e_6 = { error: e_6_1 }; }
                        finally {
                            try {
                                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                            }
                            finally { if (e_6) throw e_6.error; }
                        }
                    }
                }
                catch (e_5_1) { e_5 = { error: e_5_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_5) throw e_5.error; }
                }
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.voteOnPoll = function (event, componentIndex, pollOptionIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_7, _a, interactableId, updatedExistingVote, _b, _c, interactable;
            return __generator(this, function (_d) {
                event.stopPropagation();
                interactableId = this.moment.resource.matrix_number[2][componentIndex];
                updatedExistingVote = false;
                try {
                    for (_b = __values(this.responseObj.matrix_number), _c = _b.next(); !_c.done; _c = _b.next()) {
                        interactable = _c.value;
                        if (interactable[0] === interactableId) {
                            interactable[1] = pollOptionIndex; // update an existing vote
                            updatedExistingVote = true;
                        }
                    }
                }
                catch (e_7_1) { e_7 = { error: e_7_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_7) throw e_7.error; }
                }
                if (!updatedExistingVote) { // submit a new vote
                    this.responseObj.matrix_number.push([interactableId, pollOptionIndex]);
                }
                //this.responseObj.moment = this.moment._id;
                this.responseObj.array_number = this.moment.resource.matrix_number[0];
                this.responseObj.createdAt = new Date();
                this.momentService.submitResponse(this.moment, this.responseObj, true);
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.setupInteractableDisplay = function (moment, interactableId, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_8, _a, e_9, _b, _c, _d, response, _e, _f, interactable, i;
            return __generator(this, function (_g) {
                try {
                    for (_c = __values(this.responses), _d = _c.next(); !_d.done; _d = _c.next()) {
                        response = _d.value;
                        try {
                            for (_e = __values(response.matrix_number), _f = _e.next(); !_f.done; _f = _e.next()) {
                                interactable = _f.value;
                                if (interactableId === interactable[0]) {
                                    if (interactable.length - 5 > moment.matrix_string[componentIndex].length) {
                                        return [2 /*return*/]; // if this response belongs to an option that has been deleted
                                    }
                                    if (response.user._id === this.userData.user._id) {
                                        for (i = 5; i < interactable.length; i++) {
                                            if (moment.resource.matrix_number[0][componentIndex] === 40020) { // for tile choice, the response records the user's choice using the option's createdAt timestamp [200819285102, 201928523192, etc]
                                                this.interactableDisplay[interactableId][interactable[i].toString()].selectedByUser = true;
                                            }
                                            else { // for older interactables (e.g. multiple choice), response records the user's choice using the option index [1, 5, 4]
                                                this.interactableDisplay[interactableId][interactable[i]].selectedByUser = true;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        catch (e_9_1) { e_9 = { error: e_9_1 }; }
                        finally {
                            try {
                                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                            }
                            finally { if (e_9) throw e_9.error; }
                        }
                    }
                }
                catch (e_8_1) { e_8 = { error: e_8_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_8) throw e_8.error; }
                }
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.respondToInteractable = function (event, componentIndex, interactableOption) {
        return __awaiter(this, void 0, void 0, function () {
            var e_10, _a, e_11, _b, interactableId, updatedExistingResponse, _c, _d, interactable, i, maxNumOfSelections, response, listOfResponseIds, index, _e, _f, key;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        event.stopPropagation();
                        interactableId = this.moment.resource.matrix_number[2][componentIndex];
                        updatedExistingResponse = false;
                        try {
                            for (_c = __values(this.responseObj.matrix_number), _d = _c.next(); !_d.done; _d = _c.next()) {
                                interactable = _d.value;
                                if (interactable[0] === interactableId) {
                                    for (i = interactable.length - 1; i > 4; i--) {
                                        if (interactable[i] === interactableOption) { // de-select an existing selection
                                            interactable.splice(i, 1);
                                            updatedExistingResponse = true;
                                        }
                                    }
                                    if (!updatedExistingResponse) { // append a new selection
                                        interactable.push(interactableOption);
                                        updatedExistingResponse = true;
                                        maxNumOfSelections = 1;
                                        if (this.moment.matrix_number[componentIndex][0]) { // if multiple selection is on
                                            maxNumOfSelections = this.moment.matrix_number[componentIndex][1] || this.moment.matrix_string[componentIndex].length; // if max number of selections has not been set (null), use the number of available options
                                        }
                                        while ((interactable.length - 5) > maxNumOfSelections) { // splice the oldest selection until it satisfies the max num of selections
                                            interactable.splice(5, 1);
                                        }
                                    }
                                }
                            }
                        }
                        catch (e_10_1) { e_10 = { error: e_10_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                            }
                            finally { if (e_10) throw e_10.error; }
                        }
                        if (!updatedExistingResponse) { // add a new entry to array
                            this.responseObj.matrix_number.push([interactableId, null, null, null, null, interactableOption]);
                        }
                        // this.responseObj.moment = this.moment._id;
                        this.responseObj.array_number = this.moment.resource.matrix_number[0];
                        this.responseObj.createdAt = new Date();
                        return [4 /*yield*/, this.momentService.submitResponse(this.moment, this.responseObj, false)];
                    case 1:
                        response = _g.sent();
                        listOfResponseIds = this.responses.map(function (c) { return c._id; });
                        index = listOfResponseIds.indexOf(response._id);
                        if (index < 0) { // if the response hasn't been added to the response list
                            this.responses.push(response);
                        }
                        else { // if it has been added, replace with the incoming one
                            this.responses.splice(index, 1, response);
                        }
                        // reset MC selection
                        if (this.moment.resource.matrix_number[0][componentIndex] === 40020) {
                            try {
                                for (_e = __values(Object.keys(this.interactableDisplay[interactableId])), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    key = _f.value;
                                    this.interactableDisplay[interactableId][key].selectedByUser = false;
                                }
                            }
                            catch (e_11_1) { e_11 = { error: e_11_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                                }
                                finally { if (e_11) throw e_11.error; }
                            }
                        }
                        else {
                            this.interactableDisplay[interactableId].forEach(function (interactableOption) {
                                interactableOption.selectedByUser = false;
                            });
                        }
                        this.setupInteractableDisplay(this.moment, interactableId, componentIndex);
                        return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.respondToTextArea = function (event, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_12, _a, updatedExistingResponse, interactableId, _b, _c, interactable;
            var _this = this;
            return __generator(this, function (_d) {
                this.nextButtonReady = false;
                clearTimeout(this.timeoutHandle);
                updatedExistingResponse = false;
                interactableId = this.moment.resource.matrix_number[2][componentIndex];
                try {
                    for (_b = __values(this.responseObj.matrix_string), _c = _b.next(); !_c.done; _c = _b.next()) {
                        interactable = _c.value;
                        if (interactable[0] === interactableId.toString() && this.interactableDisplay[interactableId].editor) { // InteractableId is in Number
                            interactable[1] = event.text;
                            interactable[2] = JSON.stringify(this.interactableDisplay[interactableId].editor.getContents()); //JSON.stringify(event.content);
                            interactable[3] = JSON.stringify(event.delta);
                            updatedExistingResponse = true;
                        }
                    }
                }
                catch (e_12_1) { e_12 = { error: e_12_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_12) throw e_12.error; }
                }
                if (!updatedExistingResponse) { // add a new entry to array
                    this.responseObj.matrix_number.push([interactableId]);
                    this.responseObj.matrix_string.push([interactableId.toString(), event.text, JSON.stringify(event.content), JSON.stringify(event.delta)]);
                }
                this.timeoutHandle = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                    var response, index;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.momentService.submitResponse(this.moment, this.responseObj, false)];
                            case 1:
                                response = _a.sent();
                                index = this.responses.map(function (c) { return c._id; }).indexOf(response._id);
                                if (index < 0) { // if the response hasn't been added to the response list
                                    this.responses.push(response);
                                }
                                else { // if it has been added, replace with the incoming one
                                    this.responses.splice(index, 1, response);
                                }
                                if (this.moment.program) {
                                    this.userData.refreshUserStatus({});
                                }
                                this.nextButtonReady = true;
                                return [2 /*return*/];
                        }
                    });
                }); }, 3000);
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.slideChanges = function () {
        return __awaiter(this, void 0, void 0, function () {
            var currentSlideIndex;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.slides) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.slides.getActiveIndex()];
                    case 1:
                        currentSlideIndex = _a.sent();
                        // if slide from the last slide
                        console.log("change", currentSlideIndex, this.moment.resource.matrix_number[0].slice(this.moment.resource.matrix_number[0].indexOf(20010) + 1).length - 1);
                        if (!(currentSlideIndex >= this.moment.resource.matrix_number[0].slice(this.moment.resource.matrix_number[0].indexOf(20010) + 1).length - 1)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.loadActivities()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.clickNextButton = function (direction) {
        if (!this.moment)
            return;
        this.slides.lockSwipes(false);
        if (direction === 'prev') {
            this.slides.slidePrev();
        }
        else {
            this.slides.slideNext();
        }
        this.slides.lockSwipes(true);
    };
    OnboardfeaturePage.prototype.seeUserInfo = function (event, user) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (event)
                    event.stopPropagation();
                user.name = user.first_name + ' ' + user.last_name;
                this.userData.refreshUserStatus({ type: 'show recipient', data: { recipient: user, modalPage: true } });
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.createQuillEditor = function (event, interactableDisplay) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                interactableDisplay.editor = event;
                interactableDisplay.editor.setContents(interactableDisplay.content, 'silent');
                console.log("display", interactableDisplay);
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.prototype.joinVideoConference = function (event, moment) {
        event.stopPropagation();
        if (moment.resource.matrix_number[0].find(function (c) { return c === 10600; })) {
            if (moment.conversation) {
                this.chatService.toggleVideoChat({
                    videoChatRoomId: moment.conversation,
                    channelLastN: '6',
                    startWithAudioMuted: true,
                    startWithVideoMuted: false
                });
            }
            else {
                console.log("missing moment's conversation id");
            }
        }
    };
    OnboardfeaturePage.prototype.initPlyr = function (event, mediaId) {
        var player;
        player = event;
        this.mediaList.push({ _id: mediaId, player: player });
    };
    OnboardfeaturePage.prototype.destroyPlayers = function (mediaId) {
        var e_13, _a;
        if (mediaId) {
            var media = this.mediaList.find(function (c) { return c._id === mediaId; });
            media.player.destroy();
        }
        else {
            try {
                for (var _b = __values(this.mediaList), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var media = _c.value;
                    media.player.destroy();
                }
            }
            catch (e_13_1) { e_13 = { error: e_13_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_13) throw e_13.error; }
            }
        }
    };
    OnboardfeaturePage.prototype.focusPhoto = function (event, object) {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.modalCtrl.create({ component: _connect_focus_photo_focus_photo_page__WEBPACK_IMPORTED_MODULE_13__["FocusPhotoPage"], componentProps: { imageUri: object } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // this function is used by Angular *ngFor to track the dynamic DOM creation and destruction
    OnboardfeaturePage.prototype.customTrackBy = function (index, item) {
        return index;
    };
    OnboardfeaturePage.prototype.addUserToProgramUserList = function (programId, type, token) {
        return __awaiter(this, void 0, void 0, function () {
            var user_list, url;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!programId) return [3 /*break*/, 9];
                        user_list = '';
                        switch (type) {
                            case 2: // participants
                                user_list = 'user_list_1';
                                break;
                            case 3: // organizers
                                user_list = 'user_list_2';
                                break;
                            case 4: //leaders
                                user_list = 'user_list_3';
                                break;
                            default:
                                user_list = 'user_list_1';
                                type = 2;
                        }
                        return [4 /*yield*/, this.momentService.addUserToProgramUserList(programId, user_list, type, token, this.completedDefaultOnboarding)];
                    case 1:
                        _a.sent();
                        if (!this.completedDefaultOnboarding) return [3 /*break*/, 8];
                        if (!this.modalPage) return [3 /*break*/, 2];
                        this.router.navigate([this.authService.cachedRouteUrl]); // in response to finishing up a program onboarding (programId is provided), it should have cachedRouteUrl
                        this.modalCtrl.dismiss(true);
                        setTimeout(function () {
                            // only exclude ios mobile web, coz iOS browers hasn't allowed swPush yet
                            if (_this.platform.is('ios') && !_this.platform.is('mobileweb')) {
                                _this.userData.checkPushNotification();
                            }
                        }, 10000);
                        return [3 /*break*/, 8];
                    case 2:
                        if (!(programId === '5d5785b462489003817fee18')) return [3 /*break*/, 7];
                        url = this.authService.cachedRouteUrl || '/app/discover/home/5d5785b462489003817fee18';
                        if (!this.authService.cachedRouteParams) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.router.navigate([url, this.authService.cachedRouteParams], { replaceUrl: true })];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 6];
                    case 4: return [4 /*yield*/, this.router.navigate([url], { replaceUrl: true })];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        this.authService.cachedRouteUrl = null;
                        return [3 /*break*/, 8];
                    case 7:
                        this.router.navigate(['/app/discover/home/' + programId], { replaceUrl: true });
                        _a.label = 8;
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        this.modalCtrl.dismiss(true);
                        _a.label = 10;
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    OnboardfeaturePage.prototype.back = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                //const currentSlideIndex = await this.slides.getActiveIndex();
                if (this.modalPage) {
                    this.modalCtrl.dismiss(false);
                }
                else {
                    this.location.back();
                }
                return [2 /*return*/];
            });
        });
    };
    OnboardfeaturePage.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_3__["CacheService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
        { type: _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_5__["Geolocation"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_6__["Resource"] },
        { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_12__["Auth"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_8__["Moment"] },
        { type: _services_response_service__WEBPACK_IMPORTED_MODULE_7__["Response"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_10__["Chat"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonContent"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonContent"])
    ], OnboardfeaturePage.prototype, "content", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonSlides"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonSlides"])
    ], OnboardfeaturePage.prototype, "slides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"])
    ], OnboardfeaturePage.prototype, "infiniteScroll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], OnboardfeaturePage.prototype, "modalPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], OnboardfeaturePage.prototype, "programId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], OnboardfeaturePage.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], OnboardfeaturePage.prototype, "token", void 0);
    OnboardfeaturePage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-onboardfeature',
            template: __importDefault(__webpack_require__(/*! raw-loader!./onboardfeature.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/onboardfeature/onboardfeature.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./onboardfeature.page.scss */ "./src/app/pages/feature/onboardfeature/onboardfeature.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            ionic_cache__WEBPACK_IMPORTED_MODULE_3__["CacheService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_5__["Geolocation"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_6__["Resource"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_12__["Auth"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_8__["Moment"],
            _services_response_service__WEBPACK_IMPORTED_MODULE_7__["Response"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_10__["Chat"]])
    ], OnboardfeaturePage);
    return OnboardfeaturePage;
}());



/***/ }),

/***/ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.module.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/pages/feature/pickfeature-popover/pickfeature-popover.module.ts ***!
  \*********************************************************************************/
/*! exports provided: PickfeaturePopoverPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickfeaturePopoverPageModule", function() { return PickfeaturePopoverPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pickfeature-popover.page */ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.ts");
/* harmony import */ var _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../pipes/application-pipes */ "./src/app/pipes/application-pipes.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};







var routes = [
    {
        path: '',
        component: _pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_5__["PickfeaturePopoverPage"]
    }
];
var PickfeaturePopoverPageModule = /** @class */ (function () {
    function PickfeaturePopoverPageModule() {
    }
    PickfeaturePopoverPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_6__["ApplicationPipesModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_pickfeature_popover_page__WEBPACK_IMPORTED_MODULE_5__["PickfeaturePopoverPage"]]
        })
    ], PickfeaturePopoverPageModule);
    return PickfeaturePopoverPageModule;
}());



/***/ }),

/***/ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.scss ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-pickfeature-popover .new-section {\n  padding-top: 8px;\n}\napp-pickfeature-popover .program-title {\n  color: var(--ion-color-grey);\n}\napp-pickfeature-popover .category-card {\n  opacity: 0.3;\n}\napp-pickfeature-popover .program-row {\n  max-height: 70%;\n  overflow: scroll;\n}\napp-pickfeature-popover .program-card {\n  width: auto;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 3%;\n}\napp-pickfeature-popover .program-photo-container {\n  height: 80px;\n  overflow: hidden;\n}\napp-pickfeature-popover .program-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  margin: auto;\n  display: block;\n}\napp-pickfeature-popover .program-type {\n  position: absolute;\n  top: 2%;\n  left: 2%;\n  font-size: 12px;\n  cursor: pointer;\n}\napp-pickfeature-popover .program-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  font-size: 12px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-pickfeature-popover .info-moment {\n  position: absolute;\n  top: 0;\n  right: 2px;\n}\napp-pickfeature-popover .remove-moment {\n  position: absolute;\n  top: 0;\n  right: 2px;\n}\napp-pickfeature-popover .dark {\n  color: var(--ion-color-darkgrey);\n}\napp-pickfeature-popover .light {\n  color: white;\n}\napp-pickfeature-popover .full-height {\n  height: 100%;\n}\napp-pickfeature-popover .grid-row {\n  overflow: scroll;\n}\napp-pickfeature-popover .selected {\n  opacity: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvcGlja2ZlYXR1cmUtcG9wb3Zlci9waWNrZmVhdHVyZS1wb3BvdmVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZmVhdHVyZS9waWNrZmVhdHVyZS1wb3BvdmVyL3BpY2tmZWF0dXJlLXBvcG92ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0UsZ0JBQUE7QUNESjtBRElFO0VBQ0UsNEJBQUE7QUNGSjtBREtFO0VBQ0UsWUFBQTtBQ0hKO0FETUU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNKSjtBRE9FO0VBQ0UsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxZQUFBO0FDTEo7QURRRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQ05KO0FEU0U7RUFDRSxvQkFBQTtLQUFBLGlCQUFBO0VBQ0EsZUFBQTtFQUVBLFlBQUE7RUFFQSxZQUFBO0VBQ0EsY0FBQTtBQ1RKO0FEYUU7RUFDRSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNYSjtBRGNFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ1pKO0FEZUU7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0FDYko7QURnQkU7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0FDZEo7QURpQkU7RUFDRSxnQ0FBQTtBQ2ZKO0FEa0JFO0VBQ0UsWUFBQTtBQ2hCSjtBRG1CRTtFQUNFLFlBQUE7QUNqQko7QURvQkU7RUFFRSxnQkFBQTtBQ25CSjtBRHVCRTtFQUNFLFVBQUE7QUNyQkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWF0dXJlL3BpY2tmZWF0dXJlLXBvcG92ZXIvcGlja2ZlYXR1cmUtcG9wb3Zlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciB7XG5cbiAgLm5ldy1zZWN0aW9uIHtcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xuICB9XG5cbiAgLnByb2dyYW0tdGl0bGUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIH1cblxuICAuY2F0ZWdvcnktY2FyZCB7XG4gICAgb3BhY2l0eTogMC4zO1xuICB9XG5cbiAgLnByb2dyYW0tcm93IHtcbiAgICBtYXgtaGVpZ2h0OiA3MCU7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5wcm9ncmFtLWNhcmQge1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gICAgbWFyZ2luOiAwIDMlO1xuICB9XG5cbiAgLnByb2dyYW0tcGhvdG8tY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDgwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5wcm9ncmFtLXBob3RvIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgLy9vcGFjaXR5OiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIC8vd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIC8vbWF4LWhlaWdodDogMjAwcHg7XG4gIH1cblxuICAucHJvZ3JhbS10eXBlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAyJTtcbiAgICBsZWZ0OiAyJTtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgLnByb2dyYW0tbmFtZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogMiU7XG4gICAgbGVmdDogMiU7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB6LWluZGV4OiAxNTtcbiAgfVxuXG4gIC5pbmZvLW1vbWVudCB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMnB4O1xuICB9XG5cbiAgLnJlbW92ZS1tb21lbnQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDJweDtcbiAgfVxuXG4gIC5kYXJrIHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmtncmV5KTtcbiAgfVxuXG4gIC5saWdodCB7XG4gICAgY29sb3I6IHdoaXRlO1xuICB9XG5cbiAgLmZ1bGwtaGVpZ2h0IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAuZ3JpZC1yb3cge1xuICAgIC8vYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gIH1cblxuXG4gIC5zZWxlY3RlZCB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxufSIsImFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5uZXctc2VjdGlvbiB7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAucHJvZ3JhbS10aXRsZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAuY2F0ZWdvcnktY2FyZCB7XG4gIG9wYWNpdHk6IDAuMztcbn1cbmFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5wcm9ncmFtLXJvdyB7XG4gIG1heC1oZWlnaHQ6IDcwJTtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cbmFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5wcm9ncmFtLWNhcmQge1xuICB3aWR0aDogYXV0bztcbiAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgbWFyZ2luOiAwIDMlO1xufVxuYXBwLXBpY2tmZWF0dXJlLXBvcG92ZXIgLnByb2dyYW0tcGhvdG8tY29udGFpbmVyIHtcbiAgaGVpZ2h0OiA4MHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLXBpY2tmZWF0dXJlLXBvcG92ZXIgLnByb2dyYW0tcGhvdG8ge1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAucHJvZ3JhbS10eXBlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDIlO1xuICBsZWZ0OiAyJTtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAucHJvZ3JhbS1uYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDIlO1xuICBsZWZ0OiAyJTtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLXBpY2tmZWF0dXJlLXBvcG92ZXIgLmluZm8tbW9tZW50IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAycHg7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAucmVtb3ZlLW1vbWVudCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMnB4O1xufVxuYXBwLXBpY2tmZWF0dXJlLXBvcG92ZXIgLmRhcmsge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmtncmV5KTtcbn1cbmFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5saWdodCB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbmFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5mdWxsLWhlaWdodCB7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1waWNrZmVhdHVyZS1wb3BvdmVyIC5ncmlkLXJvdyB7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG59XG5hcHAtcGlja2ZlYXR1cmUtcG9wb3ZlciAuc2VsZWN0ZWQge1xuICBvcGFjaXR5OiAxO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.ts ***!
  \*******************************************************************************/
/*! exports provided: PickfeaturePopoverPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickfeaturePopoverPage", function() { return PickfeaturePopoverPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};









var PickfeaturePopoverPage = /** @class */ (function () {
    function PickfeaturePopoverPage(router, alertCtrl, cache, resourceService, navParams, modalCtrl, momentService, userData, chatService, calendarService) {
        var _this = this;
        this.router = router;
        this.alertCtrl = alertCtrl;
        this.cache = cache;
        this.resourceService = resourceService;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.momentService = momentService;
        this.userData = userData;
        this.chatService = chatService;
        this.calendarService = calendarService;
        this.allowCreate = false;
        this.allowSwitchCategory = true;
        this.maxMomentCount = 10; // default max Moment count is 10
        this.searchKeyword = '';
        this.currentView = 'new';
        this.samples = [];
        this.ionSpinner = false;
        this.pageNum = 0;
        this.reachedEnd = false;
        this.selectedMoments = [];
        this.step = 1;
        this.subscriptions = {};
        this.refreshAfterCreateMomentHandler = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.currentView = 'recent';
                return [2 /*return*/];
            });
        }); };
    }
    PickfeaturePopoverPage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var index;
            return __generator(this, function (_a) {
                // if picker for Onboarding Processes or if it is pre-selected via Input, assign categoryId the proceed to step 2
                if (this.categoryId) { // if category is provided, skip to step 2
                    this.step = 2;
                    this.loadSamples();
                }
                else { // otherwise, assign Relationship as default
                    this.categoryId = '5dfdbb547b00ea76b75e5a70'; // Relationship
                }
                if (this.conversationId) {
                    index = this.chatService.conversations.map(function (c) { return c.conversation._id; }).indexOf(this.conversationId);
                    if (index > -1) {
                        this.conversation = this.chatService.conversations[index].conversation;
                    }
                }
                this.subscriptions['refresh'] = this.userData.refreshUserStatus$.subscribe(this.refreshAfterCreateMomentHandler);
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.loadSamples = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        this.reachedEnd = false;
                        this.samples = [{}];
                        this.pageNum = 0;
                        this.loadMoreSamples();
                        return [2 /*return*/];
                    });
                }); }, 50);
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.loadMoreSamples = function () {
        return __awaiter(this, void 0, void 0, function () {
            var samples;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.pageNum++;
                        if (!!this.reachedEnd) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.momentService.loadSampleActivities(this.categoryId)];
                    case 1:
                        samples = _a.sent();
                        this.ionSpinner = false;
                        // temp overide the paging function: i.e. only load page 1
                        this.reachedEnd = true;
                        if (!samples.length) {
                            this.reachedEnd = true;
                        }
                        else {
                            this.samples = samples;
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        this.ionSpinner = false;
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    PickfeaturePopoverPage.prototype.selectCategory = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadSamples()];
                    case 1:
                        _a.sent();
                        this.step = 2;
                        this.allowCreate = (this.categoryId === '5c915324e172e4e64590e346'); // if Community, allow Create new
                        return [2 /*return*/];
                }
            });
        });
    };
    PickfeaturePopoverPage.prototype.selectCalendarItem = function (calendarItem) {
        // restore moment as parent and calendar as child object
        var selectedCalendar = JSON.parse(JSON.stringify(calendarItem));
        var selectedMoment = JSON.parse(JSON.stringify(calendarItem.moment));
        selectedCalendar.moment = selectedMoment._id;
        selectedMoment.calendar = selectedCalendar;
        if (this.conversation) {
            selectedMoment.conversations = [this.conversation];
        }
        selectedMoment.type = 'recent';
        this.selectedMoments.push(selectedMoment);
        if (this.selectedMoments.length > this.maxMomentCount) {
            this.selectedMoments.splice(0, 1);
        }
    };
    PickfeaturePopoverPage.prototype.selectSample = function (sample) {
        if (this.conversation) {
            sample.conversations = [this.conversation];
        }
        sample.type = 'new'; // type 'new' is used in parent component to indicate that a selected moment needs to be cloned
        this.selectedMoments.push(sample);
        if (this.selectedMoments.length > this.maxMomentCount) {
            this.selectedMoments.splice(0, 1);
        }
    };
    PickfeaturePopoverPage.prototype.openFeature = function (event, moment) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                event.stopPropagation();
                this.momentService.openMoment({ moment: moment, modalPage: true });
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.removeMoment = function (i) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.selectedMoments.splice(i, 1);
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.done = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.modalCtrl.dismiss(this.selectedMoments);
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.createMoment = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.categoryId === '5c915324e172e4e64590e346') { // create a community
                    this.close();
                    this.router.navigate(['/app/create/community', { categoryId: this.categoryId }]);
                }
                else { // create other Activities
                    this.close(); // close the Picker, then open up the create view.
                    this.momentService.editMoment({ categoryId: this.categoryId, programId: this.programId, parent_programId: this.parent_programId, conversationId: this.conversation ? this.conversation._id : null, modalPage: true });
                }
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.changeView = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.currentView = event.detail.value;
                return [2 /*return*/];
            });
        });
    };
    PickfeaturePopoverPage.prototype.back = function () {
        if (this.step > 1 && this.allowSwitchCategory) {
            this.allowCreate = false;
            this.step--;
        }
        else {
            this.close();
        }
    };
    PickfeaturePopoverPage.prototype.close = function () {
        this.modalCtrl.dismiss();
        this.subscriptions['refresh'].unsubscribe(this.refreshAfterCreateMomentHandler);
    };
    PickfeaturePopoverPage.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"] },
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_4__["CacheService"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_5__["Resource"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_6__["Moment"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_2__["Chat"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_3__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickfeaturePopoverPage.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickfeaturePopoverPage.prototype, "categoryId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], PickfeaturePopoverPage.prototype, "programId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], PickfeaturePopoverPage.prototype, "type", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], PickfeaturePopoverPage.prototype, "parent_programId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], PickfeaturePopoverPage.prototype, "conversationId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickfeaturePopoverPage.prototype, "allowCreate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickfeaturePopoverPage.prototype, "allowSwitchCategory", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickfeaturePopoverPage.prototype, "maxMomentCount", void 0);
    PickfeaturePopoverPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pickfeature-popover',
            template: __importDefault(__webpack_require__(/*! raw-loader!./pickfeature-popover.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./pickfeature-popover.page.scss */ "./src/app/pages/feature/pickfeature-popover/pickfeature-popover.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            ionic_cache__WEBPACK_IMPORTED_MODULE_4__["CacheService"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_5__["Resource"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_6__["Moment"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_2__["Chat"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_3__["CalendarService"]])
    ], PickfeaturePopoverPage);
    return PickfeaturePopoverPage;
}());



/***/ }),

/***/ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.module.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/pages/feature/pickpeople-popover/pickpeople-popover.module.ts ***!
  \*******************************************************************************/
/*! exports provided: PickpeoplePopoverPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickpeoplePopoverPageModule", function() { return PickpeoplePopoverPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pickpeople-popover.page */ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var routes = [
    {
        path: '',
        component: _pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_5__["PickpeoplePopoverPage"]
    }
];
var PickpeoplePopoverPageModule = /** @class */ (function () {
    function PickpeoplePopoverPageModule() {
    }
    PickpeoplePopoverPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_5__["PickpeoplePopoverPage"]]
        })
    ], PickpeoplePopoverPageModule);
    return PickpeoplePopoverPageModule;
}());



/***/ }),

/***/ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.scss ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-pickpeople-popover ion-card-title {\n  font-size: 18px;\n}\napp-pickpeople-popover .card-description {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\napp-pickpeople-popover .full-height {\n  height: 100%;\n}\napp-pickpeople-popover .grid-row {\n  overflow: scroll;\n}\napp-pickpeople-popover .selected-buttons {\n  display: block;\n  max-height: 60px;\n  overflow-y: scroll;\n  width: 100%;\n  padding: 0 5px;\n}\napp-pickpeople-popover .avatar {\n  width: 40px !important;\n  height: 40px !important;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvcGlja3Blb3BsZS1wb3BvdmVyL3BpY2twZW9wbGUtcG9wb3Zlci5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvcGlja3Blb3BsZS1wb3BvdmVyL3BpY2twZW9wbGUtcG9wb3Zlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUU7RUFDRSxlQUFBO0FDREo7QURJRTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7QUNGSjtBREtFO0VBQ0UsWUFBQTtBQ0hKO0FETUU7RUFFRSxnQkFBQTtBQ0xKO0FEUUU7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0FDTko7QURTRTtFQUNFLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDUEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWF0dXJlL3BpY2twZW9wbGUtcG9wb3Zlci9waWNrcGVvcGxlLXBvcG92ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLXBpY2twZW9wbGUtcG9wb3ZlciB7XG5cbiAgaW9uLWNhcmQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgfVxuXG4gIC5jYXJkLWRlc2NyaXB0aW9uIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAuZnVsbC1oZWlnaHQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5ncmlkLXJvdyB7XG4gICAgLy9hbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgfVxuXG4gIC5zZWxlY3RlZC1idXR0b25zIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXgtaGVpZ2h0OiA2MHB4O1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwIDVweDtcbiAgfVxuXG4gIC5hdmF0YXIge1xuICAgIHdpZHRoOiA0MHB4ICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0IDogNDBweCAhaW1wb3J0YW50O1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICB9XG59IiwiYXBwLXBpY2twZW9wbGUtcG9wb3ZlciBpb24tY2FyZC10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cbmFwcC1waWNrcGVvcGxlLXBvcG92ZXIgLmNhcmQtZGVzY3JpcHRpb24ge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuYXBwLXBpY2twZW9wbGUtcG9wb3ZlciAuZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtcGlja3Blb3BsZS1wb3BvdmVyIC5ncmlkLXJvdyB7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG59XG5hcHAtcGlja3Blb3BsZS1wb3BvdmVyIC5zZWxlY3RlZC1idXR0b25zIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1heC1oZWlnaHQ6IDYwcHg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDAgNXB4O1xufVxuYXBwLXBpY2twZW9wbGUtcG9wb3ZlciAuYXZhdGFyIHtcbiAgd2lkdGg6IDQwcHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiA0MHB4ICFpbXBvcnRhbnQ7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.ts ***!
  \*****************************************************************************/
/*! exports provided: PickpeoplePopoverPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickpeoplePopoverPage", function() { return PickpeoplePopoverPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _services_church_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/church.service */ "./src/app/services/church.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};








var PickpeoplePopoverPage = /** @class */ (function () {
    function PickpeoplePopoverPage(alertCtrl, networkService, platform, navParams, modalCtrl, calendarService, userData, chatService, churchService) {
        this.alertCtrl = alertCtrl;
        this.networkService = networkService;
        this.platform = platform;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.calendarService = calendarService;
        this.userData = userData;
        this.chatService = chatService;
        this.churchService = churchService;
        this.invitationType = 'user_list_1';
        this.shareLink = '';
        this.hasOrganizerAccess = false;
        this.totalSelected = 0;
        this.conversations = [];
        this.selectedConversations = [];
        this.searchKeyword = '';
        this.displayFriendList = false;
        this.listOfAppUsers = [];
        this.selectedAppUsers = [];
        this.listOfFriends = [];
        this.allFriends = [];
        this.reachedEnd = false;
        this.pageNum = 0;
        this.participantLabel = 'Participant';
        this.organizerLabel = 'Organizer';
        this.leaderLabel = 'Leader';
        this.participantsLabel = 'Participants';
        this.organizersLabel = 'Organizers';
        this.leadersLabel = 'Leaders';
        this.ionSpinner = true;
        this.churchId = '';
        this.selectedConversations = JSON.parse(JSON.stringify(this.navParams.get('conversations')));
    }
    PickpeoplePopoverPage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var peopleComponentId;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.action = this.action || 'Search';
                        this.filter = this.filter || 'connect';
                        this.title = this.title || '';
                        this.includeSelf = this.includeSelf || false;
                        this.churchId = this.userData.user.churches[this.userData.currentCommunityIndex]._id;
                        if (this.moment) {
                            this.shareLink = this.networkService.webapp_domain + '/app/activity/' + this.moment._id + ';type=2';
                            if (this.moment.user_list_2 && this.moment.user_list_2.length && this.moment.user_list_2[0] && typeof this.moment.user_list_2[0] === 'object') { // if user_list is populated, i.e. array of objects
                                this.hasOrganizerAccess = this.moment.user_list_2.map(function (c) { return c._id; }).includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                            }
                            else if (this.moment.user_list_2 && this.moment.user_list_2.length && this.moment.user_list_2[0] && typeof this.moment.user_list_2[0] === 'string') { // if user_list is not populated, i.e. array of strings
                                this.hasOrganizerAccess = this.moment.user_list_2.includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                            }
                            else {
                                this.hasOrganizerAccess = ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                            }
                            peopleComponentId = this.moment.resource.matrix_number[0].indexOf(10500);
                            if (peopleComponentId > -1) {
                                this.participantLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 2 && this.moment.matrix_string[peopleComponentId][2] ? this.moment.matrix_string[peopleComponentId][2] : this.moment.resource['en-US'].matrix_string[peopleComponentId][4];
                                this.organizerLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 4 && this.moment.matrix_string[peopleComponentId][4] ? this.moment.matrix_string[peopleComponentId][4] : this.moment.resource['en-US'].matrix_string[peopleComponentId][6];
                                this.leaderLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 0 && this.moment.matrix_string[peopleComponentId][0] ? this.moment.matrix_string[peopleComponentId][0] : this.moment.resource['en-US'].matrix_string[peopleComponentId][8];
                                this.participantsLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 3 && this.moment.matrix_string[peopleComponentId][3] ? this.moment.matrix_string[peopleComponentId][3] : this.moment.resource['en-US'].matrix_string[peopleComponentId][5];
                                this.organizersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 5 && this.moment.matrix_string[peopleComponentId][5] ? this.moment.matrix_string[peopleComponentId][5] : this.moment.resource['en-US'].matrix_string[peopleComponentId][7];
                                this.leadersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 1 && this.moment.matrix_string[peopleComponentId][1] ? this.moment.matrix_string[peopleComponentId][1] : this.moment.resource['en-US'].matrix_string[peopleComponentId][9];
                            }
                        }
                        this.setupLoadAppUsers();
                        return [4 /*yield*/, this.renderList()];
                    case 1:
                        _a.sent();
                        this.chatService.conversations.forEach(function (obj) {
                            var index = _this.selectedConversations.map(function (c) { return c.conversation._id; }).indexOf(obj.conversation._id);
                            if (index > -1) {
                                obj.select = true;
                                if (_this.selectedConversations[index].locked) {
                                    obj.locked = true;
                                }
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    PickpeoplePopoverPage.prototype.setupLoadAppUsers = function () {
        var _this = this;
        setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.hasOrganizerAccess) {
                    this.infiniteScroll.disabled = false;
                    this.reachedEnd = false;
                    this.listOfAppUsers = [];
                    this.pageNum = 0;
                    this.loadMoreAppUsers({ target: this.infiniteScroll });
                }
                return [2 /*return*/];
            });
        }); }, 50);
    };
    PickpeoplePopoverPage.prototype.loadMoreAppUsers = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var churchAppUsers;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.pageNum++;
                        if (!!this.reachedEnd) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.churchService.loadChurchAppUsers(this.churchId, this.searchKeyword, this.pageNum)];
                    case 1:
                        churchAppUsers = _a.sent();
                        this.ionSpinner = false;
                        if (!churchAppUsers.length) {
                            this.reachedEnd = true;
                            event.target.disabled = true;
                        }
                        else {
                            churchAppUsers.forEach(function (appuser) {
                                if (appuser._id !== _this.userData.user._id) {
                                    appuser.name = appuser.first_name + ' ' + appuser.last_name;
                                    _this.listOfAppUsers.push({ _id: appuser._id, name: appuser.name, avatar: appuser.avatar, select: false });
                                }
                            });
                        }
                        event.target.complete();
                        return [3 /*break*/, 3];
                    case 2:
                        this.ionSpinner = false;
                        event.target.complete();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /*loadContacts() {
        if (this.platform.is('cordova') && this.userData.user.importContactList) {
            this.contacts.find(['*'], { desiredFields: ['name','phoneNumbers','emails'], multiple: true }).then((contacts) => {
                this.ionSpinner = false;
                if (contacts) {
                    contacts.forEach((contact) => {
                        if ((this.type === 'SMS Message') && contact.phoneNumbers){
                            this.all_contact_list.push({type: 'contact', _id: null, name: contact.name.formatted, phoneNumbers: contact.phoneNumbers, select: false, joined: false});
                        } else if ((this.type === 'Email') && contact.emails){
                            this.all_contact_list.push({type: 'contact', _id: null, name: contact.name.formatted, emails: contact.emails, select: false, joined: false});
                        }
                    });
                    this.all_contact_list.sort(function(a,b) {return (a.name < b.name) ? -1 : (a.name > b.name) ? 1 : 0});
                    this.contact_list = this.all_contact_list;
                }
            }, (err) => {
                this.ionSpinner = false;
            });
        } else {
            this.ionSpinner = false;
            this.contact_list = [];
        }
    }*/
    PickpeoplePopoverPage.prototype.renderList = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.conversations = [];
                this.chatService.conversations.forEach(function (obj) {
                    if ((obj.conversation.type === 'connect' || obj.conversation.type === 'self') && obj.data.name.toLowerCase().indexOf(_this.searchKeyword.toLowerCase()) > -1) {
                        _this.conversations.push(obj);
                    }
                    else if (obj.conversation.type === 'group' && obj.conversation.group.name.toLowerCase().indexOf(_this.searchKeyword.toLowerCase()) > -1) {
                        _this.conversations.push(obj);
                    }
                });
                this.conversations.forEach(function (obj, index) {
                    obj.order = index;
                });
                this.conversations.sort(function (a, b) {
                    var badge_diff = b.data.badge - a.data.badge;
                    if (badge_diff !== 0) {
                        return badge_diff; // only sort when there is an actual difference
                    }
                    else {
                        return a.order - b.order; // preserve the order
                    }
                });
                return [2 /*return*/];
            });
        });
    };
    PickpeoplePopoverPage.prototype.selectFriend = function (obj) {
        if (obj.locked)
            return;
        if (obj.select) {
            obj.select = false;
            this.totalSelected--;
            var index = this.selectedConversations.indexOf(obj);
            this.selectedConversations.splice(index, 1);
        }
        else {
            obj.select = true;
            this.totalSelected++;
            this.selectedConversations.push(obj);
            this.searchbar.setFocus();
        }
    };
    PickpeoplePopoverPage.prototype.unselectFriend = function (obj) {
        if (obj.locked)
            return;
        this.totalSelected--;
        var index = this.conversations.indexOf(obj);
        if (index > -1) {
            this.conversations[index].select = false;
        }
        index = this.selectedConversations.indexOf(obj);
        if (index > -1) {
            this.selectedConversations.splice(index, 1);
        }
    };
    PickpeoplePopoverPage.prototype.selectAppUser = function (person) {
        if (person.select) {
            person.select = false;
            this.totalSelected--;
            var index = this.selectedAppUsers.indexOf(person);
            this.selectedAppUsers.splice(index, 1);
        }
        else {
            person.select = true;
            this.totalSelected++;
            this.selectedAppUsers.unshift(person);
            this.searchKeyword = '';
        }
    };
    PickpeoplePopoverPage.prototype.unselectAppUser = function (person) {
        this.totalSelected--;
        var index = this.listOfAppUsers.indexOf(person);
        if (index > -1) {
            this.listOfAppUsers[index].select = false;
        }
        index = this.listOfFriends.indexOf(person);
        if (index > -1) {
            this.listOfFriends[index].select = false;
        }
        index = this.selectedAppUsers.indexOf(person);
        if (index > -1) {
            this.selectedAppUsers.splice(index, 1);
        }
    };
    PickpeoplePopoverPage.prototype.executeSearch = function (event) {
        event.stopPropagation();
        this.renderList();
        this.setupLoadAppUsers();
    };
    PickpeoplePopoverPage.prototype.cancelSearch = function (event) {
        event.stopPropagation();
        this.searchKeyword = '';
        this.renderList();
        this.setupLoadAppUsers();
    };
    PickpeoplePopoverPage.prototype.submitPeople = function () {
        var newlyAddedConversations = this.selectedConversations.filter(function (c) { return c.select && !c.locked; });
        this.modalCtrl.dismiss({ type: this.invitationType, conversations: newlyAddedConversations, listOfAppUsers: this.selectedAppUsers });
        this.cleanup();
    };
    PickpeoplePopoverPage.prototype.share = function () {
        return __awaiter(this, void 0, void 0, function () {
            var Share, err_1, Clipboard_1, alert_1, err_2, alert_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 11]);
                        if (this.invitationType === 'user_list_1') { // participants
                            this.shareLink = this.networkService.webapp_domain + '/app/activity/' + this.moment._id + ';type=2;' + (this.moment.access_tokens ? 'token=' + this.moment.access_tokens[0] : '');
                        }
                        else if (this.invitationType === 'user_list_2' && this.hasOrganizerAccess) { // organizers
                            this.shareLink = this.networkService.webapp_domain + '/app/activity/' + this.moment._id + ';type=3;' + (this.moment.access_tokens ? 'token=' + this.moment.access_tokens[1] : '');
                        }
                        else if (this.invitationType === 'user_list_3' && this.hasOrganizerAccess) { // leaders
                            this.shareLink = this.networkService.webapp_domain + '/app/activity/' + this.moment._id + ';type=4;' + (this.moment.access_tokens ? 'token=' + this.moment.access_tokens[2] : '');
                        }
                        Share = _capacitor_core__WEBPACK_IMPORTED_MODULE_5__["Plugins"].Share;
                        return [4 /*yield*/, Share.share({
                                text: this.shareLink
                            })];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 11];
                    case 2:
                        err_1 = _a.sent();
                        console.log(err_1);
                        if (!(err_1.name !== 'AbortError')) return [3 /*break*/, 10];
                        _a.label = 3;
                    case 3:
                        _a.trys.push([3, 7, , 10]);
                        Clipboard_1 = _capacitor_core__WEBPACK_IMPORTED_MODULE_5__["Plugins"].Clipboard;
                        return [4 /*yield*/, Clipboard_1.write({
                                url: this.shareLink
                            })];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Share Link Ready',
                                message: 'The invitation link ' + this.shareLink + 'has been copied to your clipboard.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 5:
                        alert_1 = _a.sent();
                        return [4 /*yield*/, alert_1.present()];
                    case 6:
                        _a.sent();
                        return [3 /*break*/, 10];
                    case 7:
                        err_2 = _a.sent();
                        console.log(err_2);
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Invitation Link',
                                message: this.shareLink,
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 8:
                        alert_2 = _a.sent();
                        return [4 /*yield*/, alert_2.present()];
                    case 9:
                        _a.sent();
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 11];
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    // this function is used by Angular *ngFor to track the dynamic DOM creation and destruction
    PickpeoplePopoverPage.prototype.customTrackBy = function (index, item) {
        return index;
    };
    PickpeoplePopoverPage.prototype.cleanup = function () {
        this.selectedConversations = [];
        this.chatService.conversations.forEach(function (obj) {
            obj.locked = false;
            obj.select = false;
        });
    };
    PickpeoplePopoverPage.prototype.close = function () {
        this.cleanup();
        this.modalCtrl.dismiss(false);
    };
    PickpeoplePopoverPage.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_2__["CalendarService"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_3__["UserData"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"] },
        { type: _services_church_service__WEBPACK_IMPORTED_MODULE_7__["Churches"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('searchbar', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonSearchbar"])
    ], PickpeoplePopoverPage.prototype, "searchbar", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"])
    ], PickpeoplePopoverPage.prototype, "infiniteScroll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "filter", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "includeSelf", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "action", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "moment", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], PickpeoplePopoverPage.prototype, "invitationType", void 0);
    PickpeoplePopoverPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pickpeople-popover',
            template: __importDefault(__webpack_require__(/*! raw-loader!./pickpeople-popover.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./pickpeople-popover.page.scss */ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_2__["CalendarService"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_3__["UserData"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"],
            _services_church_service__WEBPACK_IMPORTED_MODULE_7__["Churches"]])
    ], PickpeoplePopoverPage);
    return PickpeoplePopoverPage;
}());



/***/ }),

/***/ "./src/app/pages/feature/showfeature/showfeature.module.ts":
/*!*****************************************************************!*\
  !*** ./src/app/pages/feature/showfeature/showfeature.module.ts ***!
  \*****************************************************************/
/*! exports provided: ShowfeaturePageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowfeaturePageModule", function() { return ShowfeaturePageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _showfeature_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./showfeature.page */ "./src/app/pages/feature/showfeature/showfeature.page.ts");
/* harmony import */ var ngx_plyr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-plyr */ "./node_modules/ngx-plyr/fesm5/ngx-plyr.js");
/* harmony import */ var _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../pipes/application-pipes */ "./src/app/pipes/application-pipes.ts");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm5/ngx-quill.js");
/* harmony import */ var ngx_autosize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-autosize */ "./node_modules/ngx-autosize/fesm5/ngx-autosize.js");
/* harmony import */ var angular_progress_bar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angular-progress-bar */ "./node_modules/angular-progress-bar/fesm5/angular-progress-bar.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};











var routes = [
    {
        path: '',
        component: _showfeature_page__WEBPACK_IMPORTED_MODULE_5__["ShowfeaturePage"]
    }
];
var ShowfeaturePageModule = /** @class */ (function () {
    function ShowfeaturePageModule() {
    }
    ShowfeaturePageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _pipes_application_pipes__WEBPACK_IMPORTED_MODULE_7__["ApplicationPipesModule"],
                ngx_autosize__WEBPACK_IMPORTED_MODULE_9__["AutosizeModule"],
                ngx_plyr__WEBPACK_IMPORTED_MODULE_6__["PlyrModule"],
                ngx_quill__WEBPACK_IMPORTED_MODULE_8__["QuillModule"].forRoot(),
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                angular_progress_bar__WEBPACK_IMPORTED_MODULE_10__["ProgressBarModule"]
            ],
            declarations: [_showfeature_page__WEBPACK_IMPORTED_MODULE_5__["ShowfeaturePage"]]
        })
    ], ShowfeaturePageModule);
    return ShowfeaturePageModule;
}());



/***/ }),

/***/ "./src/app/pages/feature/showfeature/showfeature.page.scss":
/*!*****************************************************************!*\
  !*** ./src/app/pages/feature/showfeature/showfeature.page.scss ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-showfeature ion-menu-toggle ion-badge {\n  position: relative;\n  top: 0.1rem;\n  right: 22px;\n  /*& ~ ion-icon {\n    outline-color: whitesmoke;\n  }*/\n  z-index: 5;\n}\napp-showfeature ion-item ion-datetime {\n  position: relative !important;\n}\napp-showfeature ion-slides {\n  height: 100%;\n}\napp-showfeature ion-card-header {\n  z-index: 10;\n}\napp-showfeature ion-progress-bar {\n  --progress-background: var(--ion-color-success);\n}\napp-showfeature ion-textarea {\n  --background: transparent !important;\n}\napp-showfeature #permissionBar {\n  position: absolute;\n  top: 0;\n  --min-height: 0;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: var(--ion-color-lightgrey);\n  z-index: 15;\n}\napp-showfeature .component {\n  width: 100%;\n}\napp-showfeature .slide-grid {\n  height: 100%;\n  overflow: scroll;\n}\napp-showfeature .slide-row {\n  height: 100%;\n  padding-bottom: 42px;\n}\napp-showfeature .slide-row-align {\n  align-items: center !important;\n}\napp-showfeature .slide-col {\n  height: 100%;\n}\napp-showfeature .section {\n  --min-height: 26px;\n}\napp-showfeature .section .section-label {\n  font-size: 12px;\n}\napp-showfeature .schedule-header-label {\n  --width: 120px;\n}\napp-showfeature .new-calendar-item-title {\n  --placeholder-font-style: italic;\n}\napp-showfeature .moment-photo-frame {\n  margin: 10px auto;\n  width: 90%;\n  max-width: 400px;\n  /*height: 100%;\n  max-height: 180px;*/\n}\napp-showfeature .moment-photo-frame-small {\n  margin: 0 auto;\n  width: 20%;\n}\napp-showfeature .moment-photo {\n  width: 100%;\n  height: 100%;\n}\napp-showfeature .moment-type {\n  margin-right: 10px;\n}\napp-showfeature .module-number {\n  padding-left: 2%;\n  width: 8%;\n  min-width: 20px;\n}\napp-showfeature .moment-label {\n  width: 25px;\n  height: 25px;\n  margin-right: 20px;\n}\napp-showfeature .moment-input {\n  float: left;\n  opacity: 0.5;\n  margin-left: 10px;\n}\napp-showfeature .side-icon {\n  width: 100%;\n  height: 100%;\n}\napp-showfeature .textarea {\n  margin: 15px;\n}\napp-showfeature .textarea.center {\n  margin: 15px auto;\n}\napp-showfeature .small-font {\n  font-size: 12px;\n}\napp-showfeature .label-title {\n  font-weight: bold;\n  max-width: 50%;\n  color: var(--ion-color-grey);\n}\napp-showfeature .detail {\n  color: var(--ion-color-dark);\n  text-align: right;\n  min-width: 65%;\n  margin-left: 5px;\n}\napp-showfeature .map-container {\n  margin: 0 auto;\n  width: 90%;\n}\napp-showfeature .relationship-action {\n  color: white;\n}\napp-showfeature .pollIconDiv .pollIcon {\n  height: 50px;\n  width: 50px;\n  margin: 5% 45%;\n}\napp-showfeature .pollQuestion {\n  color: black;\n  font-size: large;\n  font-style: italic;\n}\napp-showfeature .pollContainer {\n  width: 100%;\n  display: inline-block;\n  clear: both;\n  background-color: rgba(150, 150, 150, 0.2);\n  padding: 0 20px;\n}\napp-showfeature .optionsContainer {\n  float: left;\n  width: 68%;\n}\napp-showfeature .optionsContainer .option {\n  padding-top: 5px;\n  float: left;\n  font-size: medium;\n  font-weight: bold;\n}\napp-showfeature .votesContainer {\n  float: left;\n  width: 15%;\n}\napp-showfeature .votesContainer .votecount {\n  padding-top: 12px;\n  color: var(--ion-color-dark);\n  font-size: x-small;\n}\napp-showfeature .userContainer {\n  float: right;\n  width: 15%;\n  padding: 0 auto;\n}\napp-showfeature .userContainer .uservote {\n  margin: 15px 5% 0 5%;\n  font-size: x-small;\n  width: 90%;\n  height: 30px;\n  color: var(--ion-color-dark);\n}\napp-showfeature .userContainer .uservoted {\n  padding-top: 20px;\n  width: 30%;\n  margin: 0 40%;\n}\napp-showfeature .pollNotes {\n  color: var(--ion-color-dark);\n  width: 100%;\n}\napp-showfeature .voteCount {\n  font-weight: bold;\n  color: var(--ion-color-dark);\n  width: 100%;\n}\napp-showfeature .results-list {\n  margin-top: 2px;\n  max-height: 30vh;\n  overflow-y: scroll;\n}\napp-showfeature #mapCanvas {\n  height: 30vh;\n  margin-bottom: 12px;\n}\napp-showfeature #mapCanvas2 {\n  height: 30vh;\n  width: 100%;\n}\napp-showfeature .map-card {\n  width: 100%;\n}\napp-showfeature .marker {\n  display: block;\n  border: black;\n  border-radius: 50%;\n  background-color: var(--ion-color-grey);\n  cursor: pointer;\n  padding: 0;\n}\napp-showfeature .marker p {\n  text-align: center;\n  margin: 15% 0;\n}\napp-showfeature .item-container {\n  width: 100%;\n}\napp-showfeature .item-name {\n  margin: 10px 0 2px 0;\n  width: 100%;\n}\napp-showfeature .category {\n  color: var(--ion-color-grey);\n  font-style: italic;\n}\napp-showfeature .category {\n  color: var(--ion-color-grey);\n  font-style: italic;\n}\napp-showfeature .note-col {\n  height: 100%;\n  max-width: 20%;\n}\napp-showfeature .note {\n  float: right;\n  color: lightgrey;\n  margin: 10px 0 0 0;\n}\napp-showfeature .ng-resizable-handle {\n  height: 50px;\n  color: grey;\n}\napp-showfeature .pull-handle {\n  width: 100%;\n  height: 20px;\n}\napp-showfeature .pull-handle-icon {\n  margin: 0 auto;\n}\napp-showfeature .result-list {\n  height: 30vh;\n  width: 100%;\n}\napp-showfeature #peopleSlides {\n  height: 100%;\n}\napp-showfeature .person-slides {\n  padding: 12px;\n}\napp-showfeature .person-slide {\n  max-width: 400px;\n}\napp-showfeature .person-card {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 12px;\n}\napp-showfeature .person-card .top-pattern {\n  position: absolute;\n  top: 0;\n  height: 15%;\n  width: 100%;\n  background-color: #62bebf;\n  z-index: 1;\n}\napp-showfeature .person-card .middle-pattern {\n  position: absolute;\n  top: 15%;\n  height: 50%;\n  width: 100%;\n  border-style: solid;\n  border-width: 0 1300px 500px 0;\n  border-color: transparent #62bebf transparent transparent;\n  z-index: 1;\n}\napp-showfeature .person-card .bottom-pattern {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: var(--ion-color-light);\n}\napp-showfeature .person-content {\n  height: 75px;\n  overflow: scroll;\n  --background: var(--ion-color-light);\n}\napp-showfeature .person-content-item {\n  --background: transparent;\n}\napp-showfeature .person-content-left {\n  margin: 8px 12.5px 21px 0;\n  width: 40%;\n  height: 44px;\n  line-height: 100%;\n}\napp-showfeature .person-name {\n  font-size: 14px;\n}\napp-showfeature .person-title {\n  font-size: 12px;\n  overflow: hidden;\n  color: var(--ion-color-darkgrey);\n}\napp-showfeature .content-border {\n  border-left: 0.5px solid #979797;\n}\napp-showfeature .person-content-right {\n  padding-left: 12.5px;\n  margin: 10px 0 21px 0;\n  width: 60%;\n  height: 42px;\n  line-height: 14px;\n  /* Height / no. of lines to display */\n  overflow: hidden;\n  font-size: 12px;\n  color: var(--ion-color-darkgrey);\n}\napp-showfeature .person-list-container {\n  width: 100%;\n}\napp-showfeature .person-list {\n  margin: 10px 0 2px 0;\n  display: block;\n  width: 100%;\n}\napp-showfeature .person-content-list {\n  color: grey;\n  font-size: 14px;\n  max-height: 72px;\n  line-height: 24px;\n  /* Height / no. of lines to display */\n  overflow: hidden;\n}\napp-showfeature .preference-badge {\n  margin-right: 3px;\n}\napp-showfeature .person-photo-container {\n  height: 300px;\n  overflow: hidden;\n}\napp-showfeature .person-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-showfeature .program-slides {\n  padding: 12px;\n}\napp-showfeature .program-slide {\n  max-width: 150px;\n}\napp-showfeature .program-card {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin: 0 3%;\n}\napp-showfeature .program-photo-container {\n  height: 100px;\n  overflow: hidden;\n}\napp-showfeature .program-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-showfeature .program-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  color: white;\n  font-size: 12px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-showfeature .participant-row {\n  width: 100%;\n}\napp-showfeature .participant {\n  width: 100%;\n}\napp-showfeature .participant-centered {\n  width: 100px;\n  height: 65px;\n  margin: auto 0 auto 0;\n}\napp-showfeature .participant-centered .participant-avatar {\n  margin: 0 auto;\n  top: 0;\n}\napp-showfeature .participant-centered .participant-joined {\n  position: absolute;\n  left: 60%;\n  top: 28px;\n}\napp-showfeature .participant-centered .participant-label {\n  margin: 5px auto 0 auto;\n  color: grey;\n  font-size: 12px;\n}\napp-showfeature .tile-grid {\n  width: 100%;\n}\napp-showfeature .tile-card {\n  height: 75px;\n  margin: 0 3%;\n}\napp-showfeature .tile-photo-container {\n  height: 75px;\n  overflow: hidden;\n}\napp-showfeature .tile-photo {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: pointer;\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  display: block;\n}\napp-showfeature .tile-option-selected {\n  position: absolute;\n  height: 20px;\n  width: 20px;\n  top: 5px;\n  right: 5px;\n  z-index: 15;\n}\napp-showfeature .tile-name {\n  position: absolute;\n  bottom: 2%;\n  left: 2%;\n  color: white;\n  font-size: 14px;\n  cursor: pointer;\n  z-index: 15;\n}\napp-showfeature .response-user-img {\n  height: 100%;\n  width: 100%;\n}\napp-showfeature .photo-split-view {\n  display: inline-block;\n}\napp-showfeature .icon-container {\n  margin: 0 auto;\n  width: 100px;\n}\napp-showfeature .thumbnail-item {\n  margin: 10px auto;\n  --size: 100%;\n  max-height: 200px;\n}\napp-showfeature .video-container {\n  margin: 10px auto;\n  width: 90%;\n}\napp-showfeature .selected-item {\n  height: 100px;\n}\napp-showfeature .schedule-container {\n  margin: 0 auto;\n}\napp-showfeature .media-container {\n  margin: 0 auto;\n}\napp-showfeature .calendar-item {\n  font-size: 14px;\n}\napp-showfeature .calendar-item-checkbox {\n  width: 20px;\n  margin: 0;\n  float: right;\n  padding-left: 8px;\n}\napp-showfeature .calendar-item-content {\n  width: 70%;\n  margin: 5px 10px 5px 10px;\n  float: left;\n}\napp-showfeature .calendar-item-tag {\n  position: absolute;\n  right: 15px;\n}\napp-showfeature quill-editor {\n  width: 100%;\n  margin-right: 8px;\n}\napp-showfeature .ql-editor.ql-blank::before {\n  color: var(--ion-color-dark);\n}\napp-showfeature .ql-container, app-showfeature .ql-editor, app-showfeature .ql-editor.ql-blank, app-showfeature .ql-editor.ql-blank::before, app-showfeature .ql-editor.ql-blank::after {\n  -moz-user-select: text !important;\n  -ms-user-select: text !important;\n  user-select: text !important;\n  -webkit-user-select: text !important;\n}\napp-showfeature .moreoptions-centered {\n  width: 60px;\n  height: 80px;\n  margin: auto 0 auto 0;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\napp-showfeature .moreoptions-centered .moreoptions-avatar {\n  margin: 0 auto;\n}\napp-showfeature .moreoptions-centered .moreoptions-label {\n  margin: 5px auto 0 auto;\n  color: grey;\n  font-size: 12px;\n}\napp-showfeature .schedule-section {\n  margin-bottom: 1px;\n}\napp-showfeature .schedule-section ion-icon {\n  margin: auto;\n}\napp-showfeature .schedule-label {\n  color: var(--ion-color-darkgrey);\n}\napp-showfeature .more-goal-options {\n  position: absolute;\n  top: 5px;\n  right: 15px;\n}\napp-showfeature .overall-progress {\n  width: 95%;\n  margin-bottom: 10px;\n}\napp-showfeature .progress {\n  width: 85%;\n  margin-bottom: 10px;\n}\napp-showfeature .schedule-view-segment-button {\n  --color-checked: var(--ion-color-darkgrey);\n}\napp-showfeature .goal-slides {\n  padding: 12px;\n}\napp-showfeature .goal-slide {\n  max-width: 200px;\n}\napp-showfeature .goals-card {\n  margin-left: 20px;\n}\napp-showfeature .goal-content {\n  background: var(--ion-color-secondary);\n  margin-left: 15px;\n}\napp-showfeature .goal-content.overall {\n  padding-top: 30px;\n}\napp-showfeature .goal-content.favorite {\n  padding-top: 15px;\n}\napp-showfeature .favorite-goal-type {\n  font-size: 12px;\n  position: absolute;\n  top: 0;\n  left: -25px;\n  padding-left: 41px;\n  z-index: 5;\n}\napp-showfeature .goal-type {\n  font-size: 12px;\n  position: relative;\n  left: -10px;\n  padding-left: 27px;\n  z-index: 3;\n}\napp-showfeature .goal-icon {\n  position: relative;\n  top: 2px;\n}\napp-showfeature .goal-container {\n  height: 86px;\n  overflow: hidden;\n}\napp-showfeature .goal-label {\n  --background: var(--ion-color-secondary);\n}\napp-showfeature .calendar-item-goal-attributes {\n  width: 20%;\n}\napp-showfeature .monthview {\n  width: 85%;\n  max-width: 400px;\n  margin: 10px auto;\n  padding-bottom: 10px;\n  --color: var(--ion-color-dark);\n}\napp-showfeature .month-title-container {\n  width: 100%;\n}\napp-showfeature .month-title {\n  width: calc((100% / 7) * 5);\n  text-align: center;\n  display: inline-block;\n}\napp-showfeature .calendar-arrow {\n  width: calc(100% / 7);\n  position: relative;\n  display: inline-block;\n}\napp-showfeature .calendar-arrow .left {\n  float: left;\n}\napp-showfeature .calendar-arrow .right {\n  float: right;\n}\napp-showfeature .list-container {\n  overflow: scroll;\n  max-height: 400px;\n  margin: 0 auto;\n  max-width: 400px;\n}\napp-showfeature .item-container {\n  width: 60%;\n  margin: 5px;\n  float: left;\n}\napp-showfeature .moment-icon {\n  max-width: 20px;\n  margin: 0 5px;\n}\napp-showfeature .note-row {\n  margin-left: 8px;\n}\napp-showfeature .note-card {\n  max-width: 160px;\n  margin: 0 auto;\n}\napp-showfeature .note-card .note-header {\n  height: 42px;\n  padding: 8px 10px;\n  background: #FFFFFF;\n  box-sizing: border-box;\n  box-shadow: 0px 0.5px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 4px 4px 0px 0px;\n}\napp-showfeature .note-card .note-header .note-title {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 14px;\n  color: black;\n}\napp-showfeature .note-card .note-header .note-date {\n  font-style: normal;\n  font-weight: 300;\n  font-size: 10px;\n  line-height: 12px;\n  color: var(--ion-color-darkgrey);\n}\napp-showfeature .note-card .note-header .note-private {\n  position: absolute;\n  top: 20px;\n  right: 5px;\n}\napp-showfeature .note-card .note-content-backdrop {\n  height: 124px;\n  background: #E9E9E9;\n  box-sizing: border-box;\n  box-shadow: 0px 0.5px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 0px 0px 4px 4px;\n}\napp-showfeature .note-card .note-content-backdrop .note-content-doc {\n  top: 0;\n  height: 124px;\n  position: relative;\n  margin: 0 15px;\n  padding: 14px;\n  background: #FFFFFF;\n  box-shadow: 0px 0.1px 4px rgba(0, 0, 0, 0.25);\n}\napp-showfeature .note-card .note-content-backdrop .note-content-doc .note-content-textbox {\n  color: black;\n  font-size: 4px;\n  overflow: hidden;\n}\napp-showfeature .tab-filter {\n  margin-bottom: 8px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvc2hvd2ZlYXR1cmUvc2hvd2ZlYXR1cmUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWF0dXJlL3Nob3dmZWF0dXJlL3Nob3dmZWF0dXJlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFFQTs7SUFBQTtFQUdBLFVBQUE7QUNITjtBRE9FO0VBQ0UsNkJBQUE7QUNMSjtBRFFFO0VBQ0UsWUFBQTtBQ05KO0FEU0U7RUFDRSxXQUFBO0FDUEo7QURVRTtFQUNFLCtDQUFBO0FDUko7QURXRTtFQUNFLG9DQUFBO0FDVEo7QURZRTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLGVBQUE7RUFDQSwwQkFBQTtFQUNBLHdCQUFBO0VBQ0EsK0NBQUE7RUFDQSxXQUFBO0FDVko7QURhRTtFQUNFLFdBQUE7QUNYSjtBRGNFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDWko7QURlRTtFQUNFLFlBQUE7RUFDQSxvQkFBQTtBQ2JKO0FEaUJFO0VBQ0UsOEJBQUE7QUNmSjtBRGtCRTtFQUNFLFlBQUE7QUNoQko7QURtQkU7RUFDRSxrQkFBQTtBQ2pCSjtBRG1CSTtFQUNFLGVBQUE7QUNqQk47QURxQkU7RUFDRSxjQUFBO0FDbkJKO0FEc0JFO0VBQ0UsZ0NBQUE7QUNwQko7QURzQkU7RUFDRSxpQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBO3FCQUFBO0FDbkJKO0FEdUJFO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUNyQko7QUR3QkU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ3RCSjtBRHlCRTtFQUNFLGtCQUFBO0FDdkJKO0FEMEJFO0VBQ0UsZ0JBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtBQ3hCSjtBRDJCRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUN6Qko7QUQ0QkU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDMUJKO0FENkJFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUMzQko7QUQ4QkU7RUFDRSxZQUFBO0FDNUJKO0FEK0JFO0VBQ0UsaUJBQUE7QUM3Qko7QURnQ0U7RUFDRSxlQUFBO0FDOUJKO0FEaUNFO0VBQ0UsaUJBQUE7RUFDQSxjQUFBO0VBQ0EsNEJBQUE7QUMvQko7QURrQ0U7RUFDRSw0QkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDaENKO0FEbUNFO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUNqQ0o7QURvQ0U7RUFDRSxZQUFBO0FDbENKO0FEd0NJO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0FDdENOO0FEMENFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUN4Q0o7QUQyQ0U7RUFDRSxXQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsMENBQUE7RUFDQSxlQUFBO0FDekNKO0FENENFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUMxQ0o7QUQyQ0k7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FDekNOO0FENkNFO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUMzQ0o7QUQ0Q0k7RUFDRSxpQkFBQTtFQUNBLDRCQUFBO0VBQ0Esa0JBQUE7QUMxQ047QUQ4Q0U7RUFDRSxZQUFBO0VBQ0EsVUFBQTtFQUNBLGVBQUE7QUM1Q0o7QUQ2Q0k7RUFDRSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSw0QkFBQTtBQzNDTjtBRDZDSTtFQUNFLGlCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7QUMzQ047QUQrQ0U7RUFDRSw0QkFBQTtFQUNBLFdBQUE7QUM3Q0o7QURnREU7RUFDRSxpQkFBQTtFQUNBLDRCQUFBO0VBQ0EsV0FBQTtBQzlDSjtBRGlERTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDL0NKO0FEbURFO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0FDakRKO0FEb0RFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUNsREo7QURxREU7RUFDRSxXQUFBO0FDbkRKO0FEc0RFO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHVDQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUNwREo7QURxREk7RUFDRSxrQkFBQTtFQUNBLGFBQUE7QUNuRE47QUR1REU7RUFDRSxXQUFBO0FDckRKO0FEd0RFO0VBQ0Usb0JBQUE7RUFFQSxXQUFBO0FDdkRKO0FEMERFO0VBQ0UsNEJBQUE7RUFDQSxrQkFBQTtBQ3hESjtBRDJERTtFQUNFLDRCQUFBO0VBQ0Esa0JBQUE7QUN6REo7QUQ0REU7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQzFESjtBRDZERTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDM0RKO0FEOERFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUM1REo7QUQrREU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQzdESjtBRGdFRTtFQUNFLGNBQUE7QUM5REo7QURpRUU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQy9ESjtBRHdFRTtFQUNFLFlBQUE7QUN0RUo7QUR5RUU7RUFDRSxhQUFBO0FDdkVKO0FEMEVFO0VBQ0UsZ0JBQUE7QUN4RUo7QUQyRUU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0tBQUEsbUJBQUE7RUFDQSxjQUFBO0FDekVKO0FENEVJO0VBQ0Usa0JBQUE7RUFDQSxNQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLFVBQUE7QUMxRU47QUQ2RUk7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSx5REFBQTtFQUNBLFVBQUE7QUMzRU47QUQ4RUk7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHdDQUFBO0FDNUVOO0FEZ0ZFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esb0NBQUE7QUM5RUo7QURpRkU7RUFDRSx5QkFBQTtBQy9FSjtBRGtGRTtFQUNFLHlCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ2hGSjtBRG1GRTtFQUNFLGVBQUE7QUNqRko7QURvRkU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQ0FBQTtBQ2xGSjtBRHFGRTtFQUNFLGdDQUFBO0FDbkZKO0FEc0ZFO0VBQ0Usb0JBQUE7RUFDQSxxQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBRUEsaUJBQUE7RUFBbUIscUNBQUE7RUFDbkIsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7QUNwRko7QUR1RkU7RUFDRSxXQUFBO0FDckZKO0FEd0ZFO0VBQ0Usb0JBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtBQ3RGSjtBRHlGRTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUFtQixxQ0FBQTtFQUNuQixnQkFBQTtBQ3RGSjtBRHlGRTtFQUNFLGlCQUFBO0FDdkZKO0FEMEZFO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0FDeEZKO0FENkZFO0VBQ0Usb0JBQUE7S0FBQSxpQkFBQTtFQUNBLGVBQUE7RUFFQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDNUZKO0FEZ0dFO0VBQ0UsYUFBQTtBQzlGSjtBRGlHRTtFQUNFLGdCQUFBO0FDL0ZKO0FEa0dFO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtLQUFBLG1CQUFBO0VBQ0EsWUFBQTtBQ2hHSjtBRG1HRTtFQUNFLGFBQUE7RUFDQSxnQkFBQTtBQ2pHSjtBRHNHRTtFQUNFLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxlQUFBO0VBRUEsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ3JHSjtBRHlHRTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FDdkdKO0FEMEdFO0VBRUUsV0FBQTtBQ3pHSjtBRDRHRTtFQUNFLFdBQUE7QUMxR0o7QUQ2R0U7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0FDM0dKO0FENkdJO0VBQ0UsY0FBQTtFQUNBLE1BQUE7QUMzR047QUQ4R0k7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDNUdOO0FEK0dJO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQzdHTjtBRGlIRTtFQUNFLFdBQUE7QUMvR0o7QURrSEU7RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQ2hISjtBRG1IRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQ2pISjtBRG9IRTtFQUNFLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxlQUFBO0VBRUEsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ25ISjtBRHNIRTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNwSEo7QUR1SEU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ3JISjtBRHdIRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDdEhKO0FEeUhFO0VBQ0UscUJBQUE7QUN2SEo7QUQwSEU7RUFDRSxjQUFBO0VBQ0EsWUFBQTtBQ3hISjtBRDJIRTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDekhKO0FENEhFO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0FDMUhKO0FENkhFO0VBQ0UsYUFBQTtBQzNISjtBRDhIRTtFQUdFLGNBQUE7QUM5SEo7QURrSUU7RUFDRSxjQUFBO0FDaElKO0FEbUlFO0VBQ0UsZUFBQTtBQ2pJSjtBRHFJRTtFQUNFLFdBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDbklKO0FEc0lFO0VBQ0UsVUFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtBQ3BJSjtBRHVJRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtBQ3JJSjtBRHdJRTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtBQ3RJSjtBRHlJRTtFQUNFLDRCQUFBO0FDdklKO0FEMElFO0VBRUUsaUNBQUE7RUFDQSxnQ0FBQTtFQUNBLDRCQUFBO0VBQ0Esb0NBQUE7QUN4SUo7QUQySUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQ3pJSjtBRDJJSTtFQUNFLGNBQUE7QUN6SU47QUQ0SUk7RUFDRSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FDMUlOO0FEOElFO0VBQ0Usa0JBQUE7QUM1SUo7QUQ2SUk7RUFDRSxZQUFBO0FDM0lOO0FEK0lFO0VBQ0UsZ0NBQUE7QUM3SUo7QURpSkU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0FDL0lKO0FEa0pFO0VBQ0UsVUFBQTtFQUNBLG1CQUFBO0FDaEpKO0FEbUpFO0VBQ0UsVUFBQTtFQUNBLG1CQUFBO0FDakpKO0FEb0pFO0VBQ0UsMENBQUE7QUNsSko7QURxSkU7RUFDRSxhQUFBO0FDbkpKO0FEc0pFO0VBQ0UsZ0JBQUE7QUNwSko7QUR1SkU7RUFDRSxpQkFBQTtBQ3JKSjtBRHdKRTtFQUNFLHNDQUFBO0VBQ0EsaUJBQUE7QUN0Sko7QUR5SkU7RUFDRSxpQkFBQTtBQ3ZKSjtBRDBKRTtFQUNFLGlCQUFBO0FDeEpKO0FEMkpFO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUN6Sko7QUQ0SkU7RUFDRSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FDMUpKO0FENkpFO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0FDM0pKO0FEc0tFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDcEtKO0FEdUtFO0VBQ0Usd0NBQUE7QUNyS0o7QUR3S0U7RUFDRSxVQUFBO0FDdEtKO0FEeUtFO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLDhCQUFBO0FDdktKO0FEMEtFO0VBQ0UsV0FBQTtBQ3hLSjtBRDJLRTtFQUNFLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQ3pLSjtBRDRLRTtFQUNFLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQzFLSjtBRDJLSTtFQUNFLFdBQUE7QUN6S047QUQyS0k7RUFDRSxZQUFBO0FDektOO0FENktFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQzNLSjtBRDhLRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQzVLSjtBRCtLRTtFQUNFLGVBQUE7RUFDQSxhQUFBO0FDN0tKO0FEZ0xFO0VBQ0UsZ0JBQUE7QUM5S0o7QURpTEU7RUFDRSxnQkFBQTtFQUNBLGNBQUE7QUMvS0o7QURpTEk7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUVBLHNCQUFBO0VBQ0EsNkNBQUE7RUFDQSw4QkFBQTtBQ2hMTjtBRGtMTTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FDaExSO0FEbUxNO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGdDQUFBO0FDakxSO0FEcUxNO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQ25MUjtBRHVMSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUVBLHNCQUFBO0VBQ0EsNkNBQUE7RUFDQSw4QkFBQTtBQ3RMTjtBRHdMTTtFQUNFLE1BQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsNkNBQUE7QUN0TFI7QUR3TFE7RUFDRSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDdExWO0FENExFO0VBRUUsa0JBQUE7QUMzTEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWF0dXJlL3Nob3dmZWF0dXJlL3Nob3dmZWF0dXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1zaG93ZmVhdHVyZSB7XG5cbiAgaW9uLW1lbnUtdG9nZ2xlIHtcbiAgICBpb24tYmFkZ2Uge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdG9wOiAwLjFyZW07XG4gICAgICByaWdodDogMjJweDtcblxuICAgICAgLyomIH4gaW9uLWljb24ge1xuICAgICAgICBvdXRsaW5lLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICAgICAgfSovXG4gICAgICB6LWluZGV4OiA1O1xuICAgIH1cbiAgfVxuXG4gIGlvbi1pdGVtIGlvbi1kYXRldGltZXtcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgaW9uLXNsaWRlcyB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgaW9uLWNhcmQtaGVhZGVyIHtcbiAgICB6LWluZGV4OiAxMDtcbiAgfVxuXG4gIGlvbi1wcm9ncmVzcy1iYXIge1xuICAgIC0tcHJvZ3Jlc3MtYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xuICB9XG5cbiAgaW9uLXRleHRhcmVhIHtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAjcGVybWlzc2lvbkJhciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICAtLW1pbi1oZWlnaHQ6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4O1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodGdyZXkpO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLmNvbXBvbmVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAuc2xpZGUtZ3JpZCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gIH1cblxuICAuc2xpZGUtcm93IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcGFkZGluZy1ib3R0b206IDQycHg7XG4gICAgLy9vdmVyZmxvdy15OiBzY3JvbGxcbiAgfVxuXG4gIC5zbGlkZS1yb3ctYWxpZ24ge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5zbGlkZS1jb2wge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5zZWN0aW9uIHtcbiAgICAtLW1pbi1oZWlnaHQ6IDI2cHg7XG5cbiAgICAuc2VjdGlvbi1sYWJlbCB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICB9XG5cbiAgLnNjaGVkdWxlLWhlYWRlci1sYWJlbCB7XG4gICAgLS13aWR0aDogMTIwcHg7XG4gIH1cblxuICAubmV3LWNhbGVuZGFyLWl0ZW0tdGl0bGUge1xuICAgIC0tcGxhY2Vob2xkZXItZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG4gIC5tb21lbnQtcGhvdG8tZnJhbWUge1xuICAgIG1hcmdpbjogMTBweCBhdXRvO1xuICAgIHdpZHRoOiA5MCU7XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAvKmhlaWdodDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxODBweDsqL1xuICB9XG5cbiAgLm1vbWVudC1waG90by1mcmFtZS1zbWFsbCB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgd2lkdGg6IDIwJTtcbiAgfVxuXG4gIC5tb21lbnQtcGhvdG8ge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gIC5tb21lbnQtdHlwZSB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICB9XG5cbiAgLm1vZHVsZS1udW1iZXIge1xuICAgIHBhZGRpbmctbGVmdDogMiU7XG4gICAgd2lkdGg6IDglO1xuICAgIG1pbi13aWR0aDogMjBweDtcbiAgfVxuXG4gIC5tb21lbnQtbGFiZWwge1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gIH1cblxuICAubW9tZW50LWlucHV0IHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIH1cblxuICAuc2lkZS1pY29uIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAudGV4dGFyZWEge1xuICAgIG1hcmdpbjogMTVweDtcbiAgfVxuXG4gIC50ZXh0YXJlYS5jZW50ZXIge1xuICAgIG1hcmdpbjogMTVweCBhdXRvO1xuICB9XG5cbiAgLnNtYWxsLWZvbnQge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgfVxuXG4gIC5sYWJlbC10aXRsZSB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgbWF4LXdpZHRoOiA1MCU7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgfVxuXG4gIC5kZXRhaWwge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgbWluLXdpZHRoOiA2NSU7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgfVxuXG4gIC5tYXAtY29udGFpbmVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogOTAlO1xuICB9XG5cbiAgLnJlbGF0aW9uc2hpcC1hY3Rpb24ge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC8vUG9sbCBtZXNzYWdlXG4gIC5wb2xsSWNvbkRpdntcblxuICAgIC5wb2xsSWNvbntcbiAgICAgIGhlaWdodDogNTBweDtcbiAgICAgIHdpZHRoOiA1MHB4O1xuICAgICAgbWFyZ2luOiA1JSA0NSU7XG4gICAgfVxuICB9XG5cbiAgLnBvbGxRdWVzdGlvbntcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgZm9udC1zaXplOiBsYXJnZTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIH1cblxuICAucG9sbENvbnRhaW5lcntcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgY2xlYXI6IGJvdGg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTAsIDE1MCwgMTUwLCAwLjIpO1xuICAgIHBhZGRpbmc6IDAgMjBweDtcbiAgfVxuXG4gIC5vcHRpb25zQ29udGFpbmVye1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHdpZHRoOiA2OCU7XG4gICAgLm9wdGlvbntcbiAgICAgIHBhZGRpbmctdG9wOiA1cHg7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICB9XG5cbiAgLnZvdGVzQ29udGFpbmVye1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIHdpZHRoOiAxNSU7XG4gICAgLnZvdGVjb3VudHtcbiAgICAgIHBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgICB9XG4gIH1cblxuICAudXNlckNvbnRhaW5lcntcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgd2lkdGg6IDE1JTtcbiAgICBwYWRkaW5nOiAwIGF1dG87XG4gICAgLnVzZXJ2b3RlIHtcbiAgICAgIG1hcmdpbjogMTVweCA1JSAwIDUlO1xuICAgICAgZm9udC1zaXplOiB4LXNtYWxsO1xuICAgICAgd2lkdGg6IDkwJTtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgfVxuICAgIC51c2Vydm90ZWR7XG4gICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgIHdpZHRoOiAzMCU7XG4gICAgICBtYXJnaW46IDAgNDAlO1xuICAgIH1cbiAgfVxuXG4gIC5wb2xsTm90ZXN7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC52b3RlQ291bnR7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5yZXN1bHRzLWxpc3Qge1xuICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICBtYXgtaGVpZ2h0OiAzMHZoO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgfVxuXG4gIC8vIG1hcFxuICAjbWFwQ2FudmFzIHtcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgfVxuXG4gICNtYXBDYW52YXMyIHtcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAubWFwLWNhcmQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLm1hcmtlciB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm9yZGVyOiBibGFjaztcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHAge1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgbWFyZ2luOiAxNSUgMDtcbiAgICB9XG4gIH1cblxuICAuaXRlbS1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLml0ZW0tbmFtZSB7XG4gICAgbWFyZ2luOiAxMHB4IDAgMnB4IDA7XG4gICAgLy9kaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5jYXRlZ29yeSB7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIH1cblxuICAuY2F0ZWdvcnkge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG5cbiAgLm5vdGUtY29sIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiAyMCU7XG4gIH1cblxuICAubm90ZSB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIGNvbG9yOiBsaWdodGdyZXk7XG4gICAgbWFyZ2luOiAxMHB4IDAgMCAwO1xuICB9XG5cbiAgLm5nLXJlc2l6YWJsZS1oYW5kbGUge1xuICAgIGhlaWdodDogNTBweDtcbiAgICBjb2xvcjogZ3JleTtcbiAgfVxuXG4gIC5wdWxsLWhhbmRsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICB9XG5cbiAgLnB1bGwtaGFuZGxlLWljb24ge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgLnJlc3VsdC1saXN0IHtcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAvLyBwZW9wbGUgc2xpZGVzaG93XG5cbiAgLmZpbHRlciB7XG4gICAgLy9tYXJnaW4tdG9wOiAxMnB4O1xuICB9XG5cbiAgI3Blb3BsZVNsaWRlcyB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnBlcnNvbi1zbGlkZXMge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gIH1cblxuICAucGVyc29uLXNsaWRlIHtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICB9XG5cbiAgLnBlcnNvbi1jYXJkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICBtYXJnaW46IDAgMTJweDtcblxuICAgIC8vIEFkZGVkIHRoZSBzbGFudCBwYXR0ZXJuIVxuICAgIC50b3AtcGF0dGVybiB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBoZWlnaHQ6IDE1JTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzYyYmViZjtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgfVxuXG4gICAgLm1pZGRsZS1wYXR0ZXJuIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMTUlO1xuICAgICAgaGVpZ2h0OiA1MCU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgICBib3JkZXItd2lkdGg6IDAgMTMwMHB4IDUwMHB4IDA7XG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50ICM2MmJlYmYgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7XG4gICAgICB6LWluZGV4OiAxO1xuICAgIH1cblxuICAgIC5ib3R0b20tcGF0dGVybiB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gICAgfVxuICB9XG5cbiAgLnBlcnNvbi1jb250ZW50IHtcbiAgICBoZWlnaHQ6IDc1cHg7XG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtaXRlbSB7XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgfVxuXG4gIC5wZXJzb24tY29udGVudC1sZWZ0IHtcbiAgICBtYXJnaW46IDhweCAxMi41cHggMjFweCAwO1xuICAgIHdpZHRoOiA0MCU7XG4gICAgaGVpZ2h0OiA0NHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnBlcnNvbi1uYW1lIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cblxuICAucGVyc29uLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmtncmV5KTtcbiAgfVxuXG4gIC5jb250ZW50LWJvcmRlciB7XG4gICAgYm9yZGVyLWxlZnQ6IDAuNXB4IHNvbGlkICM5Nzk3OTc7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtcmlnaHQge1xuICAgIHBhZGRpbmctbGVmdDogMTIuNXB4O1xuICAgIG1hcmdpbjogMTBweCAwIDIxcHggMDtcbiAgICB3aWR0aDogNjAlO1xuICAgIGhlaWdodDogNDJweDtcbiAgICAvL21heC1oZWlnaHQ6IDcycHg7XG4gICAgbGluZS1oZWlnaHQ6IDE0cHg7IC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrZ3JleSk7XG4gIH1cblxuICAucGVyc29uLWxpc3QtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5wZXJzb24tbGlzdCB7XG4gICAgbWFyZ2luOiAxMHB4IDAgMnB4IDA7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGVyc29uLWNvbnRlbnQtbGlzdCB7XG4gICAgY29sb3I6IGdyZXk7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIG1heC1oZWlnaHQ6IDcycHg7XG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7IC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5wcmVmZXJlbmNlLWJhZGdlIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcbiAgfVxuXG4gIC5wZXJzb24tcGhvdG8tY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDMwMHB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgLy9ib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgLy9tYXJnaW46IDUlIGF1dG87XG4gIH1cblxuICAucGVyc29uLXBob3RvIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgLy9vcGFjaXR5OiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICAvL21heC1oZWlnaHQ6IDIwMHB4O1xuICB9XG5cbiAgLnByb2dyYW0tc2xpZGVzIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICB9XG5cbiAgLnByb2dyYW0tc2xpZGUge1xuICAgIG1heC13aWR0aDogMTUwcHg7XG4gIH1cblxuICAucHJvZ3JhbS1jYXJkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcbiAgICBtYXJnaW46IDAgMyU7XG4gIH1cblxuICAucHJvZ3JhbS1waG90by1jb250YWluZXIge1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvL2JvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAvL21hcmdpbjogNSUgYXV0bztcbiAgfVxuXG4gIC5wcm9ncmFtLXBob3RvIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgLy9vcGFjaXR5OiA1MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICAvL21heC1oZWlnaHQ6IDIwMHB4O1xuICB9XG5cbiAgLnByb2dyYW0tbmFtZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvdHRvbTogMiU7XG4gICAgbGVmdDogMiU7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgei1pbmRleDogMTU7XG4gIH1cblxuICAucGFydGljaXBhbnQtcm93IHtcbiAgICAvL3BhZGRpbmc6IDAgMTBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5wYXJ0aWNpcGFudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGFydGljaXBhbnQtY2VudGVyZWQge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDY1cHg7XG4gICAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuXG4gICAgLnBhcnRpY2lwYW50LWF2YXRhciB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHRvcDogMFxuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1qb2luZWQge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogNjAlO1xuICAgICAgdG9wOiAyOHB4O1xuICAgIH1cblxuICAgIC5wYXJ0aWNpcGFudC1sYWJlbCB7XG4gICAgICBtYXJnaW46IDVweCBhdXRvIDAgYXV0bztcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbiAgfVxuXG4gIC50aWxlLWdyaWQge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLnRpbGUtY2FyZCB7XG4gICAgaGVpZ2h0OiA3NXB4O1xuICAgIG1hcmdpbjogMCAzJTtcbiAgfVxuXG4gIC50aWxlLXBob3RvLWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiA3NXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cblxuICAudGlsZS1waG90byB7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIC8vb3BhY2l0eTogNTAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuICAudGlsZS1vcHRpb24tc2VsZWN0ZWQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBoZWlnaHQ6IDIwcHg7XG4gICAgd2lkdGg6IDIwcHg7XG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IDVweDtcbiAgICB6LWluZGV4OiAxNTtcbiAgfVxuXG4gIC50aWxlLW5hbWUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDIlO1xuICAgIGxlZnQ6IDIlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnJlc3BvbnNlLXVzZXItaW1nIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAucGhvdG8tc3BsaXQtdmlldyB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmljb24tY29udGFpbmVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICB3aWR0aDogMTAwcHg7XG4gIH1cblxuICAudGh1bWJuYWlsLWl0ZW0ge1xuICAgIG1hcmdpbjogMTBweCBhdXRvO1xuICAgIC0tc2l6ZTogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgfVxuXG4gIC52aWRlby1jb250YWluZXIge1xuICAgIG1hcmdpbjogMTBweCBhdXRvO1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cblxuICAuc2VsZWN0ZWQtaXRlbSB7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgfVxuXG4gIC5zY2hlZHVsZS1jb250YWluZXIge1xuICAgIC8vb3ZlcmZsb3c6IHNjcm9sbDtcbiAgICAvL21heC1oZWlnaHQ6IDIwMHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIC8vbWF4LXdpZHRoOiA0MDBweDtcbiAgfVxuXG4gIC5tZWRpYS1jb250YWluZXIge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgLmNhbGVuZGFyLWl0ZW0ge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAvLy0tcGFkZGluZy1zdGFydDogOHB4O1xuICB9XG5cbiAgLmNhbGVuZGFyLWl0ZW0tY2hlY2tib3gge1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIG1hcmdpbjogMDtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgcGFkZGluZy1sZWZ0OiA4cHg7XG4gIH1cblxuICAuY2FsZW5kYXItaXRlbS1jb250ZW50IHtcbiAgICB3aWR0aDogNzAlO1xuICAgIG1hcmdpbjogNXB4IDEwcHggNXB4IDEwcHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cblxuICAuY2FsZW5kYXItaXRlbS10YWcge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMTVweDtcbiAgfVxuXG4gIHF1aWxsLWVkaXRvciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gIH1cblxuICAucWwtZWRpdG9yLnFsLWJsYW5rOjpiZWZvcmUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIH1cblxuICAucWwtY29udGFpbmVyLC5xbC1lZGl0b3IsIC5xbC1lZGl0b3IucWwtYmxhbmssIC5xbC1lZGl0b3IucWwtYmxhbms6OmJlZm9yZSwgLnFsLWVkaXRvci5xbC1ibGFuazo6YWZ0ZXIge1xuICAgIC1raHRtbC11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgICAtbXMtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgICB1c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5tb3Jlb3B0aW9ucy1jZW50ZXJlZCB7XG4gICAgd2lkdGg6IDYwcHg7XG4gICAgaGVpZ2h0OiA4MHB4O1xuICAgIG1hcmdpbjogYXV0byAwIGF1dG8gMDtcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcblxuICAgIC5tb3Jlb3B0aW9ucy1hdmF0YXIge1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgfVxuXG4gICAgLm1vcmVvcHRpb25zLWxhYmVsIHtcbiAgICAgIG1hcmdpbjogNXB4IGF1dG8gMCBhdXRvO1xuICAgICAgY29sb3I6IGdyZXk7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICB9XG5cbiAgLnNjaGVkdWxlLXNlY3Rpb24ge1xuICAgIG1hcmdpbi1ib3R0b206IDFweDtcbiAgICBpb24taWNvbiB7XG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgfVxuICB9XG5cbiAgLnNjaGVkdWxlLWxhYmVsIHtcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmtncmV5KTtcbiAgICAvL3dpZHRoOiA4MHB4O1xuICB9XG5cbiAgLm1vcmUtZ29hbC1vcHRpb25zIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IDE1cHg7XG4gIH1cblxuICAub3ZlcmFsbC1wcm9ncmVzcyB7XG4gICAgd2lkdGg6IDk1JTtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLnByb2dyZXNzIHtcbiAgICB3aWR0aDogODUlO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAuc2NoZWR1bGUtdmlldy1zZWdtZW50LWJ1dHRvbiB7XG4gICAgLS1jb2xvci1jaGVja2VkOiB2YXIoLS1pb24tY29sb3ItZGFya2dyZXkpO1xuICB9XG5cbiAgLmdvYWwtc2xpZGVzIHtcbiAgICBwYWRkaW5nOiAxMnB4O1xuICB9XG5cbiAgLmdvYWwtc2xpZGUge1xuICAgIG1heC13aWR0aDogMjAwcHg7XG4gIH1cblxuICAuZ29hbHMtY2FyZCB7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gIH1cblxuICAuZ29hbC1jb250ZW50IHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBtYXJnaW4tbGVmdDogMTVweDtcbiAgfVxuXG4gIC5nb2FsLWNvbnRlbnQub3ZlcmFsbCB7XG4gICAgcGFkZGluZy10b3A6IDMwcHg7XG4gIH1cblxuICAuZ29hbC1jb250ZW50LmZhdm9yaXRlIHtcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcbiAgfVxuXG4gIC5mYXZvcml0ZS1nb2FsLXR5cGUge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IC0yNXB4O1xuICAgIHBhZGRpbmctbGVmdDogNDFweDtcbiAgICB6LWluZGV4OiA1O1xuICB9XG5cbiAgLmdvYWwtdHlwZSB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBsZWZ0OiAtMTBweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDI3cHg7XG4gICAgei1pbmRleDogMztcbiAgfVxuXG4gIC5nb2FsLWljb24ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IDJweDtcbiAgfVxuXG4gIC5nb2FsLXRvZG8tdGl0bGUge1xuICAgIC8vZm9udC1zaXplOiAxNHB4O1xuICB9XG5cbiAgLmdvYWwtdG9kby1kYXRlIHtcblxuICB9XG5cbiAgLmdvYWwtY29udGFpbmVyIHtcbiAgICBoZWlnaHQ6IDg2cHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5nb2FsLWxhYmVsIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICB9XG5cbiAgLmNhbGVuZGFyLWl0ZW0tZ29hbC1hdHRyaWJ1dGVzIHtcbiAgICB3aWR0aDogMjAlO1xuICB9XG5cbiAgLm1vbnRodmlldyB7XG4gICAgd2lkdGg6IDg1JTtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICAgIG1hcmdpbjogMTBweCBhdXRvO1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgfVxuXG4gIC5tb250aC10aXRsZS1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLm1vbnRoLXRpdGxlIHtcbiAgICB3aWR0aDogY2FsYygoMTAwJSAvIDcpICogNSk7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gIC5jYWxlbmRhci1hcnJvdyB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAvIDcpO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgLmxlZnQge1xuICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgfVxuICAgIC5yaWdodCB7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLmxpc3QtY29udGFpbmVyIHtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gIH1cblxuICAuaXRlbS1jb250YWluZXIge1xuICAgIHdpZHRoOiA2MCU7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gIH1cblxuICAubW9tZW50LWljb24ge1xuICAgIG1heC13aWR0aDogMjBweDtcbiAgICBtYXJnaW46IDAgNXB4O1xuICB9XG5cbiAgLm5vdGUtcm93IHtcbiAgICBtYXJnaW4tbGVmdDogOHB4O1xuICB9XG5cbiAgLm5vdGUtY2FyZCB7XG4gICAgbWF4LXdpZHRoOiAxNjBweDtcbiAgICBtYXJnaW46IDAgYXV0bztcblxuICAgIC5ub3RlLWhlYWRlciB7XG4gICAgICBoZWlnaHQ6IDQycHg7XG4gICAgICBwYWRkaW5nOiA4cHggMTBweDtcbiAgICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7XG4gICAgICAvL2JvcmRlcjogMC4xcHggc29saWQgIzAwMDAwMDtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBib3gtc2hhZG93OiAwcHggMC41cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA0cHggNHB4IDBweCAwcHg7XG5cbiAgICAgIC5ub3RlLXRpdGxlIHtcbiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICB9XG5cbiAgICAgIC5ub3RlLWRhdGUge1xuICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFya2dyZXkpO1xuICAgICAgICAvL3RleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLm5vdGUtcHJpdmF0ZSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAyMHB4O1xuICAgICAgICByaWdodDogNXB4O1xuICAgICAgfVxuICAgIH1cblxuICAgIC5ub3RlLWNvbnRlbnQtYmFja2Ryb3Age1xuICAgICAgaGVpZ2h0OiAxMjRweDtcbiAgICAgIGJhY2tncm91bmQ6ICNFOUU5RTk7XG4gICAgICAvL2JvcmRlcjogMC4xcHggc29saWQgIzAwMDAwMDtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBib3gtc2hhZG93OiAwcHggMC41cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICBib3JkZXItcmFkaXVzOiAwcHggMHB4IDRweCA0cHg7XG5cbiAgICAgIC5ub3RlLWNvbnRlbnQtZG9jIHtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBoZWlnaHQ6IDEyNHB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG1hcmdpbjogMCAxNXB4O1xuICAgICAgICBwYWRkaW5nOiAxNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjRkZGRkZGO1xuICAgICAgICBib3gtc2hhZG93OiAwcHggMC4xcHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG5cbiAgICAgICAgLm5vdGUtY29udGVudC10ZXh0Ym94IHtcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgZm9udC1zaXplOiA0cHg7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC50YWItZmlsdGVyIHtcbiAgICAvL21hcmdpbi10b3A6IDhweDtcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIH1cblxuICAudGFiLWJ1dHRvbiB7XG4gICAgLy8tLWluZGljYXRvci1oZWlnaHQ6IDQycHg7XG4gIH1cbn1cbiIsImFwcC1zaG93ZmVhdHVyZSBpb24tbWVudS10b2dnbGUgaW9uLWJhZGdlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDAuMXJlbTtcbiAgcmlnaHQ6IDIycHg7XG4gIC8qJiB+IGlvbi1pY29uIHtcbiAgICBvdXRsaW5lLWNvbG9yOiB3aGl0ZXNtb2tlO1xuICB9Ki9cbiAgei1pbmRleDogNTtcbn1cbmFwcC1zaG93ZmVhdHVyZSBpb24taXRlbSBpb24tZGF0ZXRpbWUge1xuICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcbn1cbmFwcC1zaG93ZmVhdHVyZSBpb24tc2xpZGVzIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIGlvbi1jYXJkLWhlYWRlciB7XG4gIHotaW5kZXg6IDEwO1xufVxuYXBwLXNob3dmZWF0dXJlIGlvbi1wcm9ncmVzcy1iYXIge1xuICAtLXByb2dyZXNzLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbn1cbmFwcC1zaG93ZmVhdHVyZSBpb24tdGV4dGFyZWEge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgI3Blcm1pc3Npb25CYXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgLS1taW4taGVpZ2h0OiAwO1xuICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4O1xuICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHRncmV5KTtcbiAgei1pbmRleDogMTU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmNvbXBvbmVudCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5zbGlkZS1ncmlkIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufVxuYXBwLXNob3dmZWF0dXJlIC5zbGlkZS1yb3cge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBhZGRpbmctYm90dG9tOiA0MnB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5zbGlkZS1yb3ctYWxpZ24ge1xuICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNsaWRlLWNvbCB7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuc2VjdGlvbiB7XG4gIC0tbWluLWhlaWdodDogMjZweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuc2VjdGlvbiAuc2VjdGlvbi1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuc2NoZWR1bGUtaGVhZGVyLWxhYmVsIHtcbiAgLS13aWR0aDogMTIwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm5ldy1jYWxlbmRhci1pdGVtLXRpdGxlIHtcbiAgLS1wbGFjZWhvbGRlci1mb250LXN0eWxlOiBpdGFsaWM7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vbWVudC1waG90by1mcmFtZSB7XG4gIG1hcmdpbjogMTBweCBhdXRvO1xuICB3aWR0aDogOTAlO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICAvKmhlaWdodDogMTAwJTtcbiAgbWF4LWhlaWdodDogMTgwcHg7Ki9cbn1cbmFwcC1zaG93ZmVhdHVyZSAubW9tZW50LXBob3RvLWZyYW1lLXNtYWxsIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHdpZHRoOiAyMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vbWVudC1waG90byB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vbWVudC10eXBlIHtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5tb2R1bGUtbnVtYmVyIHtcbiAgcGFkZGluZy1sZWZ0OiAyJTtcbiAgd2lkdGg6IDglO1xuICBtaW4td2lkdGg6IDIwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vbWVudC1sYWJlbCB7XG4gIHdpZHRoOiAyNXB4O1xuICBoZWlnaHQ6IDI1cHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubW9tZW50LWlucHV0IHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIG9wYWNpdHk6IDAuNTtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNpZGUtaWNvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnRleHRhcmVhIHtcbiAgbWFyZ2luOiAxNXB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC50ZXh0YXJlYS5jZW50ZXIge1xuICBtYXJnaW46IDE1cHggYXV0bztcbn1cbmFwcC1zaG93ZmVhdHVyZSAuc21hbGwtZm9udCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubGFiZWwtdGl0bGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWF4LXdpZHRoOiA1MCU7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmRldGFpbCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtaW4td2lkdGg6IDY1JTtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubWFwLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogOTAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5yZWxhdGlvbnNoaXAtYWN0aW9uIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wb2xsSWNvbkRpdiAucG9sbEljb24ge1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBtYXJnaW46IDUlIDQ1JTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucG9sbFF1ZXN0aW9uIHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXNpemU6IGxhcmdlO1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBvbGxDb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBjbGVhcjogYm90aDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTAsIDE1MCwgMTUwLCAwLjIpO1xuICBwYWRkaW5nOiAwIDIwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm9wdGlvbnNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDY4JTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAub3B0aW9uc0NvbnRhaW5lciAub3B0aW9uIHtcbiAgcGFkZGluZy10b3A6IDVweDtcbiAgZmxvYXQ6IGxlZnQ7XG4gIGZvbnQtc2l6ZTogbWVkaXVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAudm90ZXNDb250YWluZXIge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDE1JTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAudm90ZXNDb250YWluZXIgLnZvdGVjb3VudCB7XG4gIHBhZGRpbmctdG9wOiAxMnB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBmb250LXNpemU6IHgtc21hbGw7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnVzZXJDb250YWluZXIge1xuICBmbG9hdDogcmlnaHQ7XG4gIHdpZHRoOiAxNSU7XG4gIHBhZGRpbmc6IDAgYXV0bztcbn1cbmFwcC1zaG93ZmVhdHVyZSAudXNlckNvbnRhaW5lciAudXNlcnZvdGUge1xuICBtYXJnaW46IDE1cHggNSUgMCA1JTtcbiAgZm9udC1zaXplOiB4LXNtYWxsO1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDMwcHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnVzZXJDb250YWluZXIgLnVzZXJ2b3RlZCB7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICB3aWR0aDogMzAlO1xuICBtYXJnaW46IDAgNDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wb2xsTm90ZXMge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAudm90ZUNvdW50IHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5yZXN1bHRzLWxpc3Qge1xuICBtYXJnaW4tdG9wOiAycHg7XG4gIG1heC1oZWlnaHQ6IDMwdmg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAjbWFwQ2FudmFzIHtcbiAgaGVpZ2h0OiAzMHZoO1xuICBtYXJnaW4tYm90dG9tOiAxMnB4O1xufVxuYXBwLXNob3dmZWF0dXJlICNtYXBDYW52YXMyIHtcbiAgaGVpZ2h0OiAzMHZoO1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubWFwLWNhcmQge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubWFya2VyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJvcmRlcjogYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IDA7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1hcmtlciBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDE1JSAwO1xufVxuYXBwLXNob3dmZWF0dXJlIC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5pdGVtLW5hbWUge1xuICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmNhdGVnb3J5IHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuYXBwLXNob3dmZWF0dXJlIC5jYXRlZ29yeSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jb2wge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG1heC13aWR0aDogMjAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5ub3RlIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBjb2xvcjogbGlnaHRncmV5O1xuICBtYXJnaW46IDEwcHggMCAwIDA7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm5nLXJlc2l6YWJsZS1oYW5kbGUge1xuICBoZWlnaHQ6IDUwcHg7XG4gIGNvbG9yOiBncmV5O1xufVxuYXBwLXNob3dmZWF0dXJlIC5wdWxsLWhhbmRsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDIwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnB1bGwtaGFuZGxlLWljb24ge1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1zaG93ZmVhdHVyZSAucmVzdWx0LWxpc3Qge1xuICBoZWlnaHQ6IDMwdmg7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlICNwZW9wbGVTbGlkZXMge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBlcnNvbi1zbGlkZXMge1xuICBwYWRkaW5nOiAxMnB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tc2xpZGUge1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tY2FyZCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIG1hcmdpbjogMCAxMnB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tY2FyZCAudG9wLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxNSU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjJiZWJmO1xuICB6LWluZGV4OiAxO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tY2FyZCAubWlkZGxlLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTUlO1xuICBoZWlnaHQ6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIGJvcmRlci13aWR0aDogMCAxMzAwcHggNTAwcHggMDtcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCAjNjJiZWJmIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O1xuICB6LWluZGV4OiAxO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tY2FyZCAuYm90dG9tLXBhdHRlcm4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLWNvbnRlbnQge1xuICBoZWlnaHQ6IDc1cHg7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLWNvbnRlbnQtaXRlbSB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBlcnNvbi1jb250ZW50LWxlZnQge1xuICBtYXJnaW46IDhweCAxMi41cHggMjFweCAwO1xuICB3aWR0aDogNDAlO1xuICBoZWlnaHQ6IDQ0cHg7XG4gIGxpbmUtaGVpZ2h0OiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tbmFtZSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmtncmV5KTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuY29udGVudC1ib3JkZXIge1xuICBib3JkZXItbGVmdDogMC41cHggc29saWQgIzk3OTc5Nztcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLWNvbnRlbnQtcmlnaHQge1xuICBwYWRkaW5nLWxlZnQ6IDEyLjVweDtcbiAgbWFyZ2luOiAxMHB4IDAgMjFweCAwO1xuICB3aWR0aDogNjAlO1xuICBoZWlnaHQ6IDQycHg7XG4gIGxpbmUtaGVpZ2h0OiAxNHB4O1xuICAvKiBIZWlnaHQgLyBuby4gb2YgbGluZXMgdG8gZGlzcGxheSAqL1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFya2dyZXkpO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tbGlzdC1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLWxpc3Qge1xuICBtYXJnaW46IDEwcHggMCAycHggMDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wZXJzb24tY29udGVudC1saXN0IHtcbiAgY29sb3I6IGdyZXk7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgbWF4LWhlaWdodDogNzJweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIC8qIEhlaWdodCAvIG5vLiBvZiBsaW5lcyB0byBkaXNwbGF5ICovXG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnByZWZlcmVuY2UtYmFkZ2Uge1xuICBtYXJnaW4tcmlnaHQ6IDNweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGVyc29uLXBob3RvLWNvbnRhaW5lciB7XG4gIGhlaWdodDogMzAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBlcnNvbi1waG90byB7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnByb2dyYW0tc2xpZGVzIHtcbiAgcGFkZGluZzogMTJweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucHJvZ3JhbS1zbGlkZSB7XG4gIG1heC13aWR0aDogMTUwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnByb2dyYW0tY2FyZCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG4gIG1hcmdpbjogMCAzJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucHJvZ3JhbS1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDEwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wcm9ncmFtLXBob3RvIHtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBkaXNwbGF5OiBibG9jaztcbn1cbmFwcC1zaG93ZmVhdHVyZSAucHJvZ3JhbS1uYW1lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDIlO1xuICBsZWZ0OiAyJTtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDEycHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgei1pbmRleDogMTU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBhcnRpY2lwYW50LXJvdyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wYXJ0aWNpcGFudCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCB7XG4gIHdpZHRoOiAxMDBweDtcbiAgaGVpZ2h0OiA2NXB4O1xuICBtYXJnaW46IGF1dG8gMCBhdXRvIDA7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnBhcnRpY2lwYW50LWNlbnRlcmVkIC5wYXJ0aWNpcGFudC1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbiAgdG9wOiAwO1xufVxuYXBwLXNob3dmZWF0dXJlIC5wYXJ0aWNpcGFudC1jZW50ZXJlZCAucGFydGljaXBhbnQtam9pbmVkIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA2MCU7XG4gIHRvcDogMjhweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucGFydGljaXBhbnQtY2VudGVyZWQgLnBhcnRpY2lwYW50LWxhYmVsIHtcbiAgbWFyZ2luOiA1cHggYXV0byAwIGF1dG87XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnRpbGUtZ3JpZCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC50aWxlLWNhcmQge1xuICBoZWlnaHQ6IDc1cHg7XG4gIG1hcmdpbjogMCAzJTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAudGlsZS1waG90by1jb250YWluZXIge1xuICBoZWlnaHQ6IDc1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnRpbGUtcGhvdG8ge1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuYXBwLXNob3dmZWF0dXJlIC50aWxlLW9wdGlvbi1zZWxlY3RlZCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgdG9wOiA1cHg7XG4gIHJpZ2h0OiA1cHg7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLXNob3dmZWF0dXJlIC50aWxlLW5hbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMiU7XG4gIGxlZnQ6IDIlO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB6LWluZGV4OiAxNTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucmVzcG9uc2UtdXNlci1pbWcge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5waG90by1zcGxpdC12aWV3IHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLXNob3dmZWF0dXJlIC5pY29uLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogMTAwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnRodW1ibmFpbC1pdGVtIHtcbiAgbWFyZ2luOiAxMHB4IGF1dG87XG4gIC0tc2l6ZTogMTAwJTtcbiAgbWF4LWhlaWdodDogMjAwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnZpZGVvLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMTBweCBhdXRvO1xuICB3aWR0aDogOTAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5zZWxlY3RlZC1pdGVtIHtcbiAgaGVpZ2h0OiAxMDBweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuc2NoZWR1bGUtY29udGFpbmVyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1lZGlhLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLXNob3dmZWF0dXJlIC5jYWxlbmRhci1pdGVtIHtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5jYWxlbmRhci1pdGVtLWNoZWNrYm94IHtcbiAgd2lkdGg6IDIwcHg7XG4gIG1hcmdpbjogMDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nLWxlZnQ6IDhweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuY2FsZW5kYXItaXRlbS1jb250ZW50IHtcbiAgd2lkdGg6IDcwJTtcbiAgbWFyZ2luOiA1cHggMTBweCA1cHggMTBweDtcbiAgZmxvYXQ6IGxlZnQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmNhbGVuZGFyLWl0ZW0tdGFnIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMTVweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSBxdWlsbC1lZGl0b3Ige1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnFsLWVkaXRvci5xbC1ibGFuazo6YmVmb3JlIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAucWwtY29udGFpbmVyLCBhcHAtc2hvd2ZlYXR1cmUgLnFsLWVkaXRvciwgYXBwLXNob3dmZWF0dXJlIC5xbC1lZGl0b3IucWwtYmxhbmssIGFwcC1zaG93ZmVhdHVyZSAucWwtZWRpdG9yLnFsLWJsYW5rOjpiZWZvcmUsIGFwcC1zaG93ZmVhdHVyZSAucWwtZWRpdG9yLnFsLWJsYW5rOjphZnRlciB7XG4gIC1raHRtbC11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0ICFpbXBvcnRhbnQ7XG4gIC1tcy11c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICB1c2VyLXNlbGVjdDogdGV4dCAhaW1wb3J0YW50O1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0ICFpbXBvcnRhbnQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vcmVvcHRpb25zLWNlbnRlcmVkIHtcbiAgd2lkdGg6IDYwcHg7XG4gIGhlaWdodDogODBweDtcbiAgbWFyZ2luOiBhdXRvIDAgYXV0byAwO1xuICBwYWRkaW5nLXRvcDogMTBweDtcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vcmVvcHRpb25zLWNlbnRlcmVkIC5tb3Jlb3B0aW9ucy1hdmF0YXIge1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1zaG93ZmVhdHVyZSAubW9yZW9wdGlvbnMtY2VudGVyZWQgLm1vcmVvcHRpb25zLWxhYmVsIHtcbiAgbWFyZ2luOiA1cHggYXV0byAwIGF1dG87XG4gIGNvbG9yOiBncmV5O1xuICBmb250LXNpemU6IDEycHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNjaGVkdWxlLXNlY3Rpb24ge1xuICBtYXJnaW4tYm90dG9tOiAxcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNjaGVkdWxlLXNlY3Rpb24gaW9uLWljb24ge1xuICBtYXJnaW46IGF1dG87XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNjaGVkdWxlLWxhYmVsIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrZ3JleSk7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vcmUtZ29hbC1vcHRpb25zIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDVweDtcbiAgcmlnaHQ6IDE1cHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm92ZXJhbGwtcHJvZ3Jlc3Mge1xuICB3aWR0aDogOTUlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5wcm9ncmVzcyB7XG4gIHdpZHRoOiA4NSU7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLnNjaGVkdWxlLXZpZXctc2VnbWVudC1idXR0b24ge1xuICAtLWNvbG9yLWNoZWNrZWQ6IHZhcigtLWlvbi1jb2xvci1kYXJrZ3JleSk7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmdvYWwtc2xpZGVzIHtcbiAgcGFkZGluZzogMTJweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuZ29hbC1zbGlkZSB7XG4gIG1heC13aWR0aDogMjAwcHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmdvYWxzLWNhcmQge1xuICBtYXJnaW4tbGVmdDogMjBweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuZ29hbC1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5nb2FsLWNvbnRlbnQub3ZlcmFsbCB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5nb2FsLWNvbnRlbnQuZmF2b3JpdGUge1xuICBwYWRkaW5nLXRvcDogMTVweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuZmF2b3JpdGUtZ29hbC10eXBlIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogLTI1cHg7XG4gIHBhZGRpbmctbGVmdDogNDFweDtcbiAgei1pbmRleDogNTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuZ29hbC10eXBlIHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IC0xMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDI3cHg7XG4gIHotaW5kZXg6IDM7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmdvYWwtaWNvbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAycHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmdvYWwtY29udGFpbmVyIHtcbiAgaGVpZ2h0OiA4NnB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuYXBwLXNob3dmZWF0dXJlIC5nb2FsLWxhYmVsIHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAuY2FsZW5kYXItaXRlbS1nb2FsLWF0dHJpYnV0ZXMge1xuICB3aWR0aDogMjAlO1xufVxuYXBwLXNob3dmZWF0dXJlIC5tb250aHZpZXcge1xuICB3aWR0aDogODUlO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICBtYXJnaW46IDEwcHggYXV0bztcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubW9udGgtdGl0bGUtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm1vbnRoLXRpdGxlIHtcbiAgd2lkdGg6IGNhbGMoKDEwMCUgLyA3KSAqIDUpO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbmFwcC1zaG93ZmVhdHVyZSAuY2FsZW5kYXItYXJyb3cge1xuICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuYXBwLXNob3dmZWF0dXJlIC5jYWxlbmRhci1hcnJvdyAubGVmdCB7XG4gIGZsb2F0OiBsZWZ0O1xufVxuYXBwLXNob3dmZWF0dXJlIC5jYWxlbmRhci1hcnJvdyAucmlnaHQge1xuICBmbG9hdDogcmlnaHQ7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLmxpc3QtY29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuYXBwLXNob3dmZWF0dXJlIC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiA2MCU7XG4gIG1hcmdpbjogNXB4O1xuICBmbG9hdDogbGVmdDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubW9tZW50LWljb24ge1xuICBtYXgtd2lkdGg6IDIwcHg7XG4gIG1hcmdpbjogMCA1cHg7XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm5vdGUtcm93IHtcbiAgbWFyZ2luLWxlZnQ6IDhweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jYXJkIHtcbiAgbWF4LXdpZHRoOiAxNjBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtc2hvd2ZlYXR1cmUgLm5vdGUtY2FyZCAubm90ZS1oZWFkZXIge1xuICBoZWlnaHQ6IDQycHg7XG4gIHBhZGRpbmc6IDhweCAxMHB4O1xuICBiYWNrZ3JvdW5kOiAjRkZGRkZGO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBib3gtc2hhZG93OiAwcHggMC41cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gIGJvcmRlci1yYWRpdXM6IDRweCA0cHggMHB4IDBweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jYXJkIC5ub3RlLWhlYWRlciAubm90ZS10aXRsZSB7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBsaW5lLWhlaWdodDogMTRweDtcbiAgY29sb3I6IGJsYWNrO1xufVxuYXBwLXNob3dmZWF0dXJlIC5ub3RlLWNhcmQgLm5vdGUtaGVhZGVyIC5ub3RlLWRhdGUge1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgbGluZS1oZWlnaHQ6IDEycHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFya2dyZXkpO1xufVxuYXBwLXNob3dmZWF0dXJlIC5ub3RlLWNhcmQgLm5vdGUtaGVhZGVyIC5ub3RlLXByaXZhdGUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMjBweDtcbiAgcmlnaHQ6IDVweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jYXJkIC5ub3RlLWNvbnRlbnQtYmFja2Ryb3Age1xuICBoZWlnaHQ6IDEyNHB4O1xuICBiYWNrZ3JvdW5kOiAjRTlFOUU5O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBib3gtc2hhZG93OiAwcHggMC41cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gIGJvcmRlci1yYWRpdXM6IDBweCAwcHggNHB4IDRweDtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jYXJkIC5ub3RlLWNvbnRlbnQtYmFja2Ryb3AgLm5vdGUtY29udGVudC1kb2Mge1xuICB0b3A6IDA7XG4gIGhlaWdodDogMTI0cHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luOiAwIDE1cHg7XG4gIHBhZGRpbmc6IDE0cHg7XG4gIGJhY2tncm91bmQ6ICNGRkZGRkY7XG4gIGJveC1zaGFkb3c6IDBweCAwLjFweCA0cHggcmdiYSgwLCAwLCAwLCAwLjI1KTtcbn1cbmFwcC1zaG93ZmVhdHVyZSAubm90ZS1jYXJkIC5ub3RlLWNvbnRlbnQtYmFja2Ryb3AgLm5vdGUtY29udGVudC1kb2MgLm5vdGUtY29udGVudC10ZXh0Ym94IHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXNpemU6IDRweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbmFwcC1zaG93ZmVhdHVyZSAudGFiLWZpbHRlciB7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/feature/showfeature/showfeature.page.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/feature/showfeature/showfeature.page.ts ***!
  \***************************************************************/
/*! exports provided: ShowfeaturePage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowfeaturePage", function() { return ShowfeaturePage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! scriptjs */ "./node_modules/scriptjs/dist/script.js");
/* harmony import */ var scriptjs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(scriptjs__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../services/calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _services_response_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../services/response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var _services_map_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../services/map.service */ "./src/app/services/map.service.ts");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../editfeature/editfeature.page */ "./src/app/pages/feature/editfeature/editfeature.page.ts");
/* harmony import */ var _onboardfeature_onboardfeature_page__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../onboardfeature/onboardfeature.page */ "./src/app/pages/feature/onboardfeature/onboardfeature.page.ts");
/* harmony import */ var _user_register_register_page__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../user/register/register.page */ "./src/app/pages/user/register/register.page.ts");
/* harmony import */ var _connect_focus_photo_focus_photo_page__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../connect/focus-photo/focus-photo.page */ "./src/app/pages/connect/focus-photo/focus-photo.page.ts");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var _createfeature_createfeature_page__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../createfeature/createfeature.page */ "./src/app/pages/feature/createfeature/createfeature.page.ts");
/* harmony import */ var _editparticipants_editparticipants_page__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../editparticipants/editparticipants.page */ "./src/app/pages/feature/editparticipants/editparticipants.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};

























var ShowfeaturePage = /** @class */ (function () {
    function ShowfeaturePage(zone, location, storage, electronService, badge, swUpdate, route, router, cache, platform, alertCtrl, actionSheetCtrl, loadingCtrl, modalCtrl, pickerCtrl, networkService, chatService, userData, authService, mapService, momentService, resourceService, responseService, calendarService) {
        var _this = this;
        this.zone = zone;
        this.location = location;
        this.storage = storage;
        this.electronService = electronService;
        this.badge = badge;
        this.swUpdate = swUpdate;
        this.route = route;
        this.router = router;
        this.cache = cache;
        this.platform = platform;
        this.alertCtrl = alertCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.loadingCtrl = loadingCtrl;
        this.modalCtrl = modalCtrl;
        this.pickerCtrl = pickerCtrl;
        this.networkService = networkService;
        this.chatService = chatService;
        this.userData = userData;
        this.authService = authService;
        this.mapService = mapService;
        this.momentService = momentService;
        this.resourceService = resourceService;
        this.responseService = responseService;
        this.calendarService = calendarService;
        this.moment = { _id: '' };
        this.subscriptions = {};
        this.mode = 'list';
        this.slideOpts = {
            updateOnWindowResize: true,
            autoHeight: true // turned off autoHeight coz it will mess up the pager position
        };
        this.resource = {};
        this.categories = [];
        this.eventName = '';
        this.description = '';
        this.setupPermissionCompleted = false;
        this.loadCompleted = false;
        this.anyChangeMade = false;
        this.hasAddedToCalendar = false;
        this.hasAddedToAttendEventList = false;
        this.hasOrganizerAccess = false;
        this.hasLeaderAccess = false;
        this.mapURL = '';
        this.addressURL = '';
        this.planModules = [];
        this.mediaList = [];
        this.responseTemplate = {
            matrix_string: [],
            matrix_number: [],
            moment: '',
            array_number: []
        };
        this.responseObj = this.responseTemplate;
        this.expandedPrivilegesView = false;
        this.participantLabel = 'Participant';
        this.organizerLabel = 'Organizer';
        this.leaderLabel = 'Leader';
        this.participantsLabel = 'Participants';
        this.organizersLabel = 'Organizers';
        this.leadersLabel = 'Leaders';
        this.hasSpecialPrivilege = false;
        this.showSpecialAccess = false;
        this.scheduleViewState = 'current';
        this.showCurrentSchedule = true;
        this.showUpcomingSchedule = true;
        this.showPastSchedule = false;
        this.joinDisabled = false;
        // 10210 Schedule
        this.scheduleIds = [];
        this.adminAccessContentCalendars = [];
        this.newCalendarItem = {
            moment: '5e3e5743364afa55e52ce785',
            schedule: '',
            title: null,
            startDateObj: new Date(),
            endDateObj: new Date(),
            startDate: new Date().toISOString(),
            endDate: new Date().toISOString(),
            options: {
                firstReminderMinutes: 0,
            },
            uniqueAnswersPerCalendar: null,
        };
        this.listOfDisplayGoals = [];
        this.selectedGoal = null;
        this.editGoals = false;
        this.progressView = '';
        // 10500 Manage Participants
        this.participantsView = 'partcipants';
        // 12000 Notes
        this.notes = [];
        // 30000 poll
        this.responses = []; // an array of responses
        this.interactableDisplay = {}; // an object of arrays of options to be displayed
        this.totalVoteCount = {};
        this.quillEditorToolbarConfig = [
            ['bold', 'italic', 'underline', 'strike'],
            ['blockquote', 'code-block'],
            [{ 'header': 1 }, { 'header': 2 }],
            [{ 'list': 'ordered' }, { 'list': 'bullet' }],
            [{ 'indent': '-1' }, { 'indent': '+1' }],
            [{ 'direction': 'rtl' }],
            [{ 'size': ['small', false, 'large', 'huge'] }],
            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
            [{ 'color': [] }, { 'background': [] }],
            [{ 'font': [] }],
            [{ 'align': [] }],
            ['clean'],
            ['link', 'image', 'video'] // link and image, video
        ];
        // 50000 match users
        this.currentView = 'people';
        this.reachedEnd = true;
        this.matchedPeople = [];
        this.pageNum = 0;
        this.loadAPIBusy = false;
        this.searchKeyword = '';
        this.ionSpinner = false;
        // Plans Sliders
        this.programsReachedEnd = true;
        this.programs = [];
        this.programPageNum = 0;
        this.categoryIds = [];
        this.dateType = null;
        this.parentRelationshipListOfGoals = [];
        this.parentRelationshipGoalAttributes = [];
        this.parentRelationshipResponseObj = this.responseTemplate; // a user can respond to the Content's Relationship
        this.color_arrays = [
            { name: 'Periwinkle', color: '#cec2ff' },
            { name: 'Bleu de France', color: '#3C91E6' },
            { name: 'Tuscan', color: '#fbd1a2' },
            { name: 'Shadow Blue', color: '#777da7' },
            { name: 'Pearl Aqua', color: '#7DCFB6' },
            { name: 'Light Red', color: '#F65374' },
            { name: 'Dark Grey', color: '#86888f' },
            { name: 'Yellow', color: '#e0b500' },
            { name: 'Light Blue', color: '#4A90E2' },
            { name: 'Dark Green', color: '#0ec254' },
            { name: 'Orange', color: '#f6c653' },
        ];
        // for current user refreshing the app
        this.loadAndProcessMomentHandler = function (data) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("loadAndProcessMomentHandler");
                        if (!this.calendarId) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadCalendarItem()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.moment._id) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.loadMoment()];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 6];
                    case 4:
                        this.moment._id = this.route.snapshot.paramMap.get('id') || '5d5785b462489003817fee18';
                        return [4 /*yield*/, this.loadMoment()];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6:
                        this.categoryIds = this.moment.categories ? this.moment.categories.map(function (c) { return c._id; }) : [];
                        if (this.moment && this.moment._id) {
                            // ready to check authentication status
                            if (this.authService.token && this.userData.user) {
                                this.setupPermission();
                            }
                            else {
                                this.setupPermissionCompleted = true;
                            }
                        }
                        // load list of plans. it does not require authentication
                        return [4 /*yield*/, this.loadPrograms()];
                    case 7:
                        // load list of plans. it does not require authentication
                        _a.sent();
                        // if user has not joined, or if token is provided
                        if ((this.authService.token && !this.token && !this.hasAddedToAttendEventList && !this.hasOrganizerAccess && !this.hasLeaderAccess) || this.token) {
                            // do not hide special access toolbar
                            this.showSpecialAccess = true;
                        }
                        else {
                            this.hasSpecialPrivilege = true;
                        }
                        if (data && data.type === 'search map') {
                            this.searchMap();
                        }
                        return [2 /*return*/];
                }
            });
        }); };
        // for refreshing moment either because of real-time interactables, or for refreshing participation
        this.refreshMomentHandler = function (res) { return __awaiter(_this, void 0, void 0, function () {
            var e_1, _a, e_2, _b, e_3, _c, e_4, _d, momentId, data, index, index, i, index, _e, _f, interactable, interactableId, componentId, results, _g, _h, calendarItem, _j, _k, calendarItem, index, index, index, _l, _m, interactable, i;
            return __generator(this, function (_o) {
                switch (_o.label) {
                    case 0:
                        if (!(res && res.momentId && res.data)) return [3 /*break*/, 9];
                        momentId = res.momentId;
                        data = res.data;
                        if (!(momentId === this.relationshipId)) return [3 /*break*/, 1];
                        if (data.calendarId) {
                            index = this.parentRelationshipResponseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.calendarId);
                            if (index >= 0) {
                                this.parentRelationshipResponseObj.matrix_string.splice(index, 1, data.interactable);
                            }
                            else {
                                this.parentRelationshipResponseObj.matrix_string.push(data.interactable);
                            }
                        }
                        else if (data.goal) {
                            if (data.action === 'delete') {
                                index = this.parentRelationshipResponseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (index >= 0) {
                                    this.parentRelationshipResponseObj.matrix_string.splice(index, 1);
                                }
                            }
                            else {
                                i = this.parentRelationshipResponseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (i >= 0) {
                                    this.parentRelationshipResponseObj.matrix_string.splice(i, 1, data.goal);
                                }
                                else {
                                    this.parentRelationshipResponseObj.matrix_string.push(data.goal);
                                }
                            }
                        }
                        return [3 /*break*/, 9];
                    case 1:
                        if (!((this.moment._id === momentId) || (this.moment._id + (this.relationshipId || '') === momentId) || ((this.calendarId || '') === momentId))) return [3 /*break*/, 9];
                        if (!data.response) return [3 /*break*/, 2];
                        index = this.responses.map(function (c) { return c._id; }).indexOf(data.response._id);
                        if (index < 0) { // if the response hasn't been added to the response list
                            this.responses.push(data.response);
                        }
                        else { // if it has been added, replace with the incoming one
                            this.responses.splice(index, 1, data.response);
                        }
                        // now the latest response have been included, reset the display array for Poll
                        if (data.response.matrix_number) {
                            try {
                                for (_e = __values(data.response.matrix_number), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    interactable = _f.value;
                                    interactableId = interactable[0];
                                    if (this.interactableDisplay.hasOwnProperty(interactableId)) {
                                        componentId = this.moment.resource.matrix_number[0][this.moment.resource.matrix_number[2].indexOf(interactableId)];
                                        if (componentId === 30000) {
                                            // reset vote count to zero
                                            this.interactableDisplay[interactableId].forEach(function (displayItem) {
                                                displayItem.count = 0;
                                                displayItem.votedByUser = false;
                                            });
                                            // reconstruct the interactable Display array
                                            this.totalVoteCount[interactableId] = 0;
                                            this.setupPollDisplay(interactableId, this.moment.resource.matrix_number[2].indexOf(interactableId));
                                        }
                                        else if (componentId === 40000) { // multiple choice
                                            this.setupInteractableDisplay(interactableId, this.moment.resource.matrix_number[2].indexOf(interactableId));
                                        }
                                        else if (componentId === 40010) { // text answer
                                            // using delta. see below
                                        }
                                        else if (componentId === 40020) { // tile choice
                                            this.setupInteractableDisplay(interactableId, this.moment.resource.matrix_number[2].indexOf(interactableId));
                                        }
                                    }
                                }
                            }
                            catch (e_1_1) { e_1 = { error: e_1_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
                                }
                                finally { if (e_1) throw e_1.error; }
                            }
                        }
                        return [3 /*break*/, 9];
                    case 2:
                        if (!(data.type === 'refresh participation')) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.loadMoment()];
                    case 3:
                        _o.sent();
                        if (this.moment && this.moment._id) {
                            if (this.authService.token && this.userData.user) {
                                this.setupPermission();
                            }
                            else {
                                this.setupPermissionCompleted = true;
                            }
                        }
                        return [3 /*break*/, 9];
                    case 4:
                        if (!(data.type === 'refresh calendar items')) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 5:
                        _o.sent();
                        this.calendarService.updateViewCalendar(); // this will recalculate the past, current, upcoming flags
                        if (!this.hasOrganizerAccess) return [3 /*break*/, 7];
                        return [4 /*yield*/, this.calendarService.loadRelationshipContentCalendars(this.moment._id)];
                    case 6:
                        results = _o.sent();
                        this.adminAccessContentCalendars = results || [];
                        _o.label = 7;
                    case 7:
                        this.refreshCalendarDisplay();
                        this.checkAndLoadNotes();
                        return [3 /*break*/, 9];
                    case 8:
                        if (data.type === 'refresh notes') {
                            this.checkAndLoadNotes();
                        }
                        else if (data.delta && data.interactableId && this.interactableDisplay.hasOwnProperty(data.interactableId)) {
                            // update the interactable Display (private or collaborative view)
                            if (this.interactableDisplay.hasOwnProperty(data.interactableId) && this.interactableDisplay[data.interactableId].editor) {
                                this.interactableDisplay[data.interactableId].editor.updateContents(data.delta, 'silent');
                            }
                        }
                        else if (data.calendarId) {
                            try {
                                // update user's calendar items array
                                for (_g = __values(this.calendarService.calendarItems), _h = _g.next(); !_h.done; _h = _g.next()) {
                                    calendarItem = _h.value;
                                    if (calendarItem._id === data.calendarId) { // interactable[0] is a String
                                        if (data.state) {
                                            calendarItem.completed = data.state;
                                        }
                                        else if (data.goals) {
                                            calendarItem.goals = data.goals;
                                        }
                                    }
                                }
                            }
                            catch (e_2_1) { e_2 = { error: e_2_1 }; }
                            finally {
                                try {
                                    if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
                                }
                                finally { if (e_2) throw e_2.error; }
                            }
                            try {
                                // update super admin's calendar items list (ad hoc for super admin. normally empty for regular user who is not a super admin)
                                for (_j = __values(this.adminAccessContentCalendars), _k = _j.next(); !_k.done; _k = _j.next()) {
                                    calendarItem = _k.value;
                                    if (calendarItem._id === data.calendarId) { // interactable[0] is a String
                                        if (data.hasOwnProperty('state')) {
                                            calendarItem.completed = data.state;
                                        }
                                        else if (data.goals) {
                                            calendarItem.goals = data.goals;
                                        }
                                    }
                                }
                            }
                            catch (e_3_1) { e_3 = { error: e_3_1 }; }
                            finally {
                                try {
                                    if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
                                }
                                finally { if (e_3) throw e_3.error; }
                            }
                            index = this.responseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.calendarId);
                            if (index >= 0) {
                                this.responseObj.matrix_string.splice(index, 1, data.interactable);
                            }
                            else {
                                this.responseObj.matrix_string.push(data.interactable);
                            }
                        }
                        else if (data.goal) {
                            if (data.action === 'delete') {
                                index = this.listOfDisplayGoals.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (index >= 0) {
                                    this.listOfDisplayGoals.splice(index, 1);
                                }
                                // keep the responseObj fresh by removing goal
                                index = this.responseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (index >= 0) {
                                    this.responseObj.matrix_string.splice(index, 1);
                                }
                            }
                            else {
                                index = this.listOfDisplayGoals.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (index >= 0) {
                                    this.listOfDisplayGoals.splice(index, 1, data.goal);
                                }
                                else {
                                    this.listOfDisplayGoals.push(data.goal);
                                }
                                try {
                                    for (_l = __values(this.listOfDisplayGoals), _m = _l.next(); !_m.done; _m = _l.next()) {
                                        interactable = _m.value;
                                        interactable[2] = (interactable[2] == 'true'); // convert type to boolean
                                    }
                                }
                                catch (e_4_1) { e_4 = { error: e_4_1 }; }
                                finally {
                                    try {
                                        if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
                                    }
                                    finally { if (e_4) throw e_4.error; }
                                }
                                i = this.responseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(data.goal[0]);
                                if (i >= 0) {
                                    this.responseObj.matrix_string.splice(i, 1, data.goal);
                                }
                                else {
                                    this.responseObj.matrix_string.push(data.goal);
                                }
                            }
                        }
                        _o.label = 9;
                    case 9: return [2 /*return*/];
                }
            });
        }); };
    }
    ShowfeaturePage_1 = ShowfeaturePage;
    ShowfeaturePage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.authService.cachedRouteParams = this.route.snapshot.params;
                        this.authService.cachedRouteUrl = this.router.url.split(';')[0];
                        this.relationshipId = this.relationshipId || this.route.snapshot.paramMap.get('relationshipId');
                        if (this.relationshipId) { // if relationship context is provided, also assign it to the responseObj property
                            this.responseObj.relationship = this.relationshipId;
                            this.parentRelationshipResponseObj.moment = this.relationshipId;
                        }
                        this.calendarId = this.calendarId || this.route.snapshot.paramMap.get('calendarId');
                        return [4 /*yield*/, this.resourceService.loadSystemResources()];
                    case 1:
                        result = _a.sent();
                        this.resource = result.find(function (c) { return c.field === 'Activity Components v2'; }); // return the activity components resource object in the result array
                        this.categories = result.filter(function (c) { return c.field === 'Activity Category'; }); // return the plan categories array by filtering the result array
                        this.subscriptions['refreshMoment'] = this.momentService.refreshMoment$.subscribe(this.refreshMomentHandler);
                        // link refreshUserStatus observable with the loadMoment handler. It fires on page loads and subsequent user status refresh
                        this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(this.loadAndProcessMomentHandler);
                        return [4 /*yield*/, this.processVerificationToken()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.loadCalendarItem = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, results, parentRelationshipInteractable;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(this.authService.token && this.calendarId)) return [3 /*break*/, 3];
                        _a = this;
                        return [4 /*yield*/, this.momentService.touchContentCalendarItems(null, { operation: 'load calendar item', calendarId: this.calendarId })];
                    case 1:
                        _a.calendarItem = _b.sent();
                        if (this.calendarItem && this.calendarItem.uniqueAnswersPerCalendar) { // if calendar context is provided and if it is an unique answer per calendar, also assign it to the responseObj property
                            this.responseObj.calendar = this.calendarId;
                        }
                        return [4 /*yield*/, this.responseService.findResponsesByMomentId(this.relationshipId, null, null)];
                    case 2:
                        results = _b.sent();
                        if (results && results.responses && results.responses.length) {
                            this.parentRelationshipResponseObj = JSON.parse(JSON.stringify(results.responses[results.responses.length - 1]));
                            delete this.parentRelationshipResponseObj._id; // the latest response id is erased, since it may be saved as a new doc
                            this.parentRelationshipListOfGoals = results.responses[results.responses.length - 1].matrix_string.filter(function (c) { return c[1] === 'goal'; }); // goals and not master goals
                            parentRelationshipInteractable = results.responses[results.responses.length - 1].matrix_string.find(function (c) { return c[0] === _this.calendarId; });
                            if (parentRelationshipInteractable) {
                                this.parentRelationshipGoalAttributes = parentRelationshipInteractable.slice(10);
                            }
                        }
                        _b.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.refreshCalendarDisplay = function () {
        var e_5, _a, e_6, _b, e_7, _c, e_8, _d, e_9, _e;
        try {
            // calendarService.calendarItems display has already been refreshed
            // refresh the admin accessed calendars if it has any element (if one has admin access)
            for (var _f = __values(this.adminAccessContentCalendars), _g = _f.next(); !_g.done; _g = _f.next()) {
                var calendarItem = _g.value;
                // check to see if there are upcoming events
                if (new Date(calendarItem.startDate).getTime() < new Date().getTime() - 2 * 24 * 60 * 60 * 1000) {
                    calendarItem.status = 'Past';
                }
                else if (new Date(calendarItem.startDate).getTime() > new Date().getTime() + 2 * 24 * 60 * 60 * 1000) {
                    calendarItem.status = 'Upcoming';
                }
                else {
                    calendarItem.status = 'Current';
                }
                calendarItem.completed = false;
            }
        }
        catch (e_5_1) { e_5 = { error: e_5_1 }; }
        finally {
            try {
                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);
            }
            finally { if (e_5) throw e_5.error; }
        }
        try {
            for (var _h = __values(this.responses), _j = _h.next(); !_j.done; _j = _h.next()) {
                var response = _j.value;
                try {
                    for (var _k = __values(response.matrix_string), _l = _k.next(); !_l.done; _l = _k.next()) { // process the interactable and schedule responses
                        var interactable = _l.value;
                        try {
                            // regular user calendar items list
                            for (var _m = __values(this.calendarService.calendarItems), _o = _m.next(); !_o.done; _o = _m.next()) {
                                var calendarItem = _o.value;
                                if (calendarItem._id === interactable[0] && interactable.length > 5) { // interactable[0] is a String
                                    calendarItem.completed = interactable[5]; // check-in state
                                }
                                if (calendarItem._id === interactable[0] && interactable.length > 10) { // interactable[0] is a String
                                    calendarItem.goals = interactable.slice(10); // grab the goal attributes
                                }
                            }
                        }
                        catch (e_8_1) { e_8 = { error: e_8_1 }; }
                        finally {
                            try {
                                if (_o && !_o.done && (_d = _m.return)) _d.call(_m);
                            }
                            finally { if (e_8) throw e_8.error; }
                        }
                        try {
                            // super admin's calendar items list
                            for (var _p = __values(this.adminAccessContentCalendars), _q = _p.next(); !_q.done; _q = _p.next()) {
                                var calendarItem = _q.value;
                                if (calendarItem._id === interactable[0] && interactable.length > 5) { // interactable[0] is a String
                                    calendarItem.completed = interactable[5]; // check-in state
                                }
                                if (calendarItem._id === interactable[0] && interactable.length > 10) { // interactable[0] is a String
                                    calendarItem.goals = interactable.slice(10); // grab the goal attributes
                                }
                            }
                        }
                        catch (e_9_1) { e_9 = { error: e_9_1 }; }
                        finally {
                            try {
                                if (_q && !_q.done && (_e = _p.return)) _e.call(_p);
                            }
                            finally { if (e_9) throw e_9.error; }
                        }
                        // also update the response Obj, in ascending updatedAt order, so the responseObj will have the latest response data
                        var index = this.responseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(interactable[0]);
                        if (index >= 0) {
                            this.responseObj.matrix_string.splice(index, 1, interactable);
                        }
                        else {
                            this.responseObj.matrix_string.push(interactable);
                        }
                    }
                }
                catch (e_7_1) { e_7 = { error: e_7_1 }; }
                finally {
                    try {
                        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);
                    }
                    finally { if (e_7) throw e_7.error; }
                }
            }
        }
        catch (e_6_1) { e_6 = { error: e_6_1 }; }
        finally {
            try {
                if (_j && !_j.done && (_b = _h.return)) _b.call(_h);
            }
            finally { if (e_6) throw e_6.error; }
        }
    };
    ShowfeaturePage.prototype.loadMoment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_10, _a, _b, _c, results, _d, _e, response, schedules, results, viewMap;
            var _this = this;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0:
                        if (!this.authService.token) return [3 /*break*/, 2];
                        _b = this;
                        return [4 /*yield*/, this.momentService.load(this.moment._id)];
                    case 1:
                        _b.moment = _f.sent();
                        return [3 /*break*/, 4];
                    case 2:
                        _c = this;
                        return [4 /*yield*/, this.momentService.loadPublicMoment(this.moment._id)];
                    case 3:
                        _c.moment = _f.sent();
                        _f.label = 4;
                    case 4:
                        if (!this.moment) return [3 /*break*/, 19];
                        console.log("loaded moment", this.moment);
                        if (this.moment.location && this.moment.location.geo && this.moment.location.geo.coordinates && this.moment.location.geo.coordinates.length) {
                            this.mapURL = "https://maps.locationiq.com/v2/staticmap?key=pk.e5797fe100f9aa5732d5346f742b243f&center=" + this.moment.location.geo.coordinates[1] + "," + this.moment.location.geo.coordinates[0] + "&zoom=12&size=1000x600&maptype=roadmap&markers=icon:%20large-red-cutout%20|" + this.moment.location.geo.coordinates[1] + "," + this.moment.location.geo.coordinates[0];
                            this.addressURL = "http://maps.google.com/?q=" + this.moment.location.geo.coordinates[1] + "+%2C" + this.moment.location.geo.coordinates[0];
                        }
                        // initialize the response objects with the correct moment ID
                        this.responseObj.moment = this.moment._id;
                        // initialize the planModules array
                        this.planModules = [];
                        this.moment.array_moment.forEach(function (moment) {
                            _this.planModules.push(moment);
                        });
                        if (!(this.moment.resource.matrix_number && this.moment.resource.matrix_number.length)) return [3 /*break*/, 18];
                        if (!this.moment.resource.matrix_number[0].find(function (c) { return (c === 10210) || (c >= 30000 && c <= 49999); })) return [3 /*break*/, 6];
                        return [4 /*yield*/, this.responseService.findResponsesByMomentId(this.moment._id, this.relationshipId, ((this.calendarItem && this.calendarItem.uniqueAnswersPerCalendar) ? this.calendarId : null))];
                    case 5:
                        results = _f.sent();
                        if (results && results.responses) {
                            if (this.responseId) {
                                this.responses = results.responses.filter(function (c) { return c._id === _this.responseId; });
                            }
                            else {
                                this.responses = results.responses;
                            }
                        }
                        if (results && results.hasOrganizerLeaderAccess) {
                            this.hasOrganizerAccess = this.hasOrganizerAccess || results.hasOrganizerLeaderAccess;
                        }
                        try {
                            for (_d = __values(this.responses), _e = _d.next(); !_e.done; _e = _d.next()) {
                                response = _e.value;
                                if (response.user._id === this.userData.user._id) {
                                    this.responseObj = JSON.parse(JSON.stringify(response)); // load the response object with backend data
                                }
                            }
                        }
                        catch (e_10_1) { e_10 = { error: e_10_1 }; }
                        finally {
                            try {
                                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                            }
                            finally { if (e_10) throw e_10.error; }
                        }
                        _f.label = 6;
                    case 6:
                        if (!this.moment.resource.matrix_number[0].find(function (c) { return c === 10210; })) return [3 /*break*/, 14];
                        return [4 /*yield*/, this.momentService.loadActivitySchedules(this.moment._id)];
                    case 7:
                        schedules = _f.sent();
                        this.customSchedule = schedules.find(function (c) { return c.options && !c.options.recurrence; }); // customSchedule is a schedule with options.recurrence set to 'none'
                        this.scheduleIds = schedules.map(function (c) { return c._id; });
                        if (!!this.hasOrganizerAccess) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 8:
                        _f.sent(); // refresh and fetch the latest calendar items
                        _f.label = 9;
                    case 9:
                        this.calendarService.updateViewCalendar(); // this will recalculate the past, current, upcoming flags
                        if (!(this.authService.token && this.userData.user)) return [3 /*break*/, 11];
                        return [4 /*yield*/, this.setupPermission()];
                    case 10:
                        _f.sent(); // TODO: investigate if this is required
                        _f.label = 11;
                    case 11:
                        if (!this.hasOrganizerAccess) return [3 /*break*/, 13];
                        if (!this.hasOrganizerAccess) return [3 /*break*/, 13];
                        return [4 /*yield*/, this.calendarService.loadRelationshipContentCalendars(this.moment._id)];
                    case 12:
                        results = _f.sent();
                        this.adminAccessContentCalendars = results || [];
                        _f.label = 13;
                    case 13:
                        this.refreshCalendarDisplay();
                        _f.label = 14;
                    case 14:
                        // if show participants is turned on
                        if (this.moment.resource.matrix_number[0].find(function (c) { return c === 10500; })) {
                            viewMap = ['participants', 'organizers', 'leaders'];
                            this.participantsView = viewMap[this.moment.matrix_number[this.moment.resource.matrix_number[0].indexOf(10500)].indexOf(1) || 0];
                        }
                        // set up tabs
                        if (this.moment.resource.matrix_number[0].find(function (c) { return c === 20020; })) {
                            if (!this.tabSelection && this.moment.matrix_number[this.moment.resource.matrix_number[0].indexOf(20020)].length > 5) { // assuming at least 1 tab has been created. if no default has been selected, use the first available tab
                                this.tabSelection = JSON.parse(JSON.stringify(this.moment.matrix_number[this.moment.resource.matrix_number[0].indexOf(20020)][0] || this.moment.matrix_number[this.moment.resource.matrix_number[0].indexOf(20020)][5]));
                            }
                        }
                        // check if needed to load notes (12000)
                        this.checkAndLoadNotes();
                        // set up to display interactables (poll, MC, text answer), schedule + goal, map
                        // also for Colloborative component, make sure the responseObj is updated with the lastResponse data
                        this.moment.resource.matrix_number[0].forEach(function (componentId, componentIndex) {
                            var e_11, _a, e_12, _b, e_13, _c, e_14, _d, e_15, _e, e_16, _f, _g;
                            if (_this.moment.resource.matrix_number[2]) {
                                // interactableId is a Number
                                var interactableId_1 = _this.moment.resource.matrix_number[2][componentIndex]; // if interactable, grab the createdAt timestamp
                                if (componentId === 30000) { // poll
                                    _this.interactableDisplay[interactableId_1] = [];
                                    try {
                                        for (var _h = __values(_this.moment.matrix_string[componentIndex]), _j = _h.next(); !_j.done; _j = _h.next()) { // set up the poll options
                                            var option = _j.value;
                                            _this.interactableDisplay[interactableId_1].push({ option: option, count: 0, votedByUser: false });
                                        }
                                    }
                                    catch (e_11_1) { e_11 = { error: e_11_1 }; }
                                    finally {
                                        try {
                                            if (_j && !_j.done && (_a = _h.return)) _a.call(_h);
                                        }
                                        finally { if (e_11) throw e_11.error; }
                                    }
                                    _this.totalVoteCount[interactableId_1] = 0;
                                    _this.setupPollDisplay(interactableId_1, componentIndex);
                                }
                                else if (componentId === 40000) { // multiple choice
                                    _this.interactableDisplay[interactableId_1] = [];
                                    try {
                                        for (var _k = __values(_this.moment.matrix_string[componentIndex]), _l = _k.next(); !_l.done; _l = _k.next()) { // set up the interactable options
                                            var option = _l.value;
                                            _this.interactableDisplay[interactableId_1].push({ option: option, selectedByUser: false });
                                        }
                                    }
                                    catch (e_12_1) { e_12 = { error: e_12_1 }; }
                                    finally {
                                        try {
                                            if (_l && !_l.done && (_b = _k.return)) _b.call(_k);
                                        }
                                        finally { if (e_12) throw e_12.error; }
                                    }
                                    _this.setupInteractableDisplay(interactableId_1, componentIndex);
                                }
                                else if (componentId === 40010) { // text answer. Note: Collaborative Goals require updating this.responseObj with the latestResponse data
                                    _this.interactableDisplay[interactableId_1] = { editor: null };
                                    // first determine if it is collaborative or private
                                    var isCollaborative = _this.moment.matrix_number[componentIndex].length > 1 && _this.moment.matrix_number[componentIndex][1];
                                    _this.interactableDisplay[interactableId_1].collaborative = isCollaborative;
                                    // if collaborative, find the latest Response
                                    var latestResponse = void 0;
                                    if (isCollaborative) {
                                        try {
                                            // this.responses is sorted by updatedAt (see server), from oldest to newest. therefore latestResponse should have the latest response
                                            for (var _m = __values(_this.responses), _o = _m.next(); !_o.done; _o = _m.next()) {
                                                var response = _o.value;
                                                try {
                                                    //console.log("resp time", response.updatedAt);
                                                    for (var _p = __values(response.matrix_string), _q = _p.next(); !_q.done; _q = _p.next()) {
                                                        var interactable = _q.value;
                                                        if (interactableId_1.toString() === interactable[0]) { // interactableId is a Number
                                                            latestResponse = response;
                                                        }
                                                    }
                                                }
                                                catch (e_14_1) { e_14 = { error: e_14_1 }; }
                                                finally {
                                                    try {
                                                        if (_q && !_q.done && (_d = _p.return)) _d.call(_p);
                                                    }
                                                    finally { if (e_14) throw e_14.error; }
                                                }
                                            }
                                        }
                                        catch (e_13_1) { e_13 = { error: e_13_1 }; }
                                        finally {
                                            try {
                                                if (_o && !_o.done && (_c = _m.return)) _c.call(_m);
                                            }
                                            finally { if (e_13) throw e_13.error; }
                                        }
                                        latestResponse = latestResponse || _this.responseTemplate;
                                    }
                                    else {
                                        latestResponse = _this.responseObj; // if not collaborative, shows in text editor the user's own response. if null. use an empty template
                                    }
                                    try {
                                        // setup the Display for Text Answer
                                        for (var _r = __values(latestResponse.matrix_string), _s = _r.next(); !_s.done; _s = _r.next()) { // process the text answer responses
                                            var interactable = _s.value;
                                            if (interactableId_1.toString() === interactable[0]) { // interactableId is a Number
                                                var content = void 0;
                                                if (interactable.length > 2 && interactable[2]) {
                                                    content = JSON.parse(interactable[2]);
                                                }
                                                else { // for backward compatibility before quill, need to build the content object from scratch
                                                    content = { ops: [{ insert: interactable[1] + '\n' }] };
                                                }
                                                _this.interactableDisplay[interactableId_1].content = content; // insert the response data into the display matrix
                                                // prep the user's own response Obj, in case response needs to be sent out without the user changing the text answer and it will still grab the latest response text answer
                                                var updatedExistingResponse = void 0;
                                                try {
                                                    for (var _t = __values(_this.responseObj.matrix_string), _u = _t.next(); !_u.done; _u = _t.next()) {
                                                        var responseInteractable = _u.value;
                                                        if (responseInteractable[0] === interactableId_1.toString()) { // InteractableId is in Number
                                                            responseInteractable = interactable;
                                                            updatedExistingResponse = true;
                                                        }
                                                    }
                                                }
                                                catch (e_16_1) { e_16 = { error: e_16_1 }; }
                                                finally {
                                                    try {
                                                        if (_u && !_u.done && (_f = _t.return)) _f.call(_t);
                                                    }
                                                    finally { if (e_16) throw e_16.error; }
                                                }
                                                if (!updatedExistingResponse) { // add a new entry to array
                                                    _this.responseObj.matrix_number.push([interactableId_1]);
                                                    _this.responseObj.matrix_string.push(interactable);
                                                }
                                            }
                                        }
                                    }
                                    catch (e_15_1) { e_15 = { error: e_15_1 }; }
                                    finally {
                                        try {
                                            if (_s && !_s.done && (_e = _r.return)) _e.call(_r);
                                        }
                                        finally { if (e_15) throw e_15.error; }
                                    }
                                }
                                else if (componentId === 40020) { // tile choice
                                    _this.interactableDisplay[interactableId_1] = {};
                                    _this.moment.matrix_string[componentIndex].forEach(function (option, option_index) {
                                        if (option_index % 2 === 0) { // only even number, i.e. 0, 2, 4, 6
                                            _this.interactableDisplay[interactableId_1][_this.moment.matrix_number[componentIndex][option_index + 5].toString()] = { createdAt: _this.moment.matrix_number[componentIndex][option_index + 5], option: option, image: _this.moment.matrix_string[componentIndex][option_index + 1], selectedByUser: false };
                                        }
                                    });
                                    _this.setupInteractableDisplay(interactableId_1, componentIndex);
                                }
                                else if (componentId === 10210) { // goal attributes. Note: Collaborative Goals require updating this.responseObj with the latestResponse data
                                    // for goals, grab the most recently updated response and use its goal records
                                    if (_this.responses.length) {
                                        var latestResponse = _this.responses[_this.responses.length - 1];
                                        _this.listOfDisplayGoals = latestResponse.matrix_string.filter(function (c) { return ['goal', 'master goal'].includes(c[1]); });
                                        // update this.responseObj with the latest goals data
                                        _this.responseObj.matrix_string = _this.responseObj.matrix_string.filter(function (c) { return !['goal', 'master goal'].includes(c[1]); });
                                        (_g = _this.responseObj.matrix_string).push.apply(_g, __spread(latestResponse.matrix_string.filter(function (c) { return ['goal', 'master goal'].includes(c[1]); })));
                                    }
                                    console.log("list of dis", _this.listOfDisplayGoals);
                                }
                            }
                            // set up map display
                            if (componentId === 50000 && _this.moment.matrix_number[componentIndex][3] === 2) {
                                Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.js', function () {
                                    Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://tiles.unwiredmaps.com/v2/js/unwired-gl.js?v=0.1.6', function () {
                                        _this.mapService.setupMap();
                                    });
                                });
                            }
                        });
                        this.loadCompleted = true;
                        if (!this.moment.resource.matrix_number[0].find(function (c) { return c === 50000; })) return [3 /*break*/, 17];
                        if (!(this.currentView === 'list' || this.currentView === 'people')) return [3 /*break*/, 16];
                        return [4 /*yield*/, this.loadPeople()];
                    case 15:
                        _f.sent();
                        return [3 /*break*/, 17];
                    case 16:
                        if (this.currentView === 'nearby') {
                            Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.js', function () {
                                Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://tiles.unwiredmaps.com/v2/js/unwired-gl.js?v=0.1.6', function () {
                                    _this.mapService.setupMap();
                                });
                            });
                            if (this.mapService.map && this.mapService.map.loaded()) {
                                setTimeout(function () {
                                    _this.mapService.map.resize();
                                }, 500);
                            }
                        }
                        _f.label = 17;
                    case 17: return [3 /*break*/, 19];
                    case 18:
                        this.loadCompleted = true;
                        _f.label = 19;
                    case 19: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.setupPermission = function () {
        return __awaiter(this, void 0, void 0, function () {
            var calendarItemIds, peopleComponentId, promises;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.momentService.socket) {
                            if (this.relationshipId && this.calendarId && this.calendarItem && this.calendarItem.uniqueAnswersPerCalendar) {
                                this.momentService.socket.emit('join moment', this.calendarId); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                            }
                            else if (this.relationshipId) {
                                this.momentService.socket.emit('join moment', this.relationshipId);
                                this.momentService.socket.emit('join moment', this.moment._id + this.relationshipId);
                            }
                            else {
                                this.momentService.socket.emit('join moment', this.moment._id);
                            }
                        }
                        calendarItemIds = this.calendarService.calendarItems.map(function (c) { return c._id; });
                        this.hasAddedToCalendar = this.moment.calendar && (calendarItemIds.indexOf(this.moment.calendar._id) > -1);
                        if (!this.moment.user_list_1) return [3 /*break*/, 5];
                        peopleComponentId = -1;
                        if (this.moment.resource.matrix_number && this.moment.resource.matrix_number.length) {
                            peopleComponentId = this.moment.resource.matrix_number[0].indexOf(10500);
                        }
                        if (peopleComponentId > -1) {
                            this.participantLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 2 && this.moment.matrix_string[peopleComponentId][2] ? this.moment.matrix_string[peopleComponentId][2] : this.moment.resource['en-US'].matrix_string[peopleComponentId][4];
                            this.organizerLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 4 && this.moment.matrix_string[peopleComponentId][4] ? this.moment.matrix_string[peopleComponentId][4] : this.moment.resource['en-US'].matrix_string[peopleComponentId][6];
                            this.leaderLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 0 && this.moment.matrix_string[peopleComponentId][0] ? this.moment.matrix_string[peopleComponentId][0] : this.moment.resource['en-US'].matrix_string[peopleComponentId][8];
                            this.participantsLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 3 && this.moment.matrix_string[peopleComponentId][3] ? this.moment.matrix_string[peopleComponentId][3] : this.moment.resource['en-US'].matrix_string[peopleComponentId][5];
                            this.organizersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 5 && this.moment.matrix_string[peopleComponentId][5] ? this.moment.matrix_string[peopleComponentId][5] : this.moment.resource['en-US'].matrix_string[peopleComponentId][7];
                            this.leadersLabel = this.moment.matrix_string[peopleComponentId].length && this.moment.matrix_string[peopleComponentId].length > 1 && this.moment.matrix_string[peopleComponentId][1] ? this.moment.matrix_string[peopleComponentId][1] : this.moment.resource['en-US'].matrix_string[peopleComponentId][9];
                        }
                        // if a Content, disable join/leave function since join/leave is handled by user joining via the calendar content item (Calendar doc with user listed in users property)
                        this.joinDisabled = this.moment.categories.map(function (c) { return c._id; }).includes('5e1bbda67b00ea76b75e5a73') || this.moment.categories.map(function (c) { return c._id; }).includes('5e17acd47b00ea76b75e5a71');
                        this.hasAddedToAttendEventList = this.moment.user_list_1.map(function (c) { return c._id; }).includes(this.userData.user._id);
                        if (!this.moment.user_list_2.map(function (c) { return c._id; }).includes(this.userData.user._id)) return [3 /*break*/, 1];
                        this.hasOrganizerAccess = true;
                        return [3 /*break*/, 4];
                    case 1:
                        if (!['owner', 'admin', 'staff'].includes(this.userData.user.role)) return [3 /*break*/, 2];
                        this.hasOrganizerAccess = true;
                        return [3 /*break*/, 4];
                    case 2:
                        if (!(this.moment.parent_programs && this.moment.parent_programs.length)) return [3 /*break*/, 4];
                        promises = this.moment.parent_programs.map(function (parent_program) { return __awaiter(_this, void 0, void 0, function () {
                            var promises2;
                            var _this = this;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (parent_program.user_list_2 && parent_program.user_list_2.includes(this.userData.user._id)) {
                                            this.hasOrganizerAccess = true;
                                        }
                                        if (!(parent_program.parent_programs && parent_program.parent_programs.length)) return [3 /*break*/, 2];
                                        promises2 = parent_program.parent_programs.map(function (grandparent_program) { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                if (grandparent_program.user_list_2 && grandparent_program.user_list_2.includes(this.userData.user._id)) {
                                                    this.hasOrganizerAccess = true;
                                                }
                                                return [2 /*return*/];
                                            });
                                        }); });
                                        return [4 /*yield*/, Promise.all(promises2)];
                                    case 1:
                                        _a.sent();
                                        _a.label = 2;
                                    case 2: return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        this.hasLeaderAccess = this.moment.user_list_3.map(function (c) { return c._id; }).includes(this.userData.user._id);
                        this.setupPermissionCompleted = true;
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.setupPollDisplay = function (interactableId, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_17, _a, e_18, _b, _c, _d, response, _e, _f, interactable;
            return __generator(this, function (_g) {
                try {
                    for (_c = __values(this.responses), _d = _c.next(); !_d.done; _d = _c.next()) {
                        response = _d.value;
                        try {
                            for (_e = __values(response.matrix_number), _f = _e.next(); !_f.done; _f = _e.next()) {
                                interactable = _f.value;
                                if (interactableId === interactable[0]) {
                                    this.totalVoteCount[interactableId]++; // set up the total vote count
                                    if (interactable[1] > (this.moment.matrix_string[componentIndex].length - 1)) {
                                        return [2 /*return*/]; // if this response belongs to an option that has been deleted
                                    }
                                    if (response.user._id === this.userData.user._id) {
                                        this.interactableDisplay[interactableId][interactable[1]].votedByUser = true;
                                    }
                                    this.interactableDisplay[interactableId][interactable[1]].count++;
                                }
                            }
                        }
                        catch (e_18_1) { e_18 = { error: e_18_1 }; }
                        finally {
                            try {
                                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                            }
                            finally { if (e_18) throw e_18.error; }
                        }
                    }
                }
                catch (e_17_1) { e_17 = { error: e_17_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_17) throw e_17.error; }
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.setupInteractableDisplay = function (interactableId, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_19, _a, e_20, _b, _c, _d, response, _e, _f, interactable, i;
            return __generator(this, function (_g) {
                try {
                    for (_c = __values(this.responses), _d = _c.next(); !_d.done; _d = _c.next()) {
                        response = _d.value;
                        try {
                            for (_e = __values(response.matrix_number), _f = _e.next(); !_f.done; _f = _e.next()) { // process the interactable responses
                                interactable = _f.value;
                                if (interactableId === interactable[0]) {
                                    if (interactable.length - 5 > this.moment.matrix_string[componentIndex].length) {
                                        return [2 /*return*/]; // if this response belongs to an option that has been deleted
                                    }
                                    if (response.user._id === this.userData.user._id) {
                                        for (i = 5; i < interactable.length; i++) {
                                            if (this.moment.resource.matrix_number[0][componentIndex] === 40020) { // for tile choice, the response records the user's choice using the option's createdAt timestamp [200819285102, 201928523192, etc]
                                                this.interactableDisplay[interactableId][interactable[i].toString()].selectedByUser = true;
                                            }
                                            else { // for older interactables (e.g. multiple choice), response records the user's choice using the option index [1, 5, 4]
                                                this.interactableDisplay[interactableId][interactable[i]].selectedByUser = true;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        catch (e_20_1) { e_20 = { error: e_20_1 }; }
                        finally {
                            try {
                                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                            }
                            finally { if (e_20) throw e_20.error; }
                        }
                    }
                }
                catch (e_19_1) { e_19 = { error: e_19_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_19) throw e_19.error; }
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.addToCalendar = function (listOfConversations, listOfUsers) {
        return __awaiter(this, void 0, void 0, function () {
            var result, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.momentService.updateMomentUserLists({
                                operation: 'add to calendar',
                                conversations: listOfConversations,
                                users: listOfUsers,
                                calendarId: this.moment.calendar._id
                            }, this.token)];
                    case 1:
                        result = _a.sent();
                        this.anyChangeMade = true;
                        this.setupPermission();
                        return [2 /*return*/, result];
                    case 2:
                        err_1 = _a.sent();
                        console.log(err_1);
                        this.anyChangeMade = false;
                        return [2 /*return*/, false];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.removeFromCalendar = function () {
        return __awaiter(this, void 0, void 0, function () {
            var err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.momentService.updateMomentUserLists({
                                operation: 'remove from calendar',
                                users: [this.userData.user._id],
                                calendarId: this.moment.calendar._id
                            }, this.token)];
                    case 1:
                        _a.sent(); // a valid token is not required, but provided in case of future change of specs
                        this.anyChangeMade = true;
                        this.setupPermission();
                        return [3 /*break*/, 3];
                    case 2:
                        err_2 = _a.sent();
                        console.log(err_2);
                        this.anyChangeMade = false;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.leaveProgramWithPrivileges = function (user_list) {
        return __awaiter(this, void 0, void 0, function () {
            var role, alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        role = user_list === 'user_list_2' ? 'Organizer' : 'Leader';
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Leave as ' + role,
                                message: 'Are you sure you want to leave as ' + role + '?',
                                buttons: [{ text: 'Confirm Leave',
                                        handler: function () {
                                            _this.removeFromUserList(user_list);
                                        } },
                                    { text: 'Cancel' }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.removeFromUserList = function (user_list) {
        return __awaiter(this, void 0, void 0, function () {
            var count, err_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 7, , 8]);
                        if (!this.networkService.hasNetwork) return [3 /*break*/, 4];
                        if (!this.moment.conversation) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.chatService.resetBadgeCount(this.moment.conversation)];
                    case 1:
                        count = _a.sent();
                        if (count) {
                            if (this.platform.is('cordova') && this.userData.user.enablePushNotification) {
                                this.badge.decrease(count);
                            }
                            if (this.electronService.isElectronApp) {
                                this.electronService.ipcRenderer.send('SYSTEM_TRAY:::CHANGE_BADGE', -1 * count);
                            }
                        }
                        // Remove user from user_list
                        return [4 /*yield*/, this.momentService.updateMomentUserLists({
                                operation: 'remove from lists',
                                user_lists: [user_list],
                                users: [this.userData.user._id],
                                momentId: this.moment._id
                            }, this.token)];
                    case 2:
                        // Remove user from user_list
                        _a.sent(); // a valid token is not required, but provided in case of future change of specs
                        if (!this.modalPage) {
                            this.userData.refreshUserStatus({ type: 'close group view', data: { _id: this.moment.conversation } });
                        }
                        this.chatService.socket.emit('leave conversation', this.moment.conversation); // inform the socket.io server this user is leaving this room
                        this.userData.refreshMyConversations({ action: 'disconnect chat view', conversationId: this.moment.conversation });
                        this.userData.refreshMyConversations({ action: 'reload', conversationId: this.moment.conversation });
                        _a.label = 3;
                    case 3: return [3 /*break*/, 5];
                    case 4:
                        this.noNetworkConnection();
                        _a.label = 5;
                    case 5:
                        this.anyChangeMade = true;
                        return [4 /*yield*/, this.loadMoment()];
                    case 6:
                        _a.sent();
                        this.setupPermission();
                        return [3 /*break*/, 8];
                    case 7:
                        err_3 = _a.sent();
                        console.log(err_3);
                        this.anyChangeMade = false;
                        return [3 /*break*/, 8];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.inviteToJoin = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.authService.token) return [3 /*break*/, 5];
                        if (!this.hasOrganizerAccess) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.modalCtrl.create({ component: _editparticipants_editparticipants_page__WEBPACK_IMPORTED_MODULE_24__["EditparticipantsPage"], componentProps: { moment: this.moment, title: this.resource['en-US'].value[32] + ' to ' + this.moment.matrix_string[0][0], modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        this.momentService.addParticipants(this.moment, this.resource, 'both', ['user_list_1'], this.resource['en-US'].value[32] + ' to ' + this.moment.matrix_string[0][0], this.resource['en-US'].value[32], this.participantsLabel);
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        this.openRegister(0, 'To join ' + this.moment.matrix_string[0][0] + ', please sign in or create an account.');
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.editMoment = function (advanced) {
        return __awaiter(this, void 0, void 0, function () {
            var modal, refreshNeeded;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.modalPage) return [3 /*break*/, 7];
                        modal = void 0;
                        if (!(this.moment.categories.find(function (c) { return c._id === '5c915324e172e4e64590e346'; }) && !advanced)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.modalCtrl.create({ component: _createfeature_createfeature_page__WEBPACK_IMPORTED_MODULE_23__["CreatefeaturePage"], componentProps: { moment: this.moment, modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.modalCtrl.create({ component: _editfeature_editfeature_page__WEBPACK_IMPORTED_MODULE_18__["EditfeaturePage"], componentProps: { moment: this.moment, modalPage: true } })];
                    case 3:
                        modal = _a.sent();
                        _a.label = 4;
                    case 4: return [4 /*yield*/, modal.present()];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 6:
                        refreshNeeded = (_a.sent()).data;
                        // activity is an a moment object see server/models/moment.js
                        // activity contains a resource with info on the activity see server/models/resource.js
                        if (refreshNeeded) {
                            this.loadMoment();
                            this.setupPermission();
                            this.anyChangeMade = true;
                        }
                        return [3 /*break*/, 8];
                    case 7:
                        if (this.moment.categories.find(function (c) { return c._id === '5c915324e172e4e64590e346'; }) && !advanced) {
                            this.router.navigate(['/app/edit/community/' + this.moment._id]);
                        }
                        else {
                            this.router.navigate(['/app/edit/' + this.moment._id]);
                        }
                        _a.label = 8;
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.deleteMoment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: this.resource['en-US'].value[19] + ' ' + this.moment.resource['en-US'].value[0],
                            message: this.resource['en-US'].value[22] + ' ' + this.moment.matrix_string[0][0] + '? ' + (this.moment.resource.matrix_number && this.moment.resource.matrix_number.length && (this.moment.resource.matrix_number[0].indexOf(10370) > -1) ? this.resource['en-US'].value[23] : ''),
                            buttons: [{ text: 'Ok',
                                    handler: function () {
                                        var navTransition = alert.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: 
                                                    // Remove the Moment
                                                    return [4 /*yield*/, this.momentService.delete(this.moment)];
                                                    case 1:
                                                        // Remove the Moment
                                                        _a.sent();
                                                        this.anyChangeMade = true;
                                                        if (this.modalPage) {
                                                            this.closeModal();
                                                        }
                                                        else {
                                                            this.router.navigate(['/app/me'], { replaceUrl: true });
                                                            //this.location.back();
                                                        }
                                                        return [2 /*return*/];
                                                }
                                            });
                                        }); });
                                    } },
                                { text: 'Cancel' }],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.seeUserInfo = function (event, user) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                event.stopPropagation();
                user.name = user.first_name + ' ' + user.last_name;
                if (!this.authService.token) {
                    this.openRegister(0, 'To see more about ' + user.name + ', sign in or create an account first.');
                }
                else if (!this.modalPage && this.platform.width() >= 768) {
                    this.router.navigate(['/app/person/' + user._id], { replaceUrl: false });
                }
                else {
                    this.userData.refreshUserStatus({ type: 'show recipient', data: { recipient: user, modalPage: true } });
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.joinVideoConference = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.moment.conversation) {
                    if (this.modalPage && !this.platform.is('cordova')) {
                        this.closeModal();
                        setTimeout(function () {
                            _this.router.navigateByUrl('/app/activity/' + _this.moment._id);
                        }, 500);
                    }
                    this.chatService.toggleVideoChat({
                        videoChatRoomId: this.moment.conversation,
                        videoChatRoomSubject: this.moment.matrix_string[0][0],
                        channelLastN: '6',
                        startWithAudioMuted: true,
                        startWithVideoMuted: false,
                    });
                }
                else {
                    console.log("missing moment's conversation id");
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.voteOnPoll = function (event, componentIndex, pollOptionIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_21, _a, interactableId, updatedExistingVote, _b, _c, interactable;
            return __generator(this, function (_d) {
                event.stopPropagation();
                this.anyChangeMade = true;
                interactableId = this.moment.resource.matrix_number[2][componentIndex];
                updatedExistingVote = false;
                try {
                    for (_b = __values(this.responseObj.matrix_number), _c = _b.next(); !_c.done; _c = _b.next()) {
                        interactable = _c.value;
                        if (interactable[0] === interactableId) {
                            interactable[1] = pollOptionIndex; // update an existing vote
                            updatedExistingVote = true;
                        }
                    }
                }
                catch (e_21_1) { e_21 = { error: e_21_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_21) throw e_21.error; }
                }
                if (!updatedExistingVote) { // submit a new vote
                    this.responseObj.matrix_number.push([interactableId, pollOptionIndex]);
                }
                this.momentService.submitResponse(this.moment, this.responseObj, true);
                return [2 /*return*/];
            });
        });
    };
    // when a user respond to an interactive question (multiple choice, tile choice)
    // interactableOptionIndex is either the option index (m.c.) or option createdAt timestamp (tile choice)
    ShowfeaturePage.prototype.respondToInteractable = function (event, componentIndex, interactableOption) {
        return __awaiter(this, void 0, void 0, function () {
            var e_22, _a, e_23, _b, interactableId, updatedExistingResponse, _c, _d, interactable, i, maxNumOfSelections, response, index, _e, _f, key;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        event.stopPropagation();
                        this.anyChangeMade = true;
                        interactableId = this.moment.resource.matrix_number[2][componentIndex];
                        updatedExistingResponse = false;
                        try {
                            for (_c = __values(this.responseObj.matrix_number), _d = _c.next(); !_d.done; _d = _c.next()) { // each interactable is an array of user choices for each question
                                interactable = _d.value;
                                if (interactable[0] === interactableId) {
                                    for (i = interactable.length - 1; i > 4; i--) {
                                        // for multiple choice or tile choice
                                        if (interactable[i] === interactableOption) { // de-select an existing selection
                                            interactable.splice(i, 1);
                                            updatedExistingResponse = true;
                                        }
                                    }
                                    if (!updatedExistingResponse) { // append a new selection
                                        interactable.push(interactableOption);
                                        updatedExistingResponse = true;
                                        maxNumOfSelections = 1;
                                        if (this.moment.matrix_number[componentIndex][0]) { // if multiple selection is on
                                            maxNumOfSelections = this.moment.matrix_number[componentIndex][1] || this.moment.matrix_string[componentIndex].length; // if max number of selections has not been set (null), use the number of available options
                                        }
                                        while ((interactable.length - 5) > maxNumOfSelections) { // splice the oldest selection until it satisfies the max num of selections
                                            interactable.splice(5, 1);
                                        }
                                    }
                                }
                            }
                        }
                        catch (e_22_1) { e_22 = { error: e_22_1 }; }
                        finally {
                            try {
                                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                            }
                            finally { if (e_22) throw e_22.error; }
                        }
                        if (!updatedExistingResponse) { // add a new entry to array
                            this.responseObj.matrix_number.push([interactableId, null, null, null, null, interactableOption]);
                        }
                        return [4 /*yield*/, this.momentService.submitResponse(this.moment, this.responseObj, false)];
                    case 1:
                        response = _g.sent();
                        index = this.responses.map(function (c) { return c._id; }).indexOf(response._id);
                        if (index < 0) { // if the response hasn't been added to the response list
                            this.responses.push(response);
                        }
                        else { // if it has been added, replace with the incoming one
                            this.responses.splice(index, 1, response);
                        }
                        // reset MC selection
                        if (this.moment.resource.matrix_number[0][componentIndex] === 40020) {
                            try {
                                for (_e = __values(Object.keys(this.interactableDisplay[interactableId])), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    key = _f.value;
                                    this.interactableDisplay[interactableId][key].selectedByUser = false;
                                }
                            }
                            catch (e_23_1) { e_23 = { error: e_23_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                                }
                                finally { if (e_23) throw e_23.error; }
                            }
                        }
                        else {
                            this.interactableDisplay[interactableId].forEach(function (interactableOption) {
                                interactableOption.selectedByUser = false;
                            });
                        }
                        this.setupInteractableDisplay(interactableId, componentIndex);
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.touchCalendarItemResponse = function (event, selectedCalendarItem, type) {
        return __awaiter(this, void 0, void 0, function () {
            var e_24, _a, e_25, _b, newState, updatedExistingResponse, interactableObj, _c, _d, calendarItem, _e, _f, calendarItem, response, socketData, index;
            return __generator(this, function (_g) {
                switch (_g.label) {
                    case 0:
                        event.stopPropagation();
                        newState = selectedCalendarItem.completed ? null : 'completed';
                        updatedExistingResponse = false;
                        this.responseObj.matrix_string.forEach(function (interactable) {
                            if (interactable[0] === selectedCalendarItem._id) { // interactable[0] is a String
                                if (type === 'check-in') {
                                    interactable[5] = newState;
                                }
                                else if (type === 'goal attributes') {
                                    if (selectedCalendarItem.goals && selectedCalendarItem.goals.length) {
                                        selectedCalendarItem.goals.forEach(function (goal, j) {
                                            interactable[10 + j] = goal;
                                        });
                                    }
                                    else {
                                        interactable.splice(10, interactable.length - 1);
                                    }
                                }
                                updatedExistingResponse = true;
                            }
                        });
                        if (!updatedExistingResponse) { // add a new entry to array
                            if (type === 'check-in') {
                                this.responseObj.matrix_string.push([selectedCalendarItem._id, null, null, null, null, newState]);
                            }
                            else if (type === 'goal attributes') {
                                interactableObj = new Array(10);
                                interactableObj[0] = selectedCalendarItem._id;
                                if (selectedCalendarItem.goals) {
                                    interactableObj.push.apply(interactableObj, __spread(selectedCalendarItem.goals));
                                }
                                this.responseObj.matrix_string.push(interactableObj);
                            }
                        }
                        if (type === 'check-in') {
                            try {
                                // update the user calendar items list (for display) before the async operation
                                for (_c = __values(this.calendarService.calendarItems), _d = _c.next(); !_d.done; _d = _c.next()) {
                                    calendarItem = _d.value;
                                    if (calendarItem._id === selectedCalendarItem._id) { // interactable[0] is a String
                                        calendarItem.completed = newState;
                                    }
                                }
                            }
                            catch (e_24_1) { e_24 = { error: e_24_1 }; }
                            finally {
                                try {
                                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                                }
                                finally { if (e_24) throw e_24.error; }
                            }
                            try {
                                // update the super admin calendar items list (ad hoc) before the async operation
                                for (_e = __values(this.adminAccessContentCalendars), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    calendarItem = _f.value;
                                    if (calendarItem._id === selectedCalendarItem._id) { // interactable[0] is a String
                                        calendarItem.completed = newState;
                                    }
                                }
                            }
                            catch (e_25_1) { e_25 = { error: e_25_1 }; }
                            finally {
                                try {
                                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                                }
                                finally { if (e_25) throw e_25.error; }
                            }
                        }
                        return [4 /*yield*/, this.momentService.submitResponse(this.moment, this.responseObj, false)];
                    case 1:
                        response = _g.sent();
                        socketData = {
                            calendarId: selectedCalendarItem._id,
                            interactable: this.responseObj.matrix_string.find(function (c) { return c[0] === selectedCalendarItem._id; }),
                            author: {
                                _id: this.userData.user._id,
                                first_name: this.userData.user.first_name,
                                last_name: this.userData.user.last_name,
                                avatar: this.userData.user.avatar
                            }
                        };
                        if (type === 'check-in') {
                            socketData.state = newState;
                        }
                        else if (type === 'goal attributes') {
                            if (selectedCalendarItem.goals) {
                                socketData.goals = selectedCalendarItem.goals;
                            }
                            else {
                                socketData.goals = [];
                            }
                        }
                        this.momentService.socket.emit('refresh moment', this.moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other users in the same momentId room
                        index = this.responses.map(function (c) { return c._id; }).indexOf(response._id);
                        if (index < 0) { // if the response hasn't been added to the response list
                            this.responses.push(response);
                        }
                        else { // if it has been added, replace with the incoming one
                            this.responses.splice(index, 1, response);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.createQuillEditor = function (event, interactableDisplay) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                interactableDisplay.editor = event;
                interactableDisplay.editor.setContents(interactableDisplay.content, 'silent');
                console.log("display", interactableDisplay);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.checkAndLoadNotes = function () {
        return __awaiter(this, void 0, void 0, function () {
            var index, result, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.moment.resource.matrix_number[0].find(function (c) { return c === 20020; })) return [3 /*break*/, 3];
                        index = this.moment.resource.matrix_number[0].indexOf(12000);
                        if (!(index >= 0 && this.moment.resource.matrix_number[3][index] === this.tabSelection)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.momentService.loadNotes(this.moment._id, null)];
                    case 1:
                        result = _a.sent();
                        if (result && result.length) {
                            this.notes = result[0].docs;
                        }
                        _a.label = 2;
                    case 2: return [3 /*break*/, 5];
                    case 3:
                        if (!this.moment.resource.matrix_number[0].find(function (c) { return c === 12000; })) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.momentService.loadNotes(this.moment._id, null)];
                    case 4:
                        result = _a.sent();
                        if (result && result.length) {
                            this.notes = result[0].docs;
                        }
                        _a.label = 5;
                    case 5:
                        this.notes.sort(function (a, b) {
                            var e = new Date(a.updatedAt);
                            var f = new Date(b.updatedAt);
                            return (f - e);
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.respondToTextArea = function (event, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var e_26, _a, updatedExistingResponse, interactableId, responseType, socketData, _b, _c, interactable;
            var _this = this;
            return __generator(this, function (_d) {
                this.anyChangeMade = true;
                clearTimeout(this.timeoutHandle);
                updatedExistingResponse = false;
                interactableId = this.moment.resource.matrix_number[2][componentIndex];
                responseType = this.moment.matrix_number[componentIndex][1];
                if (responseType) { // if response type is collaborative
                    socketData = {
                        delta: event.delta,
                        interactableId: interactableId,
                        collaborate: true,
                        author: {
                            _id: this.userData.user._id
                        }
                    };
                    // for text answers, user is sending delta operation via socket.io in real time for collaborative purposes
                    // there are 3 levels of broadcast. see moment event handler at the top
                    if (this.relationshipId && this.calendarId && this.calendarItem && this.calendarItem.uniqueAnswersPerCalendar) {
                        this.momentService.socket.emit('refresh moment', this.calendarId, socketData); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                    }
                    else if (this.relationshipId) {
                        this.momentService.socket.emit('refresh moment', this.moment._id + this.relationshipId, socketData); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                    }
                    else {
                        this.momentService.socket.emit('refresh moment', this.moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                    }
                }
                try {
                    for (_b = __values(this.responseObj.matrix_string), _c = _b.next(); !_c.done; _c = _b.next()) {
                        interactable = _c.value;
                        if (interactable[0] === interactableId.toString() && this.interactableDisplay[interactableId].editor) { // InteractableId is in Number
                            interactable[1] = event.text;
                            interactable[2] = JSON.stringify(this.interactableDisplay[interactableId].editor.getContents()); //JSON.stringify(event.content);
                            interactable[3] = JSON.stringify(event.delta);
                            updatedExistingResponse = true;
                        }
                    }
                }
                catch (e_26_1) { e_26 = { error: e_26_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_26) throw e_26.error; }
                }
                if (!updatedExistingResponse) { // add a new entry to array
                    this.responseObj.matrix_number.push([interactableId]);
                    this.responseObj.matrix_string.push([interactableId.toString(), event.text, JSON.stringify(event.content), JSON.stringify(event.delta)]);
                }
                this.timeoutHandle = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                    var response, index;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.momentService.submitResponse(this.moment, this.responseObj, false)];
                            case 1:
                                response = _a.sent();
                                index = this.responses.map(function (c) { return c._id; }).indexOf(response._id);
                                if (index < 0) { // if the response hasn't been added to the response list
                                    this.responses.push(response);
                                }
                                else { // if it has been added, replace with the incoming one
                                    this.responses.splice(index, 1, response);
                                }
                                if (this.moment.program) {
                                    this.userData.refreshUserStatus({});
                                }
                                return [2 /*return*/];
                        }
                    });
                }); }, 3000);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.changeView = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.currentView = event.detail.value;
                        _a = this.currentView;
                        switch (_a) {
                            case 'list': return [3 /*break*/, 1];
                            case 'nearby': return [3 /*break*/, 3];
                        }
                        return [3 /*break*/, 4];
                    case 1: return [4 /*yield*/, this.loadPeople()];
                    case 2:
                        _b.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://api.tiles.mapbox.com/mapbox-gl-js/v1.2.1/mapbox-gl.js', function () {
                            Object(scriptjs__WEBPACK_IMPORTED_MODULE_7__["get"])('https://tiles.unwiredmaps.com/v2/js/unwired-gl.js?v=0.1.6', function () {
                                _this.mapService.setupMap();
                            });
                        });
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.swipePeopleSlide = function () {
        return __awaiter(this, void 0, void 0, function () {
            var currentSlideIndex;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.peopleSlides) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.peopleSlides.getActiveIndex()];
                    case 1:
                        currentSlideIndex = _a.sent();
                        if (currentSlideIndex === this.matchedPeople.length - 4) {
                            this.loadMorePeople(null);
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.loadPeople = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                setTimeout(function () {
                    if (_this.authService.token && _this.infiniteScroll) { // infinite scroll for 50000 match users only shows for authenticated users
                        _this.infiniteScroll.disabled = false;
                    }
                    _this.reachedEnd = false;
                    _this.matchedPeople = [];
                    _this.pageNum = 0;
                    if (_this.moment._id) {
                        _this.loadMorePeople({ target: _this.infiniteScroll });
                    }
                }, 50);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.loadMorePeople = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var e_27, _a, results, results_1, results_1_1, result;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.pageNum++;
                        if (!(!this.reachedEnd && !this.loadAPIBusy)) return [3 /*break*/, 2];
                        this.loadAPIBusy = true;
                        setTimeout(function () {
                            _this.loadAPIBusy = false;
                        }, 10000);
                        return [4 /*yield*/, this.momentService.loadMatchedPeople(this.moment._id || '', this.searchKeyword, this.pageNum)];
                    case 1:
                        results = _b.sent();
                        console.log("matching", results);
                        this.loadAPIBusy = false;
                        this.ionSpinner = false;
                        if (!results.length) {
                            this.reachedEnd = true;
                            if (event && event.target)
                                event.target.disabled = true;
                        }
                        else {
                            try {
                                for (results_1 = __values(results), results_1_1 = results_1.next(); !results_1_1.done; results_1_1 = results_1.next()) {
                                    result = results_1_1.value;
                                    this.matchedPeople.push(result);
                                }
                            }
                            catch (e_27_1) { e_27 = { error: e_27_1 }; }
                            finally {
                                try {
                                    if (results_1_1 && !results_1_1.done && (_a = results_1.return)) _a.call(results_1);
                                }
                                finally { if (e_27) throw e_27.error; }
                            }
                            console.log("matched", this.matchedPeople);
                        }
                        _b.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.searchMap = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                console.log('searching');
                // first clear markers
                this.mapService.markers.forEach(function (marker) {
                    marker.remove();
                });
                if (this.authService.token && this.infiniteScroll) { // infinite scroll for 50000 match users only shows for authenticated users
                    this.infiniteScroll.disabled = false;
                }
                this.mapService.reachedEnd = false;
                this.mapService.mapData = [];
                this.mapService.pageNum = 0;
                setTimeout(function () {
                    _this.loadMoreSearchResults({ target: _this.infiniteScroll });
                }, 50);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.loadMoreSearchResults = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var searchType_1;
            var _this = this;
            return __generator(this, function (_a) {
                this.mapService.pageNum++;
                if (!this.mapService.reachedEnd && !this.mapService.loadAPIBusy) { // loadAPIBusy is used to safeguard against iOS calling the (ionInfiniteScroll) function from the DOM that races with the loadMoreSearchResults function
                    this.mapService.loadAPIBusy = true;
                    this.mapService.searchRadius = this.platform.width() * 97.27157 * 0.5 * Math.cos(this.mapService.userLocation.lat * Math.PI / 180) / Math.pow(2, this.mapService.userZoom);
                    searchType_1 = 'user';
                    this.zone.run(function () { return __awaiter(_this, void 0, void 0, function () {
                        var e_28, _a, results, results_2, results_2_1, result;
                        return __generator(this, function (_b) {
                            switch (_b.label) {
                                case 0: return [4 /*yield*/, this.momentService.loadNearbyPublicActivities(this.searchKeyword, searchType_1, this.mapService.userLocation, this.mapService.pageNum, this.mapService.searchRadius)];
                                case 1:
                                    results = _b.sent();
                                    this.mapService.loadAPIBusy = false;
                                    this.mapService.ionSpinner = false;
                                    if (!results.length) {
                                        this.mapService.reachedEnd = true;
                                        event.target.disabled = true;
                                    }
                                    else {
                                        try {
                                            for (results_2 = __values(results), results_2_1 = results_2.next(); !results_2_1.done; results_2_1 = results_2.next()) {
                                                result = results_2_1.value;
                                                this.mapService.mapData.push(result);
                                            }
                                        }
                                        catch (e_28_1) { e_28 = { error: e_28_1 }; }
                                        finally {
                                            try {
                                                if (results_2_1 && !results_2_1.done && (_a = results_2.return)) _a.call(results_2);
                                            }
                                            finally { if (e_28) throw e_28.error; }
                                        }
                                        // console.log("map data", this.mapData);
                                        if (this.mapService.pageNum === 1) {
                                            this.mapService.renderMarkers();
                                        }
                                    }
                                    return [2 /*return*/];
                            }
                        });
                    }); });
                    if (event.target)
                        event.target.complete();
                }
                else {
                    this.mapService.ionSpinner = false;
                    if (event.target)
                        event.target.complete();
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.joinActivity = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.authService.token) {
                    this.openOnboarding(2);
                }
                else {
                    this.openRegister(0, 'To join ' + this.moment.matrix_string[0][0] + ', please sign in or create an account.');
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.acceptInvitation = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                event.stopPropagation();
                if (this.authService.token && this.participant_type && this.token) {
                    this.openOnboarding(this.participant_type);
                }
                else {
                    this.openRegister(0, 'You need to sign in or create an account first before you can accept the invitation.');
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.openOnboarding = function (participant_type) {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({ component: _onboardfeature_onboardfeature_page__WEBPACK_IMPORTED_MODULE_19__["OnboardfeaturePage"], componentProps: { programId: this.moment._id, type: participant_type, token: this.token, modalPage: true } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.openNote = function (note) {
        return __awaiter(this, void 0, void 0, function () {
            var momentId, params, componentProps, modal, refreshNeeded;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!note.content_id) return [3 /*break*/, 6];
                        momentId = note.content_id;
                        params = void 0;
                        componentProps = void 0;
                        params = { relationshipId: this.moment._id };
                        componentProps = { moment: { _id: momentId }, relationshipId: this.moment._id, modalPage: true };
                        // if calendar Id exists, send it in params
                        if (note.calendar_id) {
                            params.calendarId = note.calendar_id;
                            componentProps.calendarId = note.calendar_id;
                        }
                        // if no calendar Id, send the response id
                        if (!note.calendar_id && note.response_id) {
                            params.responseId = note.response_id;
                            componentProps.responseId = note.response_id;
                        }
                        if (!(this.platform.width() >= 768)) return [3 /*break*/, 1];
                        if (this.authService.token) {
                            this.router.navigate(['/app/activity/' + momentId, params], { replaceUrl: false });
                        }
                        else { // for unauthenticated user and in landing page view, which is not a common case
                            this.router.navigate(['/activity/' + momentId], { replaceUrl: false });
                        }
                        return [3 /*break*/, 6];
                    case 1:
                        if (!this.authService.token) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.modalCtrl.create({ component: ShowfeaturePage_1, componentProps: componentProps })];
                    case 2:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 4:
                        refreshNeeded = (_a.sent()).data;
                        if (refreshNeeded) {
                            this.checkAndLoadNotes();
                        }
                        return [3 /*break*/, 6];
                    case 5:
                        this.router.navigate(['/activity/' + momentId], { replaceUrl: false });
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.moreParticipantOptions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var actionSheet, buttons;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        buttons = [];
                        if (!this.hasAddedToAttendEventList) {
                            buttons.push({
                                text: this.resource['en-US'].value[15],
                                icon: 'log-in',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            this.joinActivity();
                                            return [2 /*return*/];
                                        });
                                    }); });
                                }
                            });
                        }
                        else {
                            buttons.push.apply(buttons, __spread([{
                                    text: this.resource['en-US'].value[16],
                                    icon: 'log-out',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.removeFromUserList('user_list_1');
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }, {
                                    text: this.resource['en-US'].value[35],
                                    icon: 'list',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                if (this.modalPage) {
                                                    this.momentService.openPreferences({ programId: this.moment._id, modalPage: true });
                                                }
                                                else {
                                                    this.router.navigate(['/app/preferences/' + this.moment._id, { showHeader: true }]);
                                                }
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }]));
                        }
                        // if a participant or an organizer, and if participant chat is turned on
                        if ((this.hasAddedToAttendEventList || this.hasLeaderAccess || this.hasOrganizerAccess) && this.moment.array_boolean && this.moment.array_boolean.length && this.moment.array_boolean.length > 5 && this.moment.array_boolean[5]) {
                            buttons.push({
                                text: this.resource['en-US'].value[41],
                                icon: 'chatbubbles',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        var moment;
                                        return __generator(this, function (_a) {
                                            if (this.modalPage) {
                                                moment = this.moment;
                                                moment.name = this.moment.matrix_string[0][0];
                                                this.chatService.openChat({ conversationId: this.moment.conversation, moment: moment });
                                            }
                                            else {
                                                this.chatService.currentChatProps.push({
                                                    conversationId: this.moment.conversation,
                                                    name: this.moment.matrix_string[0][0],
                                                    moment: this.moment,
                                                    page: 'chat',
                                                    badge: true,
                                                    modalPage: true,
                                                    cssClass: 'level-10'
                                                });
                                                this.router.navigate(['/app/myconversations/chat']);
                                                this.userData.refreshMyConversations({ action: 'reload chat view' });
                                            }
                                            return [2 /*return*/];
                                        });
                                    }); });
                                }
                            });
                        }
                        // add to calendar option is hidden for category Content, Onboarding Process, Plan
                        if (!this.moment.categories.map(function (c) { return c._id; }).includes('5e1bbda67b00ea76b75e5a73') && !this.moment.categories.map(function (c) { return c._id; }).includes('5e17acd47b00ea76b75e5a71') && !this.moment.categories.map(function (c) { return c._id; }).includes('5c915476e172e4e64590e349')) {
                            if (!this.hasAddedToCalendar) {
                                buttons.push({
                                    text: this.resource['en-US'].value[13],
                                    icon: 'notifications',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.addToCalendar(null, [this.userData.user._id]);
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                });
                            }
                            else {
                                buttons.push({
                                    text: this.resource['en-US'].value[14],
                                    icon: 'notifications-off',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.removeFromCalendar();
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                });
                            }
                        }
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: this.moment.matrix_string[0][0],
                                buttons: buttons,
                                cssClass: 'level-15'
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.moreOrganizerActions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var actionSheet, buttons;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        buttons = [];
                        buttons = buttons.concat([
                            {
                                text: this.resource['en-US'].value[43] + ' ' + this.moment.resource['en-US'].value[0],
                                icon: 'bulb',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            this.momentService.manageMoment({ moment: this.moment, modalPage: this.modalPage });
                                            return [2 /*return*/];
                                        });
                                    }); });
                                },
                            }
                        ]);
                        if (['owner', 'admin', 'staff'].includes(this.userData.user.role)) {
                            buttons = buttons.concat([
                                {
                                    text: 'Clone',
                                    icon: 'copy',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.expandedPrivilegesView = false;
                                                this.cloneMoment();
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }
                            ]);
                        }
                        if (this.hasOrganizerAccess) {
                            buttons = buttons.concat([
                                {
                                    text: this.resource['en-US'].value[18],
                                    icon: 'code-working',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.expandedPrivilegesView = false;
                                                this.editMoment(true);
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                },
                                {
                                    text: this.resource['en-US'].value[19],
                                    role: 'destructive',
                                    icon: 'trash',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.expandedPrivilegesView = false;
                                                this.deleteMoment();
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }
                            ]);
                            if (this.moment.array_boolean && this.moment.array_boolean.length && this.moment.array_boolean.length > 6 && this.moment.array_boolean[6]) {
                                buttons.push({
                                    text: this.resource['en-US'].value[41],
                                    icon: 'chatbubbles',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            var moment;
                                            return __generator(this, function (_a) {
                                                if (this.modalPage) {
                                                    moment = this.moment;
                                                    moment.name = this.moment.matrix_string[0][0] + ' (' + this.organizersLabel + ')';
                                                    this.chatService.openChat({ conversationId: this.moment.conversation_2, moment: moment });
                                                }
                                                else {
                                                    this.chatService.currentChatProps.push({
                                                        conversationId: this.moment.conversation_2,
                                                        name: this.moment.matrix_string[0][0] + ' (' + this.organizersLabel + ')',
                                                        moment: this.moment,
                                                        page: 'chat',
                                                        badge: true,
                                                        modalPage: true,
                                                        cssClass: 'level-10'
                                                    });
                                                    this.router.navigate(['/app/myconversations/chat']);
                                                    this.userData.refreshMyConversations({ action: 'reload chat view' });
                                                }
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                });
                            }
                        }
                        buttons = buttons.concat([{
                                text: 'Leave as ' + this.organizerLabel,
                                icon: 'log-out',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            this.leaveProgramWithPrivileges('user_list_2');
                                            return [2 /*return*/];
                                        });
                                    }); });
                                }
                            },
                            {
                                text: this.resource['en-US'].value[33],
                                icon: 'close-circle',
                                role: 'cancel',
                            }]);
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: this.moment.matrix_string[0][0],
                                buttons: buttons,
                                cssClass: 'level-15'
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.moreLeaderOptions = function () {
        return __awaiter(this, void 0, void 0, function () {
            var actionSheet, buttons;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        buttons = [];
                        if (this.hasLeaderAccess) { // since organizer can also open this menu, needs to check for Leader's privilege
                            buttons = buttons.concat([{
                                    text: this.resource['en-US'].value[35],
                                    icon: 'list',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                if (this.modalPage) {
                                                    this.momentService.openPreferences({ programId: this.moment._id, modalPage: true });
                                                }
                                                else {
                                                    this.router.navigate(['/app/preferences/' + this.moment._id, { showHeader: true }]);
                                                }
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }]);
                        }
                        // if a leader or an organizer, and if leader's chat is turned on
                        if ((this.hasLeaderAccess || this.hasOrganizerAccess) && this.moment.array_boolean && this.moment.array_boolean.length && this.moment.array_boolean.length > 7 && this.moment.array_boolean[7]) {
                            buttons.push({
                                text: this.resource['en-US'].value[41],
                                icon: 'chatbubbles',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        var moment;
                                        return __generator(this, function (_a) {
                                            if (this.modalPage) {
                                                moment = this.moment;
                                                moment.name = this.moment.matrix_string[0][0] + ' (' + this.leadersLabel + ')';
                                                this.chatService.openChat({ conversationId: this.moment.conversation_3, moment: moment });
                                            }
                                            else {
                                                this.chatService.currentChatProps.push({
                                                    conversationId: this.moment.conversation_3,
                                                    name: this.moment.matrix_string[0][0] + ' (' + this.leadersLabel + ')',
                                                    moment: this.moment,
                                                    page: 'chat',
                                                    badge: true,
                                                    modalPage: true,
                                                    cssClass: 'level-10'
                                                });
                                                this.router.navigate(['/app/myconversations/chat']);
                                                this.userData.refreshMyConversations({ action: 'reload chat view' });
                                            }
                                            return [2 /*return*/];
                                        });
                                    }); });
                                }
                            });
                        }
                        if (this.hasLeaderAccess) { // since organizer can also open this menu, needs to check for Leader's privilege
                            buttons = buttons.concat([{
                                    text: 'Leave as ' + this.leaderLabel,
                                    icon: 'log-out',
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                this.leaveProgramWithPrivileges('user_list_3');
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    }
                                }]);
                        }
                        buttons = buttons.concat([{
                                text: this.resource['en-US'].value[33],
                                icon: 'close-circle',
                                role: 'cancel',
                            }]);
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: this.moment.matrix_string[0][0],
                                buttons: buttons,
                                cssClass: 'level-15'
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.cloneMoment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var momentToBeCloned, clonedMoments, networkAlert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        momentToBeCloned = JSON.parse(JSON.stringify(this.moment));
                        momentToBeCloned.calendar = {
                            title: momentToBeCloned.matrix_string[0][0],
                            location: '',
                            notes: '',
                            startDate: new Date().toISOString(),
                            endDate: new Date().toISOString(),
                            options: {
                                firstReminderMinutes: 0,
                                secondReminderMinutes: 0,
                                reminders: []
                            }
                        };
                        return [4 /*yield*/, this.momentService.clone([momentToBeCloned], 'staff')];
                    case 1:
                        clonedMoments = _a.sent();
                        if (!(clonedMoments && clonedMoments.length)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Success',
                                message: 'You have successfully cloned ' + clonedMoments[0].matrix_string[0][0] + '. It will be available in the Manage Activities page in a moment.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 2:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.initPlyr = function (event, mediaId) {
        var player;
        player = event;
        this.mediaList.push({ _id: mediaId, player: player });
    };
    ShowfeaturePage.prototype.expandPrivilegesView = function () {
        var _this = this;
        this.expandedPrivilegesView = !this.expandedPrivilegesView;
        clearTimeout(this.timeoutHandle);
        if (!this.expandedPrivilegesView) {
            setTimeout(function () {
                _this.showSpecialAccess = false;
            }, 2000);
        }
    };
    ShowfeaturePage.prototype.destroyPlayers = function (mediaId) {
        var e_29, _a;
        if (mediaId) {
            var media = this.mediaList.find(function (c) { return c._id === mediaId; });
            media.player.destroy();
        }
        else {
            try {
                for (var _b = __values(this.mediaList), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var media = _c.value;
                    media.player.destroy();
                }
            }
            catch (e_29_1) { e_29 = { error: e_29_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_29) throw e_29.error; }
            }
        }
    };
    // Plans Slider
    ShowfeaturePage.prototype.loadPrograms = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                setTimeout(function () {
                    _this.programsReachedEnd = false;
                    _this.programs = [];
                    _this.programPageNum = 0;
                    _this.loadMorePrograms();
                }, 50);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.loadMorePrograms = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_30, _a, results, results_3, results_3_1, result;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.programPageNum++;
                        if (!!this.programsReachedEnd) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.momentService.loadPublicActivityByCategory('all', this.programPageNum)];
                    case 1:
                        results = _b.sent();
                        this.ionSpinner = false;
                        if (!results.length) {
                            this.programsReachedEnd = true;
                        }
                        else {
                            try {
                                for (results_3 = __values(results), results_3_1 = results_3.next(); !results_3_1.done; results_3_1 = results_3.next()) {
                                    result = results_3_1.value;
                                    if (this.moment._id !== result._id) { // do not show the current program in the list
                                        this.programs.push(result);
                                    }
                                }
                            }
                            catch (e_30_1) { e_30 = { error: e_30_1 }; }
                            finally {
                                try {
                                    if (results_3_1 && !results_3_1.done && (_a = results_3.return)) _a.call(results_3);
                                }
                                finally { if (e_30) throw e_30.error; }
                            }
                        }
                        _b.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.swipeProgramslide = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var currentSlideIndex;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        if (!this.programsSlides) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.programsSlides.getActiveIndex()];
                    case 1:
                        currentSlideIndex = _a.sent();
                        if (currentSlideIndex === this.matchedPeople.length - 4) {
                            this.loadMorePrograms();
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.openProgram = function (event, moment) {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        if (!(this.platform.width() >= 768)) return [3 /*break*/, 1];
                        if (this.authService.token) {
                            this.router.navigate(['/app/activity/' + moment._id], { replaceUrl: false });
                        }
                        else {
                            this.router.navigate(['/activity/' + moment._id], { replaceUrl: false });
                        }
                        return [3 /*break*/, 5];
                    case 1:
                        if (!this.authService.token) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.modalCtrl.create({ component: ShowfeaturePage_1, componentProps: { moment: { _id: moment._id }, modalPage: true } })];
                    case 2:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        this.router.navigate(['/activity/' + moment._id], { replaceUrl: false });
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    // open Content requires providing the relationshipId
    ShowfeaturePage.prototype.openContent = function (event, calendarItem) {
        return __awaiter(this, void 0, void 0, function () {
            var momentId, params, componentProps, modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (event)
                            event.stopPropagation();
                        momentId = typeof calendarItem.moment === 'object' ? calendarItem.moment._id : calendarItem.moment;
                        params = { relationshipId: this.moment._id };
                        componentProps = { moment: { _id: momentId }, relationshipId: this.moment._id, modalPage: true };
                        if (calendarItem._id) {
                            params.calendarId = calendarItem._id;
                            componentProps.calendarId = calendarItem._id;
                        }
                        if (!(this.platform.width() >= 768)) return [3 /*break*/, 1];
                        if (this.authService.token) {
                            this.router.navigate(['/app/activity/' + momentId, params], { replaceUrl: false });
                        }
                        else { // for unauthenticated user and in landing page view, which is not a common case
                            this.router.navigate(['/activity/' + momentId], { replaceUrl: false });
                        }
                        return [3 /*break*/, 5];
                    case 1:
                        if (!this.authService.token) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.modalCtrl.create({ component: ShowfeaturePage_1, componentProps: componentProps })];
                    case 2:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 3:
                        _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        this.router.navigate(['/activity/' + momentId], { replaceUrl: false });
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.promptNewGoalName = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.fabButtons.close()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Enter Goal Name',
                                inputs: [{
                                        name: 'goalName',
                                        type: 'text',
                                        placeholder: 'Goal Name'
                                    }],
                                buttons: [
                                    {
                                        text: 'Cancel',
                                        role: 'cancel',
                                        handler: function () {
                                            console.log('Cancel Create Goal');
                                            return;
                                        }
                                    }, {
                                        text: 'Ok',
                                        handler: function (data) {
                                            _this.addGoal(data.goalName);
                                        }
                                    }
                                ],
                                cssClass: 'level-15'
                            })];
                    case 2:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.addGoal = function (goalName) {
        return __awaiter(this, void 0, void 0, function () {
            var e_31, _a, e_32, _b, _c, _d, color_option, _e, _f, goal, goalData, socketData;
            return __generator(this, function (_g) {
                try {
                    for (_c = __values(this.color_arrays), _d = _c.next(); !_d.done; _d = _c.next()) {
                        color_option = _d.value;
                        try {
                            for (_e = __values(this.listOfDisplayGoals), _f = _e.next(); !_f.done; _f = _e.next()) {
                                goal = _f.value;
                                if (color_option.color === goal[3]) {
                                    color_option.status = 'used';
                                }
                            }
                        }
                        catch (e_32_1) { e_32 = { error: e_32_1 }; }
                        finally {
                            try {
                                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                            }
                            finally { if (e_32) throw e_32.error; }
                        }
                    }
                }
                catch (e_31_1) { e_31 = { error: e_31_1 }; }
                finally {
                    try {
                        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                    }
                    finally { if (e_31) throw e_31.error; }
                }
                goalData = [Math.floor((Math.random() + new Date().getTime()) * 1000).toString(), 'goal', null, this.color_arrays.find(function (c) { return !c.status; }).color, null, goalName];
                this.listOfDisplayGoals.push(goalData);
                this.responseObj.matrix_string.push(goalData);
                this.momentService.submitResponse(this.moment, this.responseObj, false);
                socketData = {
                    goal: goalData,
                    author: {
                        _id: this.userData.user._id,
                        first_name: this.userData.user.first_name,
                        last_name: this.userData.user.last_name,
                        avatar: this.userData.user.avatar
                    }
                };
                this.momentService.socket.emit('refresh moment', this.moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other users in the same momentId room
                this.content.scrollToBottom(50);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.removeGoal = function (goal) {
        return __awaiter(this, void 0, void 0, function () {
            var index, socketData;
            return __generator(this, function (_a) {
                index = this.listOfDisplayGoals.map(function (c) { return c[0]; }).indexOf(goal[0]);
                if (index >= 0) {
                    this.listOfDisplayGoals.splice(index, 1);
                }
                index = this.responseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(goal[0]);
                if (index >= 0) {
                    this.responseObj.matrix_string.splice(index, 1);
                }
                this.momentService.submitResponse(this.moment, this.responseObj, false);
                socketData = {
                    goal: goal,
                    action: 'delete',
                    author: {
                        _id: this.userData.user._id,
                        first_name: this.userData.user.first_name,
                        last_name: this.userData.user.last_name,
                        avatar: this.userData.user.avatar
                    }
                };
                this.momentService.socket.emit('refresh moment', this.moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other users in the same momentId room
                this.editGoals = false; // reset the edit mode
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.filterGoal = function (goal) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.selectedGoal === goal[0]) {
                    this.selectedGoal = null;
                }
                else {
                    this.selectedGoal = goal[0];
                }
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.touchGoal = function (goal, type) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                clearTimeout(this.timeoutHandle);
                this.timeoutHandle = setTimeout(function () {
                    var e_33, _a;
                    var updatedExistingGoal = false;
                    try {
                        for (var _b = __values(_this.responseObj.matrix_string), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var responseInteractable = _c.value;
                            if (goal[0] === responseInteractable[0]) {
                                if (type === 'text') {
                                    responseInteractable[5] = goal[5];
                                }
                                else if (type === 'master toggle') {
                                    responseInteractable[1] = goal[1];
                                }
                                else if (type === 'assign to master goal') {
                                    responseInteractable[4] = goal[4];
                                }
                                updatedExistingGoal = true;
                            }
                        }
                    }
                    catch (e_33_1) { e_33 = { error: e_33_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_33) throw e_33.error; }
                    }
                    if (!updatedExistingGoal) {
                        _this.responseObj.matrix_string.push(goal);
                    }
                    _this.momentService.submitResponse(_this.moment, _this.responseObj, false);
                    var socketData = {
                        goal: goal,
                        author: {
                            _id: _this.userData.user._id,
                            first_name: _this.userData.user.first_name,
                            last_name: _this.userData.user.last_name,
                            avatar: _this.userData.user.avatar
                        }
                    };
                    _this.momentService.socket.emit('refresh moment', _this.moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other users in the same momentId room
                }, type === 'text' ? 500 : 0);
                return [2 /*return*/];
            });
        });
    };
    ShowfeaturePage.prototype.moreGoalFunctions = function (event, goal, componentIndex) {
        return __awaiter(this, void 0, void 0, function () {
            var masterGoalLabel, buttons, actionSheet;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        masterGoalLabel = (this.moment.matrix_string[componentIndex].length && this.moment.matrix_string[componentIndex][0]) ? this.moment.matrix_string[componentIndex][0] : this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10210)][6];
                        buttons = [];
                        buttons = buttons.concat([
                            {
                                text: goal[1] === 'goal' ? this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10210)][9] + ' ' + masterGoalLabel : this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10210)][11],
                                handler: function () {
                                    goal[1] = goal[1] === 'goal' ? 'master goal' : 'goal';
                                    _this.touchGoal(goal, 'master toggle');
                                }
                            }
                        ]);
                        if (goal[1] === 'goal' && this.responseObj.matrix_string.filter(function (c) { return ['master goal'].includes(c[1]); }).length) {
                            buttons = buttons.concat([
                                {
                                    text: this.resource['en-US'].matrix_string[this.resource.matrix_number[0].indexOf(10210)][10] + ' ' + masterGoalLabel,
                                    handler: function () {
                                        var navTransition = actionSheet.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            var picker;
                                            var _this = this;
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: return [4 /*yield*/, this.pickerCtrl.create({
                                                            columns: this.getColumns(1),
                                                            buttons: [
                                                                {
                                                                    text: 'Cancel',
                                                                    role: 'cancel'
                                                                },
                                                                {
                                                                    text: 'Confirm',
                                                                    handler: function (result) {
                                                                        console.log('selected', result['col-0'].value);
                                                                        goal[4] = result['col-0'].value[0]; // assign the master goal id to current goal
                                                                        _this.touchGoal(goal, 'assign to master goal');
                                                                    }
                                                                }
                                                            ]
                                                        })];
                                                    case 1:
                                                        picker = _a.sent();
                                                        return [4 /*yield*/, picker.present()];
                                                    case 2:
                                                        _a.sent();
                                                        return [2 /*return*/];
                                                }
                                            });
                                        }); });
                                    }
                                }
                            ]);
                        }
                        buttons = buttons.concat([
                            {
                                text: 'Delete',
                                handler: function () {
                                    var navTransition = actionSheet.dismiss();
                                    navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                        return __generator(this, function (_a) {
                                            this.removeGoal(goal);
                                            return [2 /*return*/];
                                        });
                                    }); });
                                }
                            }
                        ]);
                        return [4 /*yield*/, this.actionSheetCtrl.create({
                                header: 'Actions',
                                buttons: buttons,
                                cssClass: 'level-15'
                            })];
                    case 1:
                        actionSheet = _a.sent();
                        return [4 /*yield*/, actionSheet.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.getColumns = function (numColumns) {
        var columns = [];
        for (var i = 0; i < numColumns; i++) {
            columns.push({
                name: "col-" + i,
                options: this.getColumnOptions(i)
            });
        }
        return columns;
    };
    ShowfeaturePage.prototype.getColumnOptions = function (columnIndex) {
        var options = [];
        for (var i = 0; i < this.responseObj.matrix_string.filter(function (c) { return ['master goal'].includes(c[1]); }).length; i++) {
            options.push({
                text: this.responseObj.matrix_string.filter(function (c) { return ['master goal'].includes(c[1]); })[i][5],
                value: this.responseObj.matrix_string.filter(function (c) { return ['master goal'].includes(c[1]); })[i]
            });
        }
        options.push({
            text: 'Clear Tag',
            value: ['']
        });
        return options;
    };
    ShowfeaturePage.prototype.createCalendarItem = function (event, momentId) {
        return __awaiter(this, void 0, void 0, function () {
            var createdContentCalendarItem, responseObj;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.fabButtons.close()];
                    case 1:
                        _a.sent();
                        event.stopPropagation();
                        this.newCalendarItem.moment = momentId;
                        this.newCalendarItem.schedule = this.customSchedule._id;
                        this.newCalendarItem.startDateObj = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), new Date().getHours()); // cache datetime info for computation only. backend datetime format is in ISOString
                        this.newCalendarItem.endDateObj = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), new Date().getHours()); // cache datetime info for computation only. backend datetime format is in ISOString
                        this.newCalendarItem.startDate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), new Date().getHours()).toISOString(); // cache datetime info for computation only. backend datetime format is in ISOString
                        this.newCalendarItem.endDate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate(), new Date().getHours()).toISOString(); // cache datetime info for computation only. backend datetime format is in ISOString
                        this.newCalendarItem.uniqueAnswersPerCalendar = (this.customSchedule.array_boolean.length > 1) && this.customSchedule.array_boolean[1];
                        return [4 /*yield*/, this.momentService.touchContentCalendarItems(this.moment._id, { operation: 'create calendar item', calendaritem: this.newCalendarItem })];
                    case 2:
                        createdContentCalendarItem = _a.sent();
                        this.openContent(null, createdContentCalendarItem);
                        if (!(momentId === '5e4b39cd76ffc96ae6aba323')) return [3 /*break*/, 4];
                        responseObj = JSON.parse(JSON.stringify(this.responseTemplate));
                        responseObj.moment = momentId;
                        responseObj.relationship = this.moment._id;
                        responseObj.calendar = createdContentCalendarItem._id;
                        responseObj.matrix_string.push(['1581143965852193', '', '', '']); // default text answer in Note
                        return [4 /*yield*/, this.momentService.submitResponse({ _id: momentId }, responseObj, false)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    // Content Calendar Item
    ShowfeaturePage.prototype.saveCalendarItem = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, calendarItem, index, interactableObj, socketData;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.calendarItem.endDate = this.calendarItem.startDate; // update the endDate as well
                        if (!(this.moment._id !== this.responseObj.moment)) return [3 /*break*/, 3];
                        // create a new Content Calendar
                        this.calendarItem.moment = this.moment._id;
                        return [4 /*yield*/, this.momentService.touchContentCalendarItems(this.relationshipId, { operation: 'create calendar item', calendaritem: this.calendarItem })];
                    case 1:
                        calendarItem = _b.sent();
                        // create a new responseObj with new data
                        this.responseObj.calendar = calendarItem._id;
                        this.responseObj.moment = this.moment._id;
                        // create a new response
                        return [4 /*yield*/, this.momentService.submitResponse({ _id: this.moment._id }, this.responseObj, false)];
                    case 2:
                        // create a new response
                        _b.sent();
                        this.momentService.touchContentCalendarItems(this.relationshipId, { operation: 'delete calendar items', calendaritems: [this.calendarItem] });
                        return [3 /*break*/, 6];
                    case 3: // for all other Content Calendar item save
                    // just updating the calendar
                    return [4 /*yield*/, this.momentService.touchContentCalendarItems(this.relationshipId, { operation: 'update calendar item', calendaritem: this.calendarItem })];
                    case 4:
                        // just updating the calendar
                        _b.sent();
                        index = this.parentRelationshipResponseObj.matrix_string.map(function (c) { return c[0]; }).indexOf(this.calendarId);
                        if (index >= 0) {
                            this.parentRelationshipResponseObj.matrix_string[index].splice(10, this.parentRelationshipResponseObj.matrix_string[index].length - 10);
                            (_a = this.parentRelationshipResponseObj.matrix_string[index]).push.apply(_a, __spread(this.parentRelationshipGoalAttributes));
                        }
                        else {
                            interactableObj = new Array(10);
                            interactableObj[0] = this.calendarId;
                            if (this.parentRelationshipGoalAttributes) {
                                interactableObj.push.apply(interactableObj, __spread(this.parentRelationshipGoalAttributes));
                            }
                            this.parentRelationshipResponseObj.matrix_string.push(interactableObj);
                        }
                        // save the Goal attributes via Response
                        return [4 /*yield*/, this.momentService.submitResponse({ _id: this.relationshipId }, this.parentRelationshipResponseObj, false)];
                    case 5:
                        // save the Goal attributes via Response
                        _b.sent();
                        socketData = void 0;
                        socketData = {
                            calendarId: this.calendarId,
                            interactable: this.parentRelationshipResponseObj.matrix_string.find(function (c) { return c[0] === _this.calendarId; }),
                            goals: this.parentRelationshipGoalAttributes,
                            author: {
                                _id: this.userData.user._id,
                                first_name: this.userData.user.first_name,
                                last_name: this.userData.user.last_name,
                                avatar: this.userData.user.avatar
                            }
                        };
                        // signal parent relationship to update data via socket.io
                        this.momentService.socket.emit('refresh moment', this.relationshipId, socketData); // Using the moment service socket.io to signal real time dynamic update for other users in the same momentId room
                        _b.label = 6;
                    case 6:
                        this.closeModal();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.changeCalendarItemSelectedDate = function (inputDate) {
        if (inputDate === ' ')
            return;
        this.calendarService.calendar.selectedDate = inputDate;
        this.calendarItem.startDate = new Date(inputDate.getFullYear(), inputDate.getMonth(), inputDate.getDate(), new Date(this.calendarItem.startDate).getHours(), new Date(this.calendarItem.startDate).getMinutes()).toISOString();
        this.anyChangeMade = true;
    };
    ShowfeaturePage.prototype.deleteCalendarItem = function (event) {
        event.stopPropagation();
        this.momentService.touchContentCalendarItems(this.relationshipId, { operation: 'delete calendar items', calendaritems: [this.calendarItem] });
        this.closeModal();
    };
    ShowfeaturePage.prototype.openRegister = function (slide, loginStatus) {
        return __awaiter(this, void 0, void 0, function () {
            var registerModal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalCtrl.create({ component: _user_register_register_page__WEBPACK_IMPORTED_MODULE_20__["RegisterPage"], componentProps: { slide: slide, loginStatus: loginStatus, modalPage: true } })];
                    case 1:
                        registerModal = _a.sent();
                        return [4 /*yield*/, registerModal.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.focusPhoto = function (event, object) {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        return [4 /*yield*/, this.modalCtrl.create({ component: _connect_focus_photo_focus_photo_page__WEBPACK_IMPORTED_MODULE_21__["FocusPhotoPage"], componentProps: { imageUri: object } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.changeTabSelection = function (event) {
        this.tabSelection = parseInt(event.detail.value, 10);
        // check if Notes section needs to be refresh
        this.checkAndLoadNotes();
    };
    ShowfeaturePage.prototype.closeModal = function () {
        var _this = this;
        this.destroyPlayers(null);
        // for Content Calendar Item that just got created but not named (i.e. abandoned)
        if (this.relationshipId && this.calendarId && this.calendarItem && !this.calendarItem.title && !this.anyChangeMade) {
            // in a special case when a calendarItem was created but not named, delete it upon exit
            this.momentService.touchContentCalendarItems(this.relationshipId, { operation: 'delete calendar items', calendaritems: [this.calendarItem] });
        }
        if (this.authService.token && this.modalPage) {
            this.modalCtrl.dismiss(this.anyChangeMade);
        }
        else if (this.participant_type || this.token) {
            this.router.navigateByUrl('/app/discover');
        }
        else if (this.router.url.includes('/app/myconversation')) {
            this.router.navigate(['/app/myconversations/chat'], { skipLocationChange: true });
        }
        else {
            if (this.relationshipId && this.anyChangeMade) {
                setTimeout(function () {
                    _this.momentService.refreshMoment({ momentId: _this.relationshipId, data: { type: 'refresh notes' } });
                }, 2000);
            }
            this.location.back();
        }
    };
    ShowfeaturePage.prototype.toggleSpecialAccess = function (event) {
        event.stopPropagation();
        this.content.scrollToTop(100);
        this.showSpecialAccess = !this.showSpecialAccess;
    };
    ShowfeaturePage.prototype.processVerificationToken = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, result, res, alert_1, alert_2, err_4;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.token = this.route.snapshot.paramMap.get('token');
                        this.verification_token = this.route.snapshot.paramMap.get('verify');
                        this.participant_type = this.route.snapshot.paramMap.get('type') ? parseInt(this.route.snapshot.paramMap.get('type'), 10) : null;
                        if (!this.verification_token) return [3 /*break*/, 15];
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 13, , 14]);
                        _a = this;
                        return [4 /*yield*/, this.loadingCtrl.create({
                                message: 'Verifying...'
                            })];
                    case 2:
                        _a.loading = _b.sent();
                        return [4 /*yield*/, this.loading.present()];
                    case 3:
                        _b.sent();
                        return [4 /*yield*/, this.authService.verifyEmail({ verification_token: this.verification_token })];
                    case 4:
                        result = _b.sent();
                        if (!(result.success && result.token)) return [3 /*break*/, 10];
                        this.authService.cachedRouteParams = null; // remove the route params, including the verification token
                        this.authService.cachedRouteParams = { type: this.participant_type, token: this.token }; // reinstate the invitation params
                        return [4 /*yield*/, this.authService.checkAuthenticationWithToken(result.token)];
                    case 5:
                        res = _b.sent();
                        this.loading.dismiss();
                        if (!(res.content === 'Success')) return [3 /*break*/, 7];
                        console.log('Token authorized');
                        this.userData.user = res.user;
                        this.userData.processLoadedUserData();
                        return [4 /*yield*/, this.userData.loadStoredCommunity()];
                    case 6:
                        _b.sent();
                        this.userData.refreshAppPages();
                        return [3 /*break*/, 9];
                    case 7:
                        console.log('Token is not authorized');
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Something went wrong',
                                message: 'Please try again later.',
                                buttons: [{
                                        text: 'OK',
                                        handler: function () {
                                        }
                                    }],
                                cssClass: 'level-15'
                            })];
                    case 8:
                        alert_1 = _b.sent();
                        alert_1.present();
                        this.setupPermissionCompleted = true;
                        _b.label = 9;
                    case 9: return [3 /*break*/, 12];
                    case 10:
                        this.loading.dismiss();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Account Activated',
                                message: result.msg,
                                buttons: [{
                                        text: 'OK',
                                        handler: function () {
                                        }
                                    }],
                                cssClass: 'level-15'
                            })];
                    case 11:
                        alert_2 = _b.sent();
                        alert_2.present();
                        _b.label = 12;
                    case 12: return [3 /*break*/, 14];
                    case 13:
                        err_4 = _b.sent();
                        this.loading.dismiss();
                        console.log('Error in authentication');
                        return [3 /*break*/, 14];
                    case 14:
                        this.setupPermissionCompleted = true;
                        _b.label = 15;
                    case 15: return [2 /*return*/];
                }
            });
        });
    };
    ShowfeaturePage.prototype.noNetworkConnection = function () {
        return __awaiter(this, void 0, void 0, function () {
            var networkAlert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'No Internet Connection',
                            message: 'Please check your internet connection.',
                            buttons: ['Dismiss'],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    // this function is used by Angular *ngFor to track the dynamic DOM creation and destruction
    ShowfeaturePage.prototype.customTrackBy = function (index, item) {
        return index;
    };
    ShowfeaturePage.prototype.ngOnDestroy = function () {
        if (this.authService.token && this.moment && this.moment._id && this.momentService.socket) {
            if (this.relationshipId && this.calendarId && this.calendarItem && this.calendarItem.uniqueAnswersPerCalendar) {
                this.momentService.socket.emit('leave moment', this.calendarId);
            }
            else if (this.relationshipId) {
                this.momentService.socket.emit('leave moment', this.relationshipId);
                this.momentService.socket.emit('leave moment', this.moment._id + this.relationshipId);
            }
            else {
                this.momentService.socket.emit('leave moment', this.moment._id);
            }
        }
        this.subscriptions['refreshUserStatus'].unsubscribe(this.loadAndProcessMomentHandler);
        this.subscriptions['refreshMoment'].unsubscribe(this.refreshMomentHandler);
    };
    var ShowfeaturePage_1;
    ShowfeaturePage.ctorParameters = function () { return [
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"] },
        { type: _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_22__["Badge"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__["SwUpdate"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_5__["CacheService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["LoadingController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["PickerController"] },
        { type: _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_13__["Chat"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"] },
        { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_17__["Auth"] },
        { type: _services_map_service__WEBPACK_IMPORTED_MODULE_16__["MapService"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_12__["Moment"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_11__["Resource"] },
        { type: _services_response_service__WEBPACK_IMPORTED_MODULE_15__["Response"] },
        { type: _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonContent"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonContent"])
    ], ShowfeaturePage.prototype, "content", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"])
    ], ShowfeaturePage.prototype, "slides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('peopleSlides', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"])
    ], ShowfeaturePage.prototype, "peopleSlides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('plansSlides', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"])
    ], ShowfeaturePage.prototype, "plansSlides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('programsSlides', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"])
    ], ShowfeaturePage.prototype, "programsSlides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('goalsSlides', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSlides"])
    ], ShowfeaturePage.prototype, "goalsSlides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonFab"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonFab"])
    ], ShowfeaturePage.prototype, "fabButtons", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonInfiniteScroll"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonInfiniteScroll"])
    ], ShowfeaturePage.prototype, "infiniteScroll", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowfeaturePage.prototype, "moment", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowfeaturePage.prototype, "modalPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowfeaturePage.prototype, "relationshipId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowfeaturePage.prototype, "calendarId", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ShowfeaturePage.prototype, "responseId", void 0);
    ShowfeaturePage = ShowfeaturePage_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-showfeature',
            template: __importDefault(__webpack_require__(/*! raw-loader!./showfeature.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/showfeature/showfeature.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./showfeature.page.scss */ "./src/app/pages/feature/showfeature/showfeature.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"],
            _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_22__["Badge"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__["SwUpdate"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            ionic_cache__WEBPACK_IMPORTED_MODULE_5__["CacheService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["PickerController"],
            _services_network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_13__["Chat"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_17__["Auth"],
            _services_map_service__WEBPACK_IMPORTED_MODULE_16__["MapService"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_12__["Moment"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_11__["Resource"],
            _services_response_service__WEBPACK_IMPORTED_MODULE_15__["Response"],
            _services_calendar_service__WEBPACK_IMPORTED_MODULE_14__["CalendarService"]])
    ], ShowfeaturePage);
    return ShowfeaturePage;
}());



/***/ }),

/***/ "./src/app/pages/feature/uploadmedia/uploadmedia.page.scss":
/*!*****************************************************************!*\
  !*** ./src/app/pages/feature/uploadmedia/uploadmedia.page.scss ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-uploadmedia {\n  /*.moment-photo-frame {\n    width: 100%;\n    margin-bottom: 10px;\n  }*/\n}\napp-uploadmedia ion-thumbnail {\n  --size: 100px;\n}\napp-uploadmedia .remove-media {\n  position: absolute;\n  top: 5px;\n  right: 2px;\n  z-index: 15;\n}\napp-uploadmedia .remove-video {\n  position: absolute;\n  top: 5px;\n  right: -95px;\n  z-index: 15;\n}\napp-uploadmedia .selected-item {\n  height: 100px;\n}\napp-uploadmedia .center {\n  margin: 0 auto;\n}\napp-uploadmedia .stock-preview {\n  --size: 100px;\n}\napp-uploadmedia .pixabay-grid {\n  width: 100%;\n  max-height: 30%;\n  overflow: scroll;\n}\napp-uploadmedia .selected-grid {\n  width: 100%;\n  max-height: 30%;\n  overflow: scroll;\n}\napp-uploadmedia .video-container {\n  width: 100px;\n  height: 100px;\n}\napp-uploadmedia a {\n  margin: 15px 10%;\n}\napp-uploadmedia .delete-container {\n  width: 14%;\n  float: right;\n}\napp-uploadmedia .moment-label {\n  width: 25px;\n  height: 25px;\n  margin-right: 20px;\n}\napp-uploadmedia .option-number {\n  margin-right: 3%;\n}\napp-uploadmedia .side-image {\n  margin: auto;\n}\napp-uploadmedia .side-icon {\n  height: 100%;\n  width: 100%;\n  margin-left: 4%;\n}\napp-uploadmedia .list-container {\n  overflow: scroll;\n  max-height: 400px;\n  margin: 0 auto;\n  max-width: 400px;\n}\napp-uploadmedia .item-container {\n  width: 60%;\n  margin: 5px;\n  float: left;\n}\napp-uploadmedia .moment-type {\n  width: 60px;\n  margin-right: 10px;\n}\napp-uploadmedia .moment-input {\n  width: 90%;\n  float: left;\n  opacity: 0.5;\n  padding: 5px 0;\n}\napp-uploadmedia .small-font {\n  font-size: 12px;\n}\napp-uploadmedia .dynamicOptions {\n  margin-left: 12%;\n}\napp-uploadmedia .dynamicOptions ::-webkit-input-placeholder {\n  color: #cecece;\n}\napp-uploadmedia .dynamicOptions ::-moz-placeholder {\n  color: #cecece;\n}\napp-uploadmedia .dynamicOptions :-ms-input-placeholder {\n  color: #cecece;\n}\napp-uploadmedia .dynamicOptions ::-ms-input-placeholder {\n  color: #cecece;\n}\napp-uploadmedia .dynamicOptions ::placeholder {\n  color: #cecece;\n}\napp-uploadmedia .section-header {\n  font-size: 18px;\n}\napp-uploadmedia .addRemoveButtons {\n  width: 40%;\n  height: 100%;\n  padding-top: 5%;\n  color: #cecece;\n}\napp-uploadmedia #addButton {\n  margin-left: 5%;\n  width: 50%;\n}\napp-uploadmedia .addRemoveText {\n  font-size: 15px;\n  width: 100%;\n  float: right;\n}\napp-uploadmedia .moment-photo {\n  width: 100%;\n  height: 100%;\n}\napp-uploadmedia .remove-photo {\n  width: 20%;\n}\napp-uploadmedia .moment-icon {\n  max-width: 20px;\n  margin: 0 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvdXBsb2FkbWVkaWEvdXBsb2FkbWVkaWEucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWF0dXJlL3VwbG9hZG1lZGlhL3VwbG9hZG1lZGlhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQTRJRTs7O0lBQUE7QUN2SUY7QURIRTtFQUNFLGFBQUE7QUNLSjtBREZFO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNJSjtBRERFO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUNHSjtBREFFO0VBQ0UsYUFBQTtBQ0VKO0FERUU7RUFDRSxjQUFBO0FDQUo7QURHRTtFQUNFLGFBQUE7QUNESjtBRElFO0VBQ0UsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ0ZKO0FES0U7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDSEo7QURNRTtFQUNFLFlBQUE7RUFDQSxhQUFBO0FDSko7QURPRTtFQUNFLGdCQUFBO0FDTEo7QURTRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FDUEo7QURVRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNSSjtBRFdFO0VBQ0UsZ0JBQUE7QUNUSjtBRFlFO0VBQ0UsWUFBQTtBQ1ZKO0FEYUU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNYSjtBRGVFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQ2JKO0FEZ0JFO0VBQ0UsVUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FDZEo7QURpQkU7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7QUNmSjtBRGtCRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUNoQko7QURtQkU7RUFDRSxlQUFBO0FDakJKO0FEb0JFO0VBQ0UsZ0JBQUE7QUNsQko7QURvQkk7RUFDRSxjQUFBO0FDbEJOO0FEaUJJO0VBQ0UsY0FBQTtBQ2xCTjtBRGlCSTtFQUNFLGNBQUE7QUNsQk47QURpQkk7RUFDRSxjQUFBO0FDbEJOO0FEaUJJO0VBQ0UsY0FBQTtBQ2xCTjtBRHNCRTtFQUNFLGVBQUE7QUNwQko7QUR1QkU7RUFDRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDckJKO0FEd0JFO0VBQ0UsZUFBQTtFQUNBLFVBQUE7QUN0Qko7QUR5QkU7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUN2Qko7QUQrQkU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQzdCSjtBRGdDRTtFQUNFLFVBQUE7QUM5Qko7QURpQ0U7RUFDRSxlQUFBO0VBQ0EsYUFBQTtBQy9CSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZlYXR1cmUvdXBsb2FkbWVkaWEvdXBsb2FkbWVkaWEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLXVwbG9hZG1lZGlhIHtcblxuICBpb24tdGh1bWJuYWlsIHtcbiAgICAtLXNpemU6IDEwMHB4O1xuICB9XG5cbiAgLnJlbW92ZS1tZWRpYSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNXB4O1xuICAgIHJpZ2h0OiAycHg7XG4gICAgei1pbmRleDogMTU7XG4gIH1cblxuICAucmVtb3ZlLXZpZGVvIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1cHg7XG4gICAgcmlnaHQ6IC05NXB4O1xuICAgIHotaW5kZXg6IDE1O1xuICB9XG5cbiAgLnNlbGVjdGVkLWl0ZW0ge1xuICAgIGhlaWdodDogMTAwcHg7XG4gICAgLy93aWR0aDogMTAwcHg7XG4gIH1cblxuICAuY2VudGVyIHtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC5zdG9jay1wcmV2aWV3IHtcbiAgICAtLXNpemU6IDEwMHB4O1xuICB9XG5cbiAgLnBpeGFiYXktZ3JpZCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LWhlaWdodDogMzAlO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gIH1cblxuICAuc2VsZWN0ZWQtZ3JpZCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LWhlaWdodDogMzAlO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gIH1cblxuICAudmlkZW8tY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwcHg7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgfVxuXG4gIGEge1xuICAgIG1hcmdpbjogMTVweCAxMCU7XG4gIH1cblxuXG4gIC5kZWxldGUtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTQlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgfVxuXG4gIC5tb21lbnQtbGFiZWwge1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG4gIH1cblxuICAub3B0aW9uLW51bWJlciB7XG4gICAgbWFyZ2luLXJpZ2h0OiAzJTtcbiAgfVxuXG4gIC5zaWRlLWltYWdlIHtcbiAgICBtYXJnaW46IGF1dG87XG4gIH1cblxuICAuc2lkZS1pY29uIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLWxlZnQ6IDQlO1xuICB9XG5cblxuICAubGlzdC1jb250YWluZXIge1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgbWF4LWhlaWdodDogNDAwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgfVxuXG4gIC5pdGVtLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBtYXJnaW46IDVweDtcbiAgICBmbG9hdDogbGVmdDtcbiAgfVxuXG4gIC5tb21lbnQtdHlwZSB7XG4gICAgd2lkdGg6IDYwcHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICB9XG5cbiAgLm1vbWVudC1pbnB1dCB7XG4gICAgd2lkdGg6IDkwJTtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBvcGFjaXR5OiAwLjU7XG4gICAgcGFkZGluZzogNXB4IDA7XG4gIH1cblxuICAuc21hbGwtZm9udCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG5cbiAgLmR5bmFtaWNPcHRpb25ze1xuICAgIG1hcmdpbi1sZWZ0OiAxMiU7XG5cbiAgICA6OnBsYWNlaG9sZGVye1xuICAgICAgY29sb3I6ICNjZWNlY2U7XG4gICAgfVxuICB9XG5cbiAgLnNlY3Rpb24taGVhZGVyIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gIH1cblxuICAuYWRkUmVtb3ZlQnV0dG9uc3tcbiAgICB3aWR0aDogNDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwYWRkaW5nLXRvcDogNSU7XG4gICAgY29sb3I6ICNjZWNlY2U7XG4gIH1cblxuICAjYWRkQnV0dG9ue1xuICAgIG1hcmdpbi1sZWZ0OiA1JTtcbiAgICB3aWR0aDogNTAlO1xuICB9XG5cbiAgLmFkZFJlbW92ZVRleHR7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgfVxuXG4gIC8qLm1vbWVudC1waG90by1mcmFtZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfSovXG5cbiAgLm1vbWVudC1waG90byB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnJlbW92ZS1waG90byB7XG4gICAgd2lkdGg6IDIwJTtcbiAgfVxuXG4gIC5tb21lbnQtaWNvbiB7XG4gICAgbWF4LXdpZHRoOiAyMHB4O1xuICAgIG1hcmdpbjogMCA1cHg7XG4gIH1cblxufSIsImFwcC11cGxvYWRtZWRpYSB7XG4gIC8qLm1vbWVudC1waG90by1mcmFtZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgfSovXG59XG5hcHAtdXBsb2FkbWVkaWEgaW9uLXRodW1ibmFpbCB7XG4gIC0tc2l6ZTogMTAwcHg7XG59XG5hcHAtdXBsb2FkbWVkaWEgLnJlbW92ZS1tZWRpYSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1cHg7XG4gIHJpZ2h0OiAycHg7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5yZW1vdmUtdmlkZW8ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICByaWdodDogLTk1cHg7XG4gIHotaW5kZXg6IDE1O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5zZWxlY3RlZC1pdGVtIHtcbiAgaGVpZ2h0OiAxMDBweDtcbn1cbmFwcC11cGxvYWRtZWRpYSAuY2VudGVyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtdXBsb2FkbWVkaWEgLnN0b2NrLXByZXZpZXcge1xuICAtLXNpemU6IDEwMHB4O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5waXhhYmF5LWdyaWQge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LWhlaWdodDogMzAlO1xuICBvdmVyZmxvdzogc2Nyb2xsO1xufVxuYXBwLXVwbG9hZG1lZGlhIC5zZWxlY3RlZC1ncmlkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDMwJTtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cbmFwcC11cGxvYWRtZWRpYSAudmlkZW8tY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMHB4O1xuICBoZWlnaHQ6IDEwMHB4O1xufVxuYXBwLXVwbG9hZG1lZGlhIGEge1xuICBtYXJnaW46IDE1cHggMTAlO1xufVxuYXBwLXVwbG9hZG1lZGlhIC5kZWxldGUtY29udGFpbmVyIHtcbiAgd2lkdGg6IDE0JTtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5tb21lbnQtbGFiZWwge1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG59XG5hcHAtdXBsb2FkbWVkaWEgLm9wdGlvbi1udW1iZXIge1xuICBtYXJnaW4tcmlnaHQ6IDMlO1xufVxuYXBwLXVwbG9hZG1lZGlhIC5zaWRlLWltYWdlIHtcbiAgbWFyZ2luOiBhdXRvO1xufVxuYXBwLXVwbG9hZG1lZGlhIC5zaWRlLWljb24ge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW4tbGVmdDogNCU7XG59XG5hcHAtdXBsb2FkbWVkaWEgLmxpc3QtY29udGFpbmVyIHtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5pdGVtLWNvbnRhaW5lciB7XG4gIHdpZHRoOiA2MCU7XG4gIG1hcmdpbjogNXB4O1xuICBmbG9hdDogbGVmdDtcbn1cbmFwcC11cGxvYWRtZWRpYSAubW9tZW50LXR5cGUge1xuICB3aWR0aDogNjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5tb21lbnQtaW5wdXQge1xuICB3aWR0aDogOTAlO1xuICBmbG9hdDogbGVmdDtcbiAgb3BhY2l0eTogMC41O1xuICBwYWRkaW5nOiA1cHggMDtcbn1cbmFwcC11cGxvYWRtZWRpYSAuc21hbGwtZm9udCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC11cGxvYWRtZWRpYSAuZHluYW1pY09wdGlvbnMge1xuICBtYXJnaW4tbGVmdDogMTIlO1xufVxuYXBwLXVwbG9hZG1lZGlhIC5keW5hbWljT3B0aW9ucyA6OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6ICNjZWNlY2U7XG59XG5hcHAtdXBsb2FkbWVkaWEgLnNlY3Rpb24taGVhZGVyIHtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuYXBwLXVwbG9hZG1lZGlhIC5hZGRSZW1vdmVCdXR0b25zIHtcbiAgd2lkdGg6IDQwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwYWRkaW5nLXRvcDogNSU7XG4gIGNvbG9yOiAjY2VjZWNlO1xufVxuYXBwLXVwbG9hZG1lZGlhICNhZGRCdXR0b24ge1xuICBtYXJnaW4tbGVmdDogNSU7XG4gIHdpZHRoOiA1MCU7XG59XG5hcHAtdXBsb2FkbWVkaWEgLmFkZFJlbW92ZVRleHQge1xuICBmb250LXNpemU6IDE1cHg7XG4gIHdpZHRoOiAxMDAlO1xuICBmbG9hdDogcmlnaHQ7XG59XG5hcHAtdXBsb2FkbWVkaWEgLm1vbWVudC1waG90byB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtdXBsb2FkbWVkaWEgLnJlbW92ZS1waG90byB7XG4gIHdpZHRoOiAyMCU7XG59XG5hcHAtdXBsb2FkbWVkaWEgLm1vbWVudC1pY29uIHtcbiAgbWF4LXdpZHRoOiAyMHB4O1xuICBtYXJnaW46IDAgNXB4O1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/feature/uploadmedia/uploadmedia.page.ts":
/*!***************************************************************!*\
  !*** ./src/app/pages/feature/uploadmedia/uploadmedia.page.ts ***!
  \***************************************************************/
/*! exports provided: UploadmediaPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadmediaPage", function() { return UploadmediaPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_aws_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _services_resource_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};






var UploadmediaPage = /** @class */ (function () {
    function UploadmediaPage(platform, modalCtrl, alertCtrl, awsService, userData, resourceService) {
        this.platform = platform;
        this.modalCtrl = modalCtrl;
        this.alertCtrl = alertCtrl;
        this.awsService = awsService;
        this.userData = userData;
        this.resourceService = resourceService;
        this.mediaType = 'photo';
        this.urls = [];
        this.mediaList = [];
        this.planModules = [];
    }
    UploadmediaPage.prototype.ngOnInit = function () {
        this.awsService.sessionAllowedCount = 9999; // allow up to 9999 files upload
    };
    UploadmediaPage.prototype.selectStockPhoto = function (photo) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.awsService.selectStockPhoto(photo, this.sessionId)];
                    case 1:
                        _a.sent();
                        this.urls.push(this.awsService.sessionAssets[this.sessionId][this.awsService.sessionAssets[this.sessionId].length - 1]);
                        return [2 /*return*/];
                }
            });
        });
    };
    UploadmediaPage.prototype.selectFileFromDeviceAndUpload = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.awsService.uploadFile('users', this.userData.user._id, event.target.files[0], this.sessionId)];
                    case 1:
                        _a.sent();
                        this.urls.push(this.awsService.sessionAssets[this.sessionId][this.awsService.sessionAssets[this.sessionId].length - 1]);
                        return [3 /*break*/, 3];
                    case 2:
                        err_1 = _a.sent();
                        console.log(err_1);
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    UploadmediaPage.prototype.selectPhotoFromDeviceAndUpload = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var Camera, image, compressed, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 8, , 9]);
                        if (!this.platform.is('cordova')) return [3 /*break*/, 4];
                        Camera = _capacitor_core__WEBPACK_IMPORTED_MODULE_4__["Plugins"].Camera;
                        return [4 /*yield*/, Camera.getPhoto({
                                quality: 60,
                                width: 1280,
                                allowEditing: false,
                                resultType: _capacitor_core__WEBPACK_IMPORTED_MODULE_4__["CameraResultType"].DataUrl,
                                source: _capacitor_core__WEBPACK_IMPORTED_MODULE_4__["CameraSource"].Prompt,
                                correctOrientation: false
                            })];
                    case 1:
                        image = _a.sent();
                        if (!image) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.awsService.uploadImage('users', this.userData.user._id, image, this.sessionId)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [3 /*break*/, 7];
                    case 4: return [4 /*yield*/, this.awsService.compressPhoto(event.target.files[0])];
                    case 5:
                        compressed = _a.sent();
                        return [4 /*yield*/, this.awsService.uploadFile('users', this.userData.user._id, compressed, this.sessionId)];
                    case 6:
                        _a.sent();
                        _a.label = 7;
                    case 7:
                        this.urls.push(this.awsService.sessionAssets[this.sessionId][this.awsService.sessionAssets[this.sessionId].length - 1]);
                        return [3 /*break*/, 9];
                    case 8:
                        err_2 = _a.sent();
                        console.log(err_2);
                        return [3 /*break*/, 9];
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    UploadmediaPage.prototype.removeMedia = function (i) {
        return __awaiter(this, void 0, void 0, function () {
            var index;
            return __generator(this, function (_a) {
                index = this.awsService.sessionAssets[this.sessionId].indexOf(this.urls[i]);
                if (index > -1) {
                    this.awsService.sessionAssets[this.sessionId].splice(index, 1);
                }
                this.urls.splice(i, 1);
                return [2 /*return*/];
            });
        });
    };
    UploadmediaPage.prototype.promptMediaUrl = function (provider) {
        return __awaiter(this, void 0, void 0, function () {
            var alert2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: provider === 'youtube' ? 'Input the Youtube link' : 'Input the Media Url',
                            inputs: [{
                                    name: 'src',
                                    type: 'text',
                                    placeholder: provider === 'youtube' ? 'Youtube link' : 'Media Link'
                                }],
                            buttons: [
                                {
                                    text: 'Cancel',
                                    role: 'cancel',
                                    handler: function () {
                                        console.log('Cancel video upload');
                                        return;
                                    }
                                }, {
                                    text: 'Ok',
                                    handler: function (data) {
                                        _this.urls.push(data.src);
                                        _this.awsService.sessionAssets[_this.sessionId].push(data.src);
                                    }
                                }
                            ],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        alert2 = _a.sent();
                        return [4 /*yield*/, alert2.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UploadmediaPage.prototype.initPlyr = function (event, mediaId) {
        var player;
        player = event;
        this.mediaList.push({ _id: mediaId, player: player });
    };
    UploadmediaPage.prototype.destroyPlayers = function (mediaId) {
        var e_1, _a;
        if (mediaId) {
            var media = this.mediaList.find(function (c) { return c._id === mediaId; });
            media.player.destroy();
        }
        else {
            try {
                for (var _b = __values(this.mediaList), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var media = _c.value;
                    media.player.destroy();
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
    };
    UploadmediaPage.prototype.closeModal = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.modalCtrl.dismiss(false);
                return [2 /*return*/];
            });
        });
    };
    UploadmediaPage.prototype.finish = function () {
        this.modalCtrl.dismiss(this.urls);
    };
    UploadmediaPage.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"] },
        { type: _services_aws_service__WEBPACK_IMPORTED_MODULE_2__["Aws"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_5__["UserData"] },
        { type: _services_resource_service__WEBPACK_IMPORTED_MODULE_3__["Resource"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], UploadmediaPage.prototype, "sessionId", void 0);
    UploadmediaPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-uploadmedia',
            template: __importDefault(__webpack_require__(/*! raw-loader!./uploadmedia.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/feature/uploadmedia/uploadmedia.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./uploadmedia.page.scss */ "./src/app/pages/feature/uploadmedia/uploadmedia.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _services_aws_service__WEBPACK_IMPORTED_MODULE_2__["Aws"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_5__["UserData"],
            _services_resource_service__WEBPACK_IMPORTED_MODULE_3__["Resource"]])
    ], UploadmediaPage);
    return UploadmediaPage;
}());



/***/ }),

/***/ "./src/app/pages/user/register/register.module.ts":
/*!********************************************************!*\
  !*** ./src/app/pages/user/register/register.module.ts ***!
  \********************************************************/
/*! exports provided: RegisterPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegisterPageModule", function() { return RegisterPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _register_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./register.page */ "./src/app/pages/user/register/register.page.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var routes = [
    {
        path: '',
        component: _register_page__WEBPACK_IMPORTED_MODULE_5__["RegisterPage"]
    }
];
var RegisterPageModule = /** @class */ (function () {
    function RegisterPageModule() {
    }
    RegisterPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes)
            ],
            declarations: [_register_page__WEBPACK_IMPORTED_MODULE_5__["RegisterPage"]]
        })
    ], RegisterPageModule);
    return RegisterPageModule;
}());



/***/ }),

/***/ "./src/app/pages/user/register/register.page.scss":
/*!********************************************************!*\
  !*** ./src/app/pages/user/register/register.page.scss ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("app-register ion-spinner {\n  position: absolute;\n  margin: 48%;\n  z-index: 30000;\n}\napp-register ion-slides {\n  max-width: 600px;\n  height: 100%;\n}\napp-register ion-spinner {\n  position: absolute;\n  margin: 48%;\n}\napp-register ion-slide {\n  height: 100%;\n}\napp-register ion-list {\n  overflow: scroll;\n  width: 100%;\n  margin: 0;\n}\napp-register p, app-register li {\n  margin-left: 10px;\n  margin-right: 10px;\n  font-size: 12px;\n}\napp-register h4 {\n  margin-bottom: 10%;\n}\napp-register a {\n  color: #9ec0de;\n}\napp-register ion-item {\n  padding-left: 10px !important;\n  --background: transparent !important;\n  margin-bottom: 10px;\n  font-size: 0.9em;\n}\napp-register ion-select {\n  font-size: 17px;\n}\napp-register .fade-in {\n  opacity: 1;\n  -webkit-animation-name: fadeInOpacity;\n          animation-name: fadeInOpacity;\n  -webkit-animation-iteration-count: 1;\n          animation-iteration-count: 1;\n  -webkit-animation-timing-function: ease-in;\n          animation-timing-function: ease-in;\n  -webkit-animation-duration: 1s;\n          animation-duration: 1s;\n}\n@-webkit-keyframes fadeInOpacity {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fadeInOpacity {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\napp-register .full-height {\n  height: 100%;\n}\napp-register .overflow {\n  overflow: scroll;\n}\napp-register .intro-graphics {\n  margin: 0 5px 6%;\n}\napp-register .graphics-container {\n  max-height: 300px;\n}\napp-register .intro-title {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 25px;\n  line-height: 29px;\n  align-items: center;\n  text-align: center;\n}\napp-register .intro-description {\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 18px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  color: var(--ion-color-darkgrey);\n}\napp-register .login-form {\n  width: 70%;\n  margin: 0 auto;\n}\napp-register .login-logo {\n  max-width: 25%;\n  margin: 0 auto;\n}\napp-register .welcome-name {\n  font-size: 20px;\n  margin: 2% auto 0 auto;\n}\napp-register ion-segment {\n  margin: 2vh auto;\n  --background: var(--ion-color-lightgrey);\n  --color-checked: var(--ion-color-secondary);\n  --color-disabled: var(--ion-color-primary);\n}\napp-register ion-segment-button {\n  --margin--start: 5%;\n  --margin--end: 5%;\n  --border-radius: 50px;\n}\napp-register .selected {\n  background-color: #ffa535;\n  border-color: #ffa535;\n}\napp-register .deselected {\n  background-color: rgba(255, 255, 255, 0.3);\n  border-color: rgba(255, 255, 255, 0.3);\n}\napp-register .button-text {\n  text-align: center;\n}\napp-register ion-row {\n  align-items: center;\n  text-align: center;\n}\napp-register ion-list {\n  background: transparent !important;\n  margin: 0;\n}\napp-register ion-item {\n  padding-left: 5px !important;\n  margin-bottom: 10px;\n  --background: transparent;\n  font-size: 0.9em;\n}\napp-register ion-select {\n  font-size: 17px;\n}\napp-register .form {\n  width: 80%;\n  margin: 0 auto;\n}\napp-register .calling_code {\n  padding-left: 5px;\n  width: 35%;\n}\napp-register .phone_number {\n  margin: auto 10px;\n  bottom: 0;\n  right: 0;\n  width: 60%;\n}\napp-register .password-icon {\n  font-size: 2rem !important;\n  position: relative !important;\n  top: 5px !important;\n  margin: 0 auto !important;\n  width: 15px;\n}\napp-register .create-account {\n  text-decoration: underline;\n  background: none;\n  border: none;\n  box-shadow: none;\n  font-size: 15px;\n}\napp-register .heading-text {\n  flex: 1;\n  align-items: center;\n  text-align: center;\n}\napp-register .heading-text h3 {\n  color: #fff;\n}\napp-register .account-form {\n  flex: 1;\n}\napp-register .slide-button {\n  width: 100%;\n  border-radius: 30px;\n  margin-top: 30px;\n  font-size: 0.9em;\n  border: 1px solid #ffa535;\n  background-color: #ffa535;\n}\napp-register .text-link {\n  color: #fff;\n  text-decoration: underline;\n  background: none;\n  border: none;\n  box-shadow: none;\n  font-size: 14px;\n}\napp-register .register-email {\n  color: #fff;\n  text-decoration: underline;\n  background: none;\n  border: none;\n  box-shadow: none;\n}\napp-register .password-icon {\n  font-size: 2rem !important;\n  position: relative !important;\n  top: 5px !important;\n  margin: 0 auto !important;\n}\napp-register .image-cropper {\n  width: 200px;\n  height: 200px;\n  overflow: hidden;\n  border-radius: 50%;\n  margin: 0 auto;\n}\napp-register .profile-pic {\n  -o-object-fit: cover;\n     object-fit: cover;\n  border-radius: 50%;\n  width: 100%;\n  height: 100%;\n}\napp-register .camera-icon {\n  width: 25px;\n  height: 25px;\n  position: absolute;\n  bottom: 8px;\n  right: calc(100%/2 - 80px);\n}\napp-register .browser-upload {\n  width: 200px;\n  margin: 5% auto;\n}\napp-register .title {\n  font-size: 24px;\n  font-style: bold;\n  text-align: center;\n}\napp-register .comment {\n  font-size: 18px;\n  text-align: center;\n}\napp-register .form-error {\n  height: 20px;\n  font-size: small;\n  text-align: left;\n  margin-left: 20px;\n}\napp-register .custom-back-button {\n  margin-bottom: 15%;\n}\napp-register .swiper-pagination-bullet {\n  opacity: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYWxpeGh1YW5nL1dlYl9EZXZlbG9wbWVudC9yZXN0dm8vcmVzdHZvLWFwcC9zcmMvYXBwL3BhZ2VzL3VzZXIvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy91c2VyL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUNESjtBRElFO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0FDRko7QURTRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtBQ1BKO0FEVUU7RUFDRSxZQUFBO0FDUko7QURXRTtFQUVFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUNWSjtBRGFFO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUVBLGVBQUE7QUNaSjtBRGVFO0VBRUUsa0JBQUE7QUNkSjtBRGlCRTtFQUNFLGNBQUE7QUNmSjtBRGtCRTtFQUNFLDZCQUFBO0VBQ0Esb0NBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FDaEJKO0FEbUJFO0VBRUUsZUFBQTtBQ2xCSjtBRDBCRTtFQUNFLFVBQUE7RUFDQSxxQ0FBQTtVQUFBLDZCQUFBO0VBQ0Esb0NBQUE7VUFBQSw0QkFBQTtFQUNBLDBDQUFBO1VBQUEsa0NBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0FDeEJKO0FEMkJFO0VBQ0U7SUFDRSxVQUFBO0VDekJKO0VEMkJFO0lBQ0UsVUFBQTtFQ3pCSjtBQUNGO0FEbUJFO0VBQ0U7SUFDRSxVQUFBO0VDekJKO0VEMkJFO0lBQ0UsVUFBQTtFQ3pCSjtBQUNGO0FENEJFO0VBQ0UsWUFBQTtBQzFCSjtBRDZCRTtFQUNFLGdCQUFBO0FDM0JKO0FEOEJFO0VBQ0UsZ0JBQUE7QUM1Qko7QUQrQkU7RUFDRSxpQkFBQTtBQzdCSjtBRGdDRTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDOUJKO0FEaUNFO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0NBQUE7QUMvQko7QURvQ0U7RUFDRSxVQUFBO0VBQ0EsY0FBQTtBQ2xDSjtBRHFDRTtFQUNFLGNBQUE7RUFDQSxjQUFBO0FDbkNKO0FEc0NFO0VBQ0UsZUFBQTtFQUVBLHNCQUFBO0FDckNKO0FEd0NFO0VBQ0UsZ0JBQUE7RUFDQSx3Q0FBQTtFQUVBLDJDQUFBO0VBQ0EsMENBQUE7QUN2Q0o7QUQwQ0U7RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EscUJBQUE7QUN4Q0o7QUQyQ0U7RUFFRSx5QkFBQTtFQUNBLHFCQUFBO0FDMUNKO0FENkNFO0VBRUUsMENBQUE7RUFDQSxzQ0FBQTtBQzVDSjtBRCtDRTtFQUNFLGtCQUFBO0FDN0NKO0FEZ0RFO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtBQzlDSjtBRGlERTtFQUNFLGtDQUFBO0VBQ0EsU0FBQTtBQy9DSjtBRGtERTtFQUNFLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FDaERKO0FEbURFO0VBRUUsZUFBQTtBQ2xESjtBRHNERTtFQUNFLFVBQUE7RUFDQSxjQUFBO0FDcERKO0FEdURFO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0FDckRKO0FEd0RFO0VBRUUsaUJBQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7QUN2REo7QUQwREU7RUFFRSwwQkFBQTtFQUNBLDZCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLFdBQUE7QUN6REo7QUQ0REU7RUFFRSwwQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQzNESjtBRGdFRTtFQUNFLE9BQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDOURKO0FEaUVFO0VBQ0UsV0FBQTtBQy9ESjtBRGtFRTtFQUNFLE9BQUE7QUNoRUo7QURtRUU7RUFDRSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtBQ2pFSjtBRHFFRTtFQUNFLFdBQUE7RUFDQSwwQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQ25FSjtBRHNFRTtFQUNFLFdBQUE7RUFDQSwwQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDcEVKO0FEdUVFO0VBRUUsMEJBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUN0RUo7QUR5RUU7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDdkVKO0FEMEVFO0VBQ0Usb0JBQUE7S0FBQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUN4RUo7QUQyRUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDBCQUFBO0FDekVKO0FENEVFO0VBQ0UsWUFBQTtFQUNBLGVBQUE7QUMxRUo7QUQ2RUU7RUFFRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQzVFSjtBRCtFRTtFQUVFLGVBQUE7RUFDQSxrQkFBQTtBQzlFSjtBRGlGRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUMvRUo7QURvRkU7RUFDRSxrQkFBQTtBQ2xGSjtBRHFGRTtFQUNFLFVBQUE7QUNuRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91c2VyL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFwcC1yZWdpc3RlciB7XG5cbiAgaW9uLXNwaW5uZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBtYXJnaW46IDQ4JTtcbiAgICB6LWluZGV4OiAzMDAwMDtcbiAgfVxuXG4gIGlvbi1zbGlkZXMge1xuICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgI3dlbGNvbWVTbGlkZXMge1xuXG4gIH1cblxuICBpb24tc3Bpbm5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIG1hcmdpbjogNDglO1xuICB9XG5cbiAgaW9uLXNsaWRlIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICBpb24tbGlzdCB7XG4gICAgLy9iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5cbiAgcCwgbGkge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAvL2NvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBmb250LXNpemU6IDEycHg7XG4gIH1cblxuICBoNCB7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgbWFyZ2luLWJvdHRvbTogMTAlO1xuICB9XG5cbiAgYSB7XG4gICAgY29sb3I6IHJnYigxNTgsIDE5MiwgMjIyKTtcbiAgfVxuXG4gIGlvbi1pdGVtIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHggIWltcG9ydGFudDtcbiAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBmb250LXNpemU6IDAuOWVtO1xuICB9XG5cbiAgaW9uLXNlbGVjdCB7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgZm9udC1zaXplOiAxN3B4O1xuICAgIC8vYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICAjZmZhNTM1O1xuICB9XG5cbiAgaW9uLWJ1dHRvbiB7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIH1cblxuICAuZmFkZS1pbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICBhbmltYXRpb24tbmFtZTogZmFkZUluT3BhY2l0eTtcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xuICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcbiAgfVxuXG4gIEBrZXlmcmFtZXMgZmFkZUluT3BhY2l0eSB7XG4gICAgMCUge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgfVxuXG4gIC5mdWxsLWhlaWdodCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLm92ZXJmbG93IHtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICB9XG5cbiAgLmludHJvLWdyYXBoaWNzIHtcbiAgICBtYXJnaW46IDAgNXB4IDYlO1xuICB9XG5cbiAgLmdyYXBoaWNzLWNvbnRhaW5lciB7XG4gICAgbWF4LWhlaWdodDogMzAwcHg7XG4gIH1cblxuICAuaW50cm8tdGl0bGUge1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGZvbnQtc2l6ZTogMjVweDtcbiAgICBsaW5lLWhlaWdodDogMjlweDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5pbnRyby1kZXNjcmlwdGlvbiB7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxOHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrZ3JleSk7XG4gIH1cblxuICAvL2xvZ2luXG5cbiAgLmxvZ2luLWZvcm0ge1xuICAgIHdpZHRoOiA3MCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cblxuICAubG9naW4tbG9nbyB7XG4gICAgbWF4LXdpZHRoOiAyNSU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cblxuICAud2VsY29tZS1uYW1lIHtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgbWFyZ2luOiAyJSBhdXRvIDAgYXV0bztcbiAgfVxuXG4gIGlvbi1zZWdtZW50IHtcbiAgICBtYXJnaW46IDJ2aCBhdXRvO1xuICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0Z3JleSk7Ly8gcmdiYSgyNTUsIDI1NSwgMjU1LCAuMyk7XG4gICAgLy8tLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICAtLWNvbG9yLWNoZWNrZWQ6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIC0tY29sb3ItZGlzYWJsZWQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgfVxuXG4gIGlvbi1zZWdtZW50LWJ1dHRvbiB7XG4gICAgLS1tYXJnaW4tLXN0YXJ0OiA1JTtcbiAgICAtLW1hcmdpbi0tZW5kOiA1JTtcbiAgICAtLWJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIH1cblxuICAuc2VsZWN0ZWQge1xuICAgIC8vYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTUzNTtcbiAgICBib3JkZXItY29sb3I6ICNmZmE1MzU7XG4gIH1cblxuICAuZGVzZWxlY3RlZCB7XG4gICAgLy9ib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC4zKTtcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjMpO1xuICB9XG5cbiAgLmJ1dHRvbi10ZXh0IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICBpb24tcm93IHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIGlvbi1saXN0IHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gIGlvbi1pdGVtIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDVweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBmb250LXNpemU6IDAuOWVtO1xuICB9XG5cbiAgaW9uLXNlbGVjdCB7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgZm9udC1zaXplOiAxN3B4O1xuICAgIC8vYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZmE1MzU7XG4gIH1cblxuICAuZm9ybSB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC5jYWxsaW5nX2NvZGUge1xuICAgIHBhZGRpbmctbGVmdDogNXB4O1xuICAgIHdpZHRoOiAzNSU7XG4gIH1cblxuICAucGhvbmVfbnVtYmVyIHtcbiAgICAvL3Bvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBtYXJnaW46IGF1dG8gMTBweDtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgd2lkdGg6IDYwJTtcbiAgfVxuXG4gIC5wYXNzd29yZC1pY29ue1xuICAgIC8vY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIGZvbnQtc2l6ZToycmVtICFpbXBvcnRhbnQ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gICAgdG9wOiA1cHggIWltcG9ydGFudDtcbiAgICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAxNXB4O1xuICB9XG5cbiAgLmNyZWF0ZS1hY2NvdW50IHtcbiAgICAvL2NvbG9yOiAjZmZmO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICB9XG5cbiAgLy9yZWdpc3RyYXRpb25cblxuICAuaGVhZGluZy10ZXh0IHtcbiAgICBmbGV4OiAxO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLmhlYWRpbmctdGV4dCBoMyB7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cblxuICAuYWNjb3VudC1mb3JtIHtcbiAgICBmbGV4OiAxO1xuICB9XG5cbiAgLnNsaWRlLWJ1dHRvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xuICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgICNmZmE1MzU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTUzNTtcbiAgICAvL2NvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgfVxuXG4gIC50ZXh0LWxpbmsge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG5cbiAgLnJlZ2lzdGVyLWVtYWlsIHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICB9XG5cbiAgLnBhc3N3b3JkLWljb257XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gICAgZm9udC1zaXplOjJyZW0gIWltcG9ydGFudDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtcbiAgICB0b3A6IDVweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCBhdXRvICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuaW1hZ2UtY3JvcHBlciB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cblxuICAucHJvZmlsZS1waWMge1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAuY2FtZXJhLWljb24ge1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiA4cHg7XG4gICAgcmlnaHQ6IGNhbGMoMTAwJS8yIC0gODBweCk7XG4gIH1cblxuICAuYnJvd3Nlci11cGxvYWQge1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICBtYXJnaW46IDUlIGF1dG87XG4gIH1cblxuICAudGl0bGUge1xuICAgIC8vY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBmb250LXN0eWxlOiBib2xkO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5jb21tZW50IHtcbiAgICAvL2NvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLmZvcm0tZXJyb3Ige1xuICAgIGhlaWdodDogMjBweDtcbiAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgLy9jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIH1cblxuXG4gIC5jdXN0b20tYmFjay1idXR0b24ge1xuICAgIG1hcmdpbi1ib3R0b206IDE1JTtcbiAgfVxuXG4gIC5zd2lwZXItcGFnaW5hdGlvbi1idWxsZXQge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cblxuXG4iLCJhcHAtcmVnaXN0ZXIgaW9uLXNwaW5uZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogNDglO1xuICB6LWluZGV4OiAzMDAwMDtcbn1cbmFwcC1yZWdpc3RlciBpb24tc2xpZGVzIHtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuYXBwLXJlZ2lzdGVyIGlvbi1zcGlubmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW46IDQ4JTtcbn1cbmFwcC1yZWdpc3RlciBpb24tc2xpZGUge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtcmVnaXN0ZXIgaW9uLWxpc3Qge1xuICBvdmVyZmxvdzogc2Nyb2xsO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwO1xufVxuYXBwLXJlZ2lzdGVyIHAsIGFwcC1yZWdpc3RlciBsaSB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cbmFwcC1yZWdpc3RlciBoNCB7XG4gIG1hcmdpbi1ib3R0b206IDEwJTtcbn1cbmFwcC1yZWdpc3RlciBhIHtcbiAgY29sb3I6ICM5ZWMwZGU7XG59XG5hcHAtcmVnaXN0ZXIgaW9uLWl0ZW0ge1xuICBwYWRkaW5nLWxlZnQ6IDEwcHggIWltcG9ydGFudDtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBmb250LXNpemU6IDAuOWVtO1xufVxuYXBwLXJlZ2lzdGVyIGlvbi1zZWxlY3Qge1xuICBmb250LXNpemU6IDE3cHg7XG59XG5hcHAtcmVnaXN0ZXIgLmZhZGUtaW4ge1xuICBvcGFjaXR5OiAxO1xuICBhbmltYXRpb24tbmFtZTogZmFkZUluT3BhY2l0eTtcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcbn1cbkBrZXlmcmFtZXMgZmFkZUluT3BhY2l0eSB7XG4gIDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG4gIDEwMCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cbmFwcC1yZWdpc3RlciAuZnVsbC1oZWlnaHQge1xuICBoZWlnaHQ6IDEwMCU7XG59XG5hcHAtcmVnaXN0ZXIgLm92ZXJmbG93IHtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbn1cbmFwcC1yZWdpc3RlciAuaW50cm8tZ3JhcGhpY3Mge1xuICBtYXJnaW46IDAgNXB4IDYlO1xufVxuYXBwLXJlZ2lzdGVyIC5ncmFwaGljcy1jb250YWluZXIge1xuICBtYXgtaGVpZ2h0OiAzMDBweDtcbn1cbmFwcC1yZWdpc3RlciAuaW50cm8tdGl0bGUge1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc2l6ZTogMjVweDtcbiAgbGluZS1oZWlnaHQ6IDI5cHg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmFwcC1yZWdpc3RlciAuaW50cm8tZGVzY3JpcHRpb24ge1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgbGluZS1oZWlnaHQ6IDE4cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrZ3JleSk7XG59XG5hcHAtcmVnaXN0ZXIgLmxvZ2luLWZvcm0ge1xuICB3aWR0aDogNzAlO1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1yZWdpc3RlciAubG9naW4tbG9nbyB7XG4gIG1heC13aWR0aDogMjUlO1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmFwcC1yZWdpc3RlciAud2VsY29tZS1uYW1lIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBtYXJnaW46IDIlIGF1dG8gMCBhdXRvO1xufVxuYXBwLXJlZ2lzdGVyIGlvbi1zZWdtZW50IHtcbiAgbWFyZ2luOiAydmggYXV0bztcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHRncmV5KTtcbiAgLS1jb2xvci1jaGVja2VkOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgLS1jb2xvci1kaXNhYmxlZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuYXBwLXJlZ2lzdGVyIGlvbi1zZWdtZW50LWJ1dHRvbiB7XG4gIC0tbWFyZ2luLS1zdGFydDogNSU7XG4gIC0tbWFyZ2luLS1lbmQ6IDUlO1xuICAtLWJvcmRlci1yYWRpdXM6IDUwcHg7XG59XG5hcHAtcmVnaXN0ZXIgLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTUzNTtcbiAgYm9yZGVyLWNvbG9yOiAjZmZhNTM1O1xufVxuYXBwLXJlZ2lzdGVyIC5kZXNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpO1xuICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcbn1cbmFwcC1yZWdpc3RlciAuYnV0dG9uLXRleHQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5hcHAtcmVnaXN0ZXIgaW9uLXJvdyB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmFwcC1yZWdpc3RlciBpb24tbGlzdCB7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMDtcbn1cbmFwcC1yZWdpc3RlciBpb24taXRlbSB7XG4gIHBhZGRpbmctbGVmdDogNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG59XG5hcHAtcmVnaXN0ZXIgaW9uLXNlbGVjdCB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbn1cbmFwcC1yZWdpc3RlciAuZm9ybSB7XG4gIHdpZHRoOiA4MCU7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuYXBwLXJlZ2lzdGVyIC5jYWxsaW5nX2NvZGUge1xuICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgd2lkdGg6IDM1JTtcbn1cbmFwcC1yZWdpc3RlciAucGhvbmVfbnVtYmVyIHtcbiAgbWFyZ2luOiBhdXRvIDEwcHg7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDA7XG4gIHdpZHRoOiA2MCU7XG59XG5hcHAtcmVnaXN0ZXIgLnBhc3N3b3JkLWljb24ge1xuICBmb250LXNpemU6IDJyZW0gIWltcG9ydGFudDtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIHRvcDogNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCBhdXRvICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAxNXB4O1xufVxuYXBwLXJlZ2lzdGVyIC5jcmVhdGUtYWNjb3VudCB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG4gIGZvbnQtc2l6ZTogMTVweDtcbn1cbmFwcC1yZWdpc3RlciAuaGVhZGluZy10ZXh0IHtcbiAgZmxleDogMTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYXBwLXJlZ2lzdGVyIC5oZWFkaW5nLXRleHQgaDMge1xuICBjb2xvcjogI2ZmZjtcbn1cbmFwcC1yZWdpc3RlciAuYWNjb3VudC1mb3JtIHtcbiAgZmxleDogMTtcbn1cbmFwcC1yZWdpc3RlciAuc2xpZGUtYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmE1MzU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmE1MzU7XG59XG5hcHAtcmVnaXN0ZXIgLnRleHQtbGluayB7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3gtc2hhZG93OiBub25lO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5hcHAtcmVnaXN0ZXIgLnJlZ2lzdGVyLWVtYWlsIHtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG5hcHAtcmVnaXN0ZXIgLnBhc3N3b3JkLWljb24ge1xuICBmb250LXNpemU6IDJyZW0gIWltcG9ydGFudDtcbiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gIHRvcDogNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCBhdXRvICFpbXBvcnRhbnQ7XG59XG5hcHAtcmVnaXN0ZXIgLmltYWdlLWNyb3BwZXIge1xuICB3aWR0aDogMjAwcHg7XG4gIGhlaWdodDogMjAwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5hcHAtcmVnaXN0ZXIgLnByb2ZpbGUtcGljIHtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cbmFwcC1yZWdpc3RlciAuY2FtZXJhLWljb24ge1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogOHB4O1xuICByaWdodDogY2FsYygxMDAlLzIgLSA4MHB4KTtcbn1cbmFwcC1yZWdpc3RlciAuYnJvd3Nlci11cGxvYWQge1xuICB3aWR0aDogMjAwcHg7XG4gIG1hcmdpbjogNSUgYXV0bztcbn1cbmFwcC1yZWdpc3RlciAudGl0bGUge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtc3R5bGU6IGJvbGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmFwcC1yZWdpc3RlciAuY29tbWVudCB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYXBwLXJlZ2lzdGVyIC5mb3JtLWVycm9yIHtcbiAgaGVpZ2h0OiAyMHB4O1xuICBmb250LXNpemU6IHNtYWxsO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbn1cbmFwcC1yZWdpc3RlciAuY3VzdG9tLWJhY2stYnV0dG9uIHtcbiAgbWFyZ2luLWJvdHRvbTogMTUlO1xufVxuYXBwLXJlZ2lzdGVyIC5zd2lwZXItcGFnaW5hdGlvbi1idWxsZXQge1xuICBvcGFjaXR5OiAxO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/user/register/register.page.ts":
/*!******************************************************!*\
  !*** ./src/app/pages/user/register/register.page.ts ***!
  \******************************************************/
/*! exports provided: RegisterPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegisterPage", function() { return RegisterPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _services_aws_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _services_chat_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _services_moment_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../services/moment.service */ "./src/app/services/moment.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var StatusBar = _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["Plugins"].StatusBar, SplashScreen = _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["Plugins"].SplashScreen;









var RegisterPage = /** @class */ (function () {
    function RegisterPage(router, location, storage, platform, route, formBuilder, alertCtrl, loadingCtrl, menuCtrl, modalCtrl, momentService, chatService, authService, awsService, userData) {
        this.router = router;
        this.location = location;
        this.storage = storage;
        this.platform = platform;
        this.route = route;
        this.formBuilder = formBuilder;
        this.alertCtrl = alertCtrl;
        this.loadingCtrl = loadingCtrl;
        this.menuCtrl = menuCtrl;
        this.modalCtrl = modalCtrl;
        this.momentService = momentService;
        this.chatService = chatService;
        this.authService = authService;
        this.awsService = awsService;
        this.userData = userData;
        this.loginStatus = '';
        this.view = 'signin';
        this.loginMode = 'email';
        this.passwordType = 'password';
        this.passwordIcon = 'eye';
        this.recovery_mode = false;
        this.exitType = 'slide';
        this.calling_codes = [{ name: "+1 US", value: "+1" },
            { name: "+20 EG", value: "+20" },
            { name: "+211 SS", value: "+211" },
            { name: "+212 MA", value: "+212" },
            { name: "+213 DZ", value: "+213" },
            { name: "+216 TN", value: "+216" },
            { name: "+218 LY", value: "+218" },
            { name: "+220 GM", value: "+220" },
            { name: "+221 SN", value: "+221" },
            { name: "+222 MR", value: "+222" },
            { name: "+223 ML", value: "+223" },
            { name: "+224 GN", value: "+224" },
            { name: "+225 CI", value: "+225" },
            { name: "+226 BF", value: "+226" },
            { name: "+227 NE", value: "+227" },
            { name: "+228 TG", value: "+228" },
            { name: "+229 BJ", value: "+229" },
            { name: "+230 MU", value: "+230" },
            { name: "+231 LR", value: "+231" },
            { name: "+232 SL", value: "+232" },
            { name: "+233 GH", value: "+233" },
            { name: "+234 NG", value: "+234" },
            { name: "+235 TD", value: "+235" },
            { name: "+236 CF", value: "+236" },
            { name: "+237 CM", value: "+237" },
            { name: "+238 CV", value: "+238" },
            { name: "+239 ST", value: "+239" },
            { name: "+240 GQ", value: "+240" },
            { name: "+241 GA", value: "+241" },
            { name: "+242 CG", value: "+242" },
            { name: "+243 CD", value: "+243" },
            { name: "+244 AO", value: "+244" },
            { name: "+245 GW", value: "+245" },
            { name: "+246 IO", value: "+246" },
            { name: "+247 AC", value: "+247" },
            { name: "+248 SC", value: "+248" },
            { name: "+249 SD", value: "+249" },
            { name: "+250 RW", value: "+250" },
            { name: "+251 ET", value: "+251" },
            { name: "+252 SO", value: "+252" },
            { name: "+253 DJ", value: "+253" },
            { name: "+254 KE", value: "+254" },
            { name: "+255 TZ", value: "+255" },
            { name: "+256 UG", value: "+256" },
            { name: "+257 BI", value: "+257" },
            { name: "+258 MZ", value: "+258" },
            { name: "+260 ZM", value: "+260" },
            { name: "+261 MG", value: "+261" },
            { name: "+262 RE, YT, TF", value: "+262" },
            { name: "+263 ZW", value: "+263" },
            { name: "+264 NA", value: "+264" },
            { name: "+265 MW", value: "+265" },
            { name: "+266 LS", value: "+266" },
            { name: "+267 BW", value: "+267" },
            { name: "+268 SZ", value: "+268" },
            { name: "+269 KM", value: "+269" },
            { name: "+27 ZA", value: "+27" },
            { name: "+290 SH, TA", value: "+290" },
            { name: "+291 ER", value: "+291" },
            { name: "+297 AW", value: "+297" },
            { name: "+298 FO", value: "+298" },
            { name: "+299 GL", value: "+299" },
            { name: "+30 GR", value: "+30" },
            { name: "+31 NL", value: "+31" },
            { name: "+320 BE", value: "+32" },
            { name: "+33 FR", value: "+33" },
            { name: "+34 ES", value: "+34" },
            { name: "+350 GI", value: "+350" },
            { name: "+351 PT", value: "+351" },
            { name: "+352 LU", value: "+352" },
            { name: "+353 IE", value: "+353" },
            { name: "+354 IS", value: "+354" },
            { name: "+355 AL", value: "+355" },
            { name: "+356 MT", value: "+356" },
            { name: "+357 CY", value: "+357" },
            { name: "+358 FI, AX", value: "+358" },
            { name: "+359 BG", value: "+359" },
            { name: "+36 HU", value: "+36" },
            { name: "+370 LT", value: "+370" },
            { name: "+371 LV", value: "+371" },
            { name: "+372 EE", value: "+372" },
            { name: "+373 MD", value: "+373" },
            { name: "+374 AM, QN", value: "+374" },
            { name: "+375 BY", value: "+375" },
            { name: "+376 AD", value: "+376" },
            { name: "+377 MC", value: "+377" },
            { name: "+378 SM", value: "+378" },
            { name: "+379 VA", value: "+379" },
            { name: "+380 UA", value: "+380" },
            { name: "+381 RS", value: "+381" },
            { name: "+382 ME", value: "+382" },
            { name: "+383 XK", value: "+383" },
            { name: "+385 HR", value: "+385" },
            { name: "+386 SI", value: "+386" },
            { name: "+387 BA", value: "+387" },
            { name: "+388 EU", value: "+388" },
            { name: "+389 MK", value: "+389" },
            { name: "+39 IT, VA", value: "+39" },
            { name: "+40 RO", value: "+40" },
            { name: "+41 CH", value: "+41" },
            { name: "+420 CZ", value: "+420" },
            { name: "+421 SK", value: "+421" },
            { name: "+423 LI", value: "+423" },
            { name: "+43 AT", value: "+43" },
            { name: "+44 GB/UK, GG, IM, JE", value: "+44" },
            { name: "+45 DK", value: "+45" },
            { name: "+46 SE", value: "+46" },
            { name: "+47 NO, SJ, BV", value: "+47" },
            { name: "+48 PL", value: "+48" },
            { name: "+49 DE", value: "+49" },
            { name: "+500 FK, GS", value: "+500" },
            { name: "+501 BZ", value: "+501" },
            { name: "+502 GT", value: "+502" },
            { name: "+503 SV", value: "+503" },
            { name: "+504 HN", value: "+504" },
            { name: "+505 NI", value: "+505" },
            { name: "+506 CR", value: "+506" },
            { name: "+507 PA", value: "+507" },
            { name: "+508 PM", value: "+508" },
            { name: "+509 HT", value: "+509" },
            { name: "+51 PE", value: "+51" },
            { name: "+52 MX", value: "+52" },
            { name: "+53 CU", value: "+53" },
            { name: "+54 AR", value: "+54" },
            { name: "+55 BR", value: "+55" },
            { name: "+56 CL", value: "+56" },
            { name: "+57 CO", value: "+57" },
            { name: "+58 VE", value: "+58" },
            { name: "+590 GP, BL, MF", value: "+590" },
            { name: "+591 BO", value: "+591" },
            { name: "+592 GY", value: "+592" },
            { name: "+593 EC", value: "+593" },
            { name: "+594 GF", value: "+594" },
            { name: "+595 PY", value: "+595" },
            { name: "+596 MQ", value: "+596" },
            { name: "+597 SR", value: "+597" },
            { name: "+598 UY", value: "+598" },
            { name: "+599 BQ, CW", value: "+599" },
            { name: "+60 MY", value: "+60" },
            { name: "+61 AU, CX, CC", value: "+61" },
            { name: "+62 ID", value: "+62" },
            { name: "+63 PH", value: "+63" },
            { name: "+64 NZ, PN", value: "+64" },
            { name: "+65 SG", value: "+65" },
            { name: "+66 TH", value: "+66" },
            { name: "+670 TL", value: "+670" },
            { name: "+672 NF, AQ, HM", value: "+672" },
            { name: "+673 BN", value: "+673" },
            { name: "+674 NR", value: "+674" },
            { name: "+675 PG", value: "+675" },
            { name: "+676 TO", value: "+676" },
            { name: "+677 SB", value: "+677" },
            { name: "+678 VU", value: "+678" },
            { name: "+679 FJ", value: "+679" },
            { name: "+680 PW", value: "+680" },
            { name: "+681 WF", value: "+681" },
            { name: "+682 CK", value: "+682" },
            { name: "+683 NU", value: "+683" },
            { name: "+685 WS", value: "+685" },
            { name: "+686 KI", value: "+686" },
            { name: "+687 NC", value: "+687" },
            { name: "+688 TV", value: "+688" },
            { name: "+689 FF", value: "+689" },
            { name: "+690 TK", value: "+690" },
            { name: "+691 RM", value: "+691" },
            { name: "+692 MH", value: "+692" },
            { name: "+7 RU, KZ", value: "+700" },
            { name: "+7 3 RU", value: "+7 3" },
            { name: "+7 4 RU", value: "+7 4" },
            { name: "+7 6 KZ", value: "+7 6" },
            { name: "+7 7 RU", value: "+7 7" },
            { name: "+7 8 RU", value: "+7 8" },
            { name: "+7 9 RU", value: "+7 9" },
            { name: "+800 XT", value: "+800" },
            { name: "+808 XS", value: "+808" },
            { name: "+81 JP", value: "+81" },
            { name: "+82 KR", value: "+82" },
            { name: "+84 VN", value: "+84" },
            { name: "+850 KP", value: "+850" },
            { name: "+852 HK", value: "+852" },
            { name: "+853 MO", value: "+853" },
            { name: "+855 KH", value: "+855" },
            { name: "+856 LA", value: "+856" },
            { name: "+86 CN", value: "+86" },
            { name: "+870 XN", value: "+870" },
            { name: "+878 XP", value: "+878" },
            { name: "+880 BD", value: "+880" },
            { name: "+881 XG", value: "+881" },
            { name: "+882 XV", value: "+882" },
            { name: "+883 XV", value: "+883" },
            { name: "+886 TW", value: "+886" },
            { name: "+888 XD", value: "+888" },
            { name: "+90 TR, CT", value: "+90" },
            { name: "+91 IN", value: "+91" },
            { name: "+92 PK", value: "+92" },
            { name: "+93 AF", value: "+93" },
            { name: "+94 LK", value: "+94" },
            { name: "+95 MM", value: "+95" },
            { name: "+960 MV ", value: "+960" },
            { name: "+961 LB", value: "+961" },
            { name: "+962 JO", value: "+962" },
            { name: "+963 SY", value: "+963" },
            { name: "+964 IQ", value: "+964" },
            { name: "+965 KW", value: "+965" },
            { name: "+966 SA", value: "+966" },
            { name: "+967 YE", value: "+967" },
            { name: "+968 OM", value: "+968" },
            { name: "+970 PS", value: "+970" },
            { name: "+971 AE", value: "+971" },
            { name: "+972 IL", value: "+972" },
            { name: "+973 BH", value: "+973" },
            { name: "+974 QA", value: "+974" },
            { name: "+975 BT", value: "+975" },
            { name: "+976 MN", value: "+976" },
            { name: "+977 NP", value: "+977" },
            { name: "+979 XR", value: "+979" },
            { name: "+98 IR", value: "+98" },
            { name: "+991 XC", value: "+991" },
            { name: "+992 TJ", value: "+992" },
            { name: "+993 TM", value: "+993" },
            { name: "+994 AZ", value: "+994" },
            { name: "+995 GE", value: "+995" },
            { name: "+996 KG", value: "+996" },
            { name: "+998 UZ", value: "+998" }];
        this.loginStatus = this.loginStatus || this.route.snapshot.paramMap.get('message');
        this.slide = this.slide || parseInt(this.route.snapshot.paramMap.get('slide'), 10) || 0;
        // Validate user registration form
        this.loginForm = this.formBuilder.group({
            calling_code: ['+1'],
            phone_number: [''],
            email: [''],
            password: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(6)])],
        });
        this.exitType = this.route.snapshot.paramMap.get('exitType');
        this.slidesOpts = {
            initialSlide: this.slide ? this.slide : 0,
        };
        this.view = this.slide === 0 ? 'signin' : 'register';
        this.nameForm = this.formBuilder.group({
            first_name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(2)])],
            last_name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(2)])]
        });
        this.mobileForm = this.formBuilder.group({
            mobile_calling_code: ['+1'],
            mobile_sig_number: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
        });
        this.verifyCodeForm = this.formBuilder.group({
            verification_code: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
        });
        this.emailPassForm = this.formBuilder.group({
            email: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            password: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(6)])],
            passwordConfirmation: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(6)])]
        }, { validator: this.matchingPasswords('password', 'passwordConfirmation') });
        this.emailForm = this.formBuilder.group({
            email: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
        });
        this.passForm = this.formBuilder.group({
            password: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(6)])],
            passwordConfirmation: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].minLength(6)])]
        }, { validator: this.matchingPasswords('password', 'passwordConfirmation') });
    }
    RegisterPage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.menuCtrl.enable(false);
                if (this.platform.is('cordova')) {
                    StatusBar.hide();
                    SplashScreen.hide();
                }
                return [2 /*return*/];
            });
        });
    };
    RegisterPage.prototype.ionViewWillEnter = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.slide > 0) {
                    this.loadRegisterSlides();
                }
                this.loginForm.patchValue({
                    calling_code: '+1',
                    phone_number: '',
                    email: '',
                    password: ''
                });
                return [2 /*return*/];
            });
        });
    };
    RegisterPage.prototype.prevSlide = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.exitType === 'dashboard')) return [3 /*break*/, 1];
                        this.menuCtrl.enable(true);
                        this.location.back();
                        return [3 /*break*/, 5];
                    case 1: return [4 /*yield*/, this.slides.lockSwipes(false)];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.slides.slidePrev()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.slides.lockSwipes(true)];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.nextSlide = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.slides.lockSwipes(false)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.slides.slideNext()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.slides.lockSwipes(true)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.goToSlide = function (number) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.slides.lockSwipes(false)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.slides.slideTo(number)];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.slides.lockSwipes(true)];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.loadRegisterSlides = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.ionSpinner = true;
                this.view = 'register';
                return [2 /*return*/];
            });
        });
    };
    RegisterPage.prototype.registerSlidesLoaded = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.slides.lockSwipes(true)];
                    case 1:
                        _a.sent();
                        this.ionSpinner = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.login = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, _a, err_1;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Loading...',
                            duration: 5000
                        })];
                    case 1:
                        loading = _b.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _b.sent();
                        return [4 /*yield*/, this.storage.clear()];
                    case 3:
                        _b.sent();
                        if (this.loginMode === 'mobile') {
                            this.credentials = {
                                email: this.loginForm.get('calling_code').value + this.loginForm.get('phone_number').value,
                                password: this.loginForm.get('password').value,
                                loginDeviceType: 'mobile' // token never expires
                            };
                        }
                        else if (this.loginMode === 'email') {
                            this.credentials = {
                                email: this.loginForm.get('email').value.toLowerCase(),
                                password: this.loginForm.get('password').value,
                                loginDeviceType: 'mobile' // token never expires
                            };
                        }
                        _b.label = 4;
                    case 4:
                        _b.trys.push([4, 10, , 11]);
                        _a = this.userData;
                        return [4 /*yield*/, this.authService.login(this.credentials)];
                    case 5:
                        _a.user = _b.sent();
                        // this is for updating the user document
                        this.userData.refreshUserStatus({ type: 'user updated', user: this.userData.user });
                        this.loginStatus = '';
                        this.loginForm.reset();
                        this.userData.processLoadedUserData();
                        return [4 /*yield*/, this.userData.loadStoredCommunity()];
                    case 6:
                        _b.sent();
                        if (!this.userData.user.avatar) return [3 /*break*/, 8];
                        this.menuCtrl.enable(true);
                        if (this.modalPage) {
                            this.modalCtrl.dismiss(false);
                        }
                        // since iOS push setup is excluded in setupDevice(), we need to check iOS permission here
                        if (this.platform.is('ios') && !this.platform.is('mobileweb')) {
                            this.userData.checkPushNotification();
                        }
                        return [4 /*yield*/, this.authService.routeNewlyLoggedInUser()];
                    case 7:
                        _b.sent();
                        // refreshes app pages because ionViewWillEnter() is not called after navigateByURL()
                        setTimeout(function () {
                            _this.userData.refreshAppPages();
                        }, 4000);
                        if (this.platform.is('cordova')) {
                            StatusBar.show();
                        }
                        loading.dismiss();
                        return [3 /*break*/, 9];
                    case 8:
                        loading.dismiss();
                        this.view = 'register';
                        setTimeout(function () {
                            _this.goToSlide(2); // go to upload a Profile Pic
                        }, 500);
                        _b.label = 9;
                    case 9: return [3 /*break*/, 11];
                    case 10:
                        err_1 = _b.sent();
                        loading.dismiss();
                        console.log('Password Login Failure:', err_1);
                        this.loginStatus = err_1.error ? err_1.error.message : 'Restvo is temporarily unavailable. Please try again later.' + (this.authService.token ? ' You can close the app and relaunch it to bypass the login screen.' : '');
                        return [3 /*break*/, 11];
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.hideShowPassword = function () {
        this.passwordType = this.passwordType === 'text' ? 'password' : 'text';
        this.passwordIcon = this.passwordIcon === 'eye' ? 'eye-off' : 'eye';
    };
    RegisterPage.prototype.toggleRecoveryMode = function () {
        this.recovery_mode = !this.recovery_mode;
    };
    RegisterPage.prototype.recover = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, data, result, alert_1, err_2, result, alert_2, alert_3, alert_4, err_3, networkAlert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Loading...',
                            duration: 5000
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        if (!(this.loginMode === 'mobile')) return [3 /*break*/, 11];
                        data = {
                            mobile_phone: this.loginForm.get('calling_code').value + this.loginForm.get('phone_number').value
                        };
                        _a.label = 3;
                    case 3:
                        _a.trys.push([3, 9, , 10]);
                        return [4 /*yield*/, this.authService.registerMobile(data)];
                    case 4:
                        result = _a.sent();
                        loading.dismiss();
                        if (!result.success) return [3 /*break*/, 5];
                        this.view = 'register';
                        setTimeout(function () {
                            _this.goToSlide(4); // verify SMS
                        }, 500);
                        return [3 /*break*/, 8];
                    case 5: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Something went wrong...',
                            subHeader: result.msg,
                            buttons: [{ text: 'Dismiss' }],
                            cssClass: 'level-15'
                        })];
                    case 6:
                        alert_1 = _a.sent();
                        return [4 /*yield*/, alert_1.present()];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        err_2 = _a.sent();
                        loading.dismiss();
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 22];
                    case 11:
                        _a.trys.push([11, 19, , 22]);
                        return [4 /*yield*/, this.authService.recoverPassword({ email: this.loginForm.get('email').value.toLowerCase() })];
                    case 12:
                        result = _a.sent();
                        loading.dismiss();
                        if (!(result && result.success)) return [3 /*break*/, 14];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Password Recovery Email Sent',
                                subHeader: 'An email with a recovery link has been sent to ' + this.loginForm.get('email').value + '.',
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            var navTransition = alert_2.dismiss();
                                            navTransition.then(function () {
                                                _this.loginMode = 'email';
                                                _this.view = 'signin'; // back to log in slide
                                            });
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 13:
                        alert_2 = _a.sent();
                        alert_2.present();
                        return [3 /*break*/, 18];
                    case 14:
                        if (!(result && result.status && result.status === 'unverified email')) return [3 /*break*/, 16];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Recover using Mobile Number',
                                subHeader: result.message,
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            var navTransition = alert_3.dismiss();
                                            navTransition.then(function () {
                                                _this.loginMode = 'email';
                                                _this.view = 'signin'; // back to log in slide
                                            });
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 15:
                        alert_3 = _a.sent();
                        alert_3.present();
                        return [3 /*break*/, 18];
                    case 16:
                        if (!(result && result.status && result.status === 'no account')) return [3 /*break*/, 18];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Cannot Find Your Account',
                                subHeader: result.message,
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            var navTransition = alert_4.dismiss();
                                            navTransition.then(function () {
                                                _this.loginMode = 'email';
                                                _this.view = 'signin'; // back to log in slide
                                            });
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 17:
                        alert_4 = _a.sent();
                        alert_4.present();
                        _a.label = 18;
                    case 18: return [3 /*break*/, 22];
                    case 19:
                        err_3 = _a.sent();
                        loading.dismiss();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'No Internet Connection',
                                subHeader: 'Please check your internet connection.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 20:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 21:
                        _a.sent();
                        console.log('fail to push message');
                        return [3 /*break*/, 22];
                    case 22: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.registerMobile = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, data, result, alert_5, err_4;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.mobileForm.get('mobile_sig_number').value.length)
                            return [2 /*return*/];
                        return [4 /*yield*/, this.loadingCtrl.create({
                                message: 'Processing...'
                            })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        data = {
                            type: 'register',
                            first_name: this.nameForm.get('first_name').value,
                            last_name: this.nameForm.get('last_name').value,
                            primary_email: this.emailPassForm.get('email').value,
                            password: this.emailPassForm.get('password').value,
                            mobile_phone: this.mobileForm.get('mobile_calling_code').value + this.mobileForm.get('mobile_sig_number').value,
                        };
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 8, , 9]);
                        return [4 /*yield*/, this.authService.registerMobile(data)];
                    case 3:
                        result = _a.sent();
                        loading.dismiss();
                        if (!result.success) return [3 /*break*/, 4];
                        this.view = 'register';
                        setTimeout(function () {
                            _this.goToSlide(4); // verify SMS
                        }, 500);
                        return [3 /*break*/, 7];
                    case 4: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Something went wrong...',
                            subHeader: result.msg,
                            buttons: [{ text: 'Dismiss' }],
                            cssClass: 'level-15'
                        })];
                    case 5:
                        alert_5 = _a.sent();
                        return [4 /*yield*/, alert_5.present()];
                    case 6:
                        _a.sent();
                        _a.label = 7;
                    case 7: return [3 /*break*/, 9];
                    case 8:
                        err_4 = _a.sent();
                        loading.dismiss();
                        console.log(err_4);
                        return [3 /*break*/, 9];
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.verifyMobile = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, data, result, alert_6, err_5;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Processing...'
                        })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        data = {
                            mobile_phone: this.recovery_mode ? (this.loginForm.get('calling_code').value + this.loginForm.get('phone_number').value) : (this.mobileForm.get('mobile_calling_code').value + this.mobileForm.get('mobile_sig_number').value),
                            code: this.verifyCodeForm.get('verification_code').value,
                            loginDeviceType: 'mobile'
                        };
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 9, , 10]);
                        console.log("verify", data);
                        return [4 /*yield*/, this.authService.verifyMobile(data)];
                    case 3:
                        result = _a.sent();
                        loading.dismiss();
                        if (!result.success) return [3 /*break*/, 5];
                        this.userData.user = result.user;
                        return [4 /*yield*/, this.userData.loadStoredCommunity()];
                    case 4:
                        _a.sent();
                        // if it is not recovery process, select an email
                        this.view = 'register';
                        setTimeout(function () {
                            if (!_this.recovery_mode) {
                                _this.goToSlide(5); // input an email
                            }
                            else { // if it is a recovery process, go to create password
                                _this.goToSlide(6); // create a password
                            }
                        }, 500);
                        return [3 /*break*/, 8];
                    case 5: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Failed',
                            subHeader: result.msg,
                            buttons: [{ text: 'Retry' }, { text: 'Cancel' }],
                            cssClass: 'level-15'
                        })];
                    case 6:
                        alert_6 = _a.sent();
                        return [4 /*yield*/, alert_6.present()];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        err_5 = _a.sent();
                        loading.dismiss();
                        console.log(err_5);
                        return [3 /*break*/, 10];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.registerEmail = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, data, result, alert_7, alert_8, err_6, alert_9;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Processing...'
                        })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        data = {
                            type: 'register',
                            email: this.emailPassForm.get('email').value,
                            password: this.emailPassForm.get('passwordConfirmation').value,
                            first_name: this.nameForm.get('first_name').value,
                            last_name: this.nameForm.get('last_name').value,
                            deviceToken: this.deviceToken,
                            serializedRouteParams: null,
                            routeId: this.authService.cachedRouteParams ? this.authService.cachedRouteParams.id : null
                        };
                        if (this.router.url.includes(';')) {
                            data.serializedRouteParams = this.router.url.slice(this.router.url.indexOf(';'), this.router.url.length);
                        }
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 9, , 12]);
                        return [4 /*yield*/, this.authService.registerEmail(data)];
                    case 3:
                        result = _a.sent();
                        loading.dismiss();
                        if (!result.success) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Success',
                                subHeader: result.msg,
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            var navTransition = alert_7.dismiss();
                                            navTransition.then(function () {
                                                _this.loginMode = 'email';
                                                _this.view = 'signin'; // back to sign in slide
                                                _this.loginForm.controls.email.setValue(data.email);
                                            });
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 4:
                        alert_7 = _a.sent();
                        alert_7.present();
                        return [3 /*break*/, 8];
                    case 5: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Create Account Failed',
                            subHeader: result.msg,
                            buttons: [{ text: 'Ok',
                                    handler: function () {
                                        alert_8.dismiss();
                                    } }],
                            cssClass: 'level-15'
                        })];
                    case 6:
                        alert_8 = _a.sent();
                        return [4 /*yield*/, alert_8.present()];
                    case 7:
                        _a.sent();
                        _a.label = 8;
                    case 8: return [3 /*break*/, 12];
                    case 9:
                        err_6 = _a.sent();
                        loading.dismiss();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'There is a Problem...',
                                subHeader: 'We are not able to process your request. Please try again later',
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            alert_9.dismiss();
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 10:
                        alert_9 = _a.sent();
                        return [4 /*yield*/, alert_9.present()];
                    case 11:
                        _a.sent();
                        console.log(err_6);
                        return [3 /*break*/, 12];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.saveEmail = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data, err_7, alert_10;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 5]);
                        data = {
                            _id: this.userData.user._id,
                            email: this.emailForm.get('email').value,
                        };
                        return [4 /*yield*/, this.userData.update({ _id: this.userData.user._id, primary_email: this.emailForm.get('email').value })];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.authService.registerEmail(data)];
                    case 2:
                        _a.sent();
                        this.view = 'register';
                        setTimeout(function () {
                            _this.goToSlide(6); // pick a password
                        }, 500);
                        return [3 /*break*/, 5];
                    case 3:
                        err_7 = _a.sent();
                        console.log("result", err_7);
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Failed to save Email',
                                subHeader: 'We are not able to save your email address. Please try again.',
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            alert_10.dismiss();
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 4:
                        alert_10 = _a.sent();
                        alert_10.present();
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.changeLoginMode = function (event) {
        this.loginMode = event.detail.value;
    };
    RegisterPage.prototype.savePassword = function () {
        return __awaiter(this, void 0, void 0, function () {
            var err_8, alert_11;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 4]);
                        return [4 /*yield*/, this.userData.update({ _id: this.userData.user._id, password: this.passForm.get('passwordConfirmation').value })];
                    case 1:
                        _a.sent();
                        // if this is a recovery process, or authenticated user creating or changing password
                        if (this.recovery_mode || this.exitType === 'dashboard') {
                            this.menuCtrl.enable(true);
                            this.router.navigateByUrl('/app/me');
                            if (this.modalPage) {
                                this.modalCtrl.dismiss();
                            }
                        }
                        else { // if it is a normal registration process
                            this.view = 'register';
                            setTimeout(function () {
                                _this.goToSlide(2); // upload profile picture
                            }, 500);
                        }
                        return [3 /*break*/, 4];
                    case 2:
                        err_8 = _a.sent();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Failed to save password',
                                subHeader: 'We are not able to save your password. Please try again.',
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            alert_11.dismiss();
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 3:
                        alert_11 = _a.sent();
                        alert_11.present();
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.importContacts = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, err_9, alert_12;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Processing...'
                        })];
                    case 1:
                        loading = _a.sent();
                        loading.present();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 4, , 6]);
                        this.userData.user.importContactList = true;
                        return [4 /*yield*/, this.userData.update({ importContactList: true })];
                    case 3:
                        _a.sent();
                        this.userData.uploadContactList(0);
                        setTimeout(function () {
                            loading.dismiss();
                            _this.finish();
                        }, 8000);
                        return [3 /*break*/, 6];
                    case 4:
                        err_9 = _a.sent();
                        loading.dismiss();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Something went wrong...',
                                message: 'You can enable the Import Contacts feature later under Settings.',
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            alert_12.dismiss();
                                            _this.finish();
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 5:
                        alert_12 = _a.sent();
                        alert_12.present();
                        this.userData.user.importContactList = false;
                        this.userData.update({ importContactList: false });
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.selectPhotoFromDeviceAndUpload = function (event, useCapacitor) {
        return __awaiter(this, void 0, void 0, function () {
            var result, Camera, image, err_10;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 12, , 13]);
                        result = void 0;
                        if (!useCapacitor) return [3 /*break*/, 4];
                        Camera = _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["Plugins"].Camera;
                        return [4 /*yield*/, Camera.getPhoto({
                                quality: 60,
                                width: 1280,
                                allowEditing: false,
                                resultType: _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["CameraResultType"].DataUrl,
                                source: _capacitor_core__WEBPACK_IMPORTED_MODULE_9__["CameraSource"].Prompt,
                                correctOrientation: false
                            })];
                    case 1:
                        image = _a.sent();
                        if (!image) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.awsService.uploadImage('users', this.userData.user._id, image, this.userData.user._id)];
                    case 2:
                        result = _a.sent();
                        _a.label = 3;
                    case 3: return [3 /*break*/, 7];
                    case 4: return [4 /*yield*/, this.awsService.compressPhoto(event.target.files[0])];
                    case 5:
                        result = _a.sent();
                        return [4 /*yield*/, this.awsService.uploadFile('users', this.userData.user._id, result, this.userData.user._id)];
                    case 6:
                        _a.sent();
                        _a.label = 7;
                    case 7:
                        if (!result) return [3 /*break*/, 11];
                        if (!this.userData.user.avatar) return [3 /*break*/, 9];
                        return [4 /*yield*/, this.awsService.removeFile(this.userData.user.avatar)];
                    case 8:
                        _a.sent(); //remove the previous background from Digital Ocean
                        _a.label = 9;
                    case 9:
                        this.userData.user.avatar = this.awsService.url;
                        return [4 /*yield*/, this.userData.update({ _id: this.userData.user._id, avatar: this.awsService.url })];
                    case 10:
                        _a.sent();
                        _a.label = 11;
                    case 11: return [3 /*break*/, 13];
                    case 12:
                        err_10 = _a.sent();
                        console.log(err_10);
                        return [3 /*break*/, 13];
                    case 13: return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.checkImportContacts = function () {
        // on browser and Desktop app, skip import contact
        if (!this.platform.is('cordova')) {
            this.finish();
        }
        else {
            // on native mobile phone, check import contact status
            if (this.userData && this.userData.user && this.userData.user.importContacts) {
                this.finish();
            }
            else {
                this.nextSlide();
            }
        }
    };
    RegisterPage.prototype.finish = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.menuCtrl.enable(true);
                        if (this.modalPage) {
                            this.modalCtrl.dismiss(false);
                        }
                        return [4 /*yield*/, this.authService.routeNewlyLoggedInUser()];
                    case 1:
                        _a.sent();
                        // refreshes app pages because ionViewWillEnter() is not called after navigateByURL()
                        setTimeout(function () {
                            _this.userData.refreshAppPages();
                        }, 4000);
                        return [2 /*return*/];
                }
            });
        });
    };
    RegisterPage.prototype.matchingEmails = function (emailKey, confirmEmailKey) {
        return function (group) {
            var email = group.controls[emailKey];
            var confirmEmail = group.controls[confirmEmailKey];
            if (email.value !== confirmEmail.value) {
                return {
                    mismatchedEmails: true
                };
            }
        };
    };
    RegisterPage.prototype.matchingPasswords = function (passwordKey, confirmPasswordKey) {
        return function (group) {
            var password = group.controls[passwordKey];
            var confirmPassword = group.controls[confirmPasswordKey];
            if (password.value !== confirmPassword.value) {
                return {
                    mismatchedPasswords: true
                };
            }
        };
    };
    RegisterPage.prototype.close = function () {
        if (this.modalPage) {
            this.modalCtrl.dismiss(false);
        }
        else {
            this.location.back();
        }
    };
    RegisterPage.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["LoadingController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"] },
        { type: _services_moment_service__WEBPACK_IMPORTED_MODULE_10__["Moment"] },
        { type: _services_chat_service__WEBPACK_IMPORTED_MODULE_8__["Chat"] },
        { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"] },
        { type: _services_aws_service__WEBPACK_IMPORTED_MODULE_6__["Aws"] },
        { type: _services_user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('welcomeSlides', { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonSlides"])
    ], RegisterPage.prototype, "welcome_slides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonSlides"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonSlides"])
    ], RegisterPage.prototype, "slides", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], RegisterPage.prototype, "modalPage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], RegisterPage.prototype, "slide", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], RegisterPage.prototype, "loginStatus", void 0);
    RegisterPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-register',
            template: __importDefault(__webpack_require__(/*! raw-loader!./register.page.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/user/register/register.page.html")).default,
            encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None,
            styles: [__importDefault(__webpack_require__(/*! ./register.page.scss */ "./src/app/pages/user/register/register.page.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_11__["Location"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"],
            _services_moment_service__WEBPACK_IMPORTED_MODULE_10__["Moment"],
            _services_chat_service__WEBPACK_IMPORTED_MODULE_8__["Chat"],
            _services_auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"],
            _services_aws_service__WEBPACK_IMPORTED_MODULE_6__["Aws"],
            _services_user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"]])
    ], RegisterPage);
    return RegisterPage;
}());



/***/ }),

/***/ "./src/app/pipes/application-pipes.ts":
/*!********************************************!*\
  !*** ./src/app/pipes/application-pipes.ts ***!
  \********************************************/
/*! exports provided: ApplicationPipesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApplicationPipesModule", function() { return ApplicationPipesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _nl2br_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nl2br.pipe */ "./src/app/pipes/nl2br.pipe.ts");
/* harmony import */ var _background_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./background.pipe */ "./src/app/pipes/background.pipe.ts");
/* harmony import */ var _datetime_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./datetime.pipe */ "./src/app/pipes/datetime.pipe.ts");
/* harmony import */ var _calendar_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./calendar.pipe */ "./src/app/pipes/calendar.pipe.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var ApplicationPipesModule = /** @class */ (function () {
    function ApplicationPipesModule() {
    }
    ApplicationPipesModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
            // dep modules
            ],
            declarations: [
                _nl2br_pipe__WEBPACK_IMPORTED_MODULE_1__["Nl2brPipe"],
                _background_pipe__WEBPACK_IMPORTED_MODULE_2__["BackgroundPipe"],
                _datetime_pipe__WEBPACK_IMPORTED_MODULE_3__["DatetimePipe"],
                _calendar_pipe__WEBPACK_IMPORTED_MODULE_4__["CalendarPipe"]
            ],
            exports: [
                _nl2br_pipe__WEBPACK_IMPORTED_MODULE_1__["Nl2brPipe"],
                _background_pipe__WEBPACK_IMPORTED_MODULE_2__["BackgroundPipe"],
                _datetime_pipe__WEBPACK_IMPORTED_MODULE_3__["DatetimePipe"],
                _calendar_pipe__WEBPACK_IMPORTED_MODULE_4__["CalendarPipe"]
            ]
        })
    ], ApplicationPipesModule);
    return ApplicationPipesModule;
}());



/***/ }),

/***/ "./src/app/pipes/background.pipe.ts":
/*!******************************************!*\
  !*** ./src/app/pipes/background.pipe.ts ***!
  \******************************************/
/*! exports provided: BackgroundPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackgroundPipe", function() { return BackgroundPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var BackgroundPipe = /** @class */ (function () {
    function BackgroundPipe() {
    }
    BackgroundPipe.prototype.transform = function (background, data, type) {
        if (!type) {
            if (background && background.length) {
                return background;
            }
            else {
                var sum_of_id = 0;
                data = data || "default";
                for (var i = 0; i < data.length; i++) {
                    sum_of_id += data.charAt(i).charCodeAt(0); //sum up all the characters in the _id string
                }
                var last_digit = sum_of_id.toString().charAt(sum_of_id.toString().length - 1); //grab the last digit of the sum total
                return 'assets/img/onboarding-' + Math.floor(parseInt(last_digit, 10) / 2).toString() + '.jpg'; //file index number has to be between 0 - 4
            }
        }
        else if (type === 'color') { // data = { section: String, scheduleIds: [], goal: [] }
            var color = void 0;
            var color_arrays = [
                { name: 'Purple', color: 'purple' },
                { name: 'Green', color: '#28e070' },
                { name: 'Orange', color: '#f6c653' },
                { name: 'Red', color: '#f25454' },
                { name: 'Pink', color: 'pink' },
                { name: 'Light Red', color: 'lightred' },
                { name: 'Yellow', color: 'darkyellow' },
                { name: 'Light Blue', color: 'lightblue' },
                { name: 'Dark Grey', color: 'darkgrey' },
                { name: 'Dark Green', color: 'darkgreen' },
            ]; // 10 default colors
            color = color_arrays[1].color;
            if (data.goal && data.goal[4] && data.goal[4].length) { // if it has set a master goal attribute
                var masterGoal = data.listOfDisplayGoals.find(function (c) { return c[1] === 'master goal' && c[0] === data.goal[4]; });
                if (masterGoal) {
                    color = masterGoal[3];
                }
            }
            else if (data.goal[3] && data.goal[3].length) {
                color = data.goal[3];
            }
            else if (background && background.length) {
                color = background;
            }
            else if (data.goal[0] && data.goal[0].length) {
                var sum_of_id = 0;
                var id = data.goal[0];
                for (var i = 0; i < id.length; i++) {
                    sum_of_id += parseInt(id.charAt(i), 10); //.charAt(i).charCodeAt(0) sum up all the characters in the _id string
                }
                var last_digit = id.toString().charAt(id.toString().length - 1); //grab the last digit of the sum total
                color = color_arrays[last_digit].color; //file index number has to be between 0 - 4
            }
            return color;
        }
    };
    BackgroundPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'background',
            pure: false
        })
    ], BackgroundPipe);
    return BackgroundPipe;
}());



/***/ }),

/***/ "./src/app/pipes/calendar.pipe.ts":
/*!****************************************!*\
  !*** ./src/app/pipes/calendar.pipe.ts ***!
  \****************************************/
/*! exports provided: CalendarPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalendarPipe", function() { return CalendarPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};

var CalendarPipe = /** @class */ (function () {
    function CalendarPipe() {
    }
    CalendarPipe.prototype.transform = function (calendarItems, type, data) {
        var e_1, _a, e_2, _b, e_3, _c, e_4, _d, e_5, _e, e_6, _f, e_7, _g, e_8, _h, e_9, _j;
        if (type === 'overallcompleted') { // data = { scheduleIds: [] }
            var total_count = 0;
            var completed_count = 0;
            try {
                for (var calendarItems_1 = __values(calendarItems), calendarItems_1_1 = calendarItems_1.next(); !calendarItems_1_1.done; calendarItems_1_1 = calendarItems_1.next()) {
                    var calendarItem = calendarItems_1_1.value;
                    if (data.scheduleIds.includes(calendarItem.schedule)) {
                        total_count++;
                        if (calendarItem.completed) {
                            completed_count++;
                        }
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (calendarItems_1_1 && !calendarItems_1_1.done && (_a = calendarItems_1.return)) _a.call(calendarItems_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return (completed_count / total_count) ? Math.floor((completed_count / total_count) * 100) : 0;
        }
        else if (type === 'overalldue') { // data = { scheduleIds: []}
            var total_count = 0;
            var due_count = 0;
            try {
                for (var calendarItems_2 = __values(calendarItems), calendarItems_2_1 = calendarItems_2.next(); !calendarItems_2_1.done; calendarItems_2_1 = calendarItems_2.next()) {
                    var calendarItem = calendarItems_2_1.value;
                    if (data.scheduleIds.includes(calendarItem.schedule)) {
                        total_count++;
                        if (new Date(calendarItem.startDate).getTime() < new Date().getTime()) {
                            due_count++;
                        }
                    }
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (calendarItems_2_1 && !calendarItems_2_1.done && (_b = calendarItems_2.return)) _b.call(calendarItems_2);
                }
                finally { if (e_2) throw e_2.error; }
            }
            return due_count / total_count;
        }
        else if (type === 'goalcompleted') { // data = { scheduleIds: [], goal: [] }
            var total_count = 0;
            var completed_count = 0;
            try {
                for (var calendarItems_3 = __values(calendarItems), calendarItems_3_1 = calendarItems_3.next(); !calendarItems_3_1.done; calendarItems_3_1 = calendarItems_3.next()) {
                    var calendarItem = calendarItems_3_1.value;
                    if (data.scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(data.goal[0]))) {
                        total_count++;
                        if (calendarItem.completed) {
                            completed_count++;
                        }
                    }
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (calendarItems_3_1 && !calendarItems_3_1.done && (_c = calendarItems_3.return)) _c.call(calendarItems_3);
                }
                finally { if (e_3) throw e_3.error; }
            }
            return completed_count / total_count;
        }
        else if (type === 'goaldue') { // data = { scheduleIds: [], goal: [] }
            var total_count = 0;
            var due_count = 0;
            try {
                for (var calendarItems_4 = __values(calendarItems), calendarItems_4_1 = calendarItems_4.next(); !calendarItems_4_1.done; calendarItems_4_1 = calendarItems_4.next()) {
                    var calendarItem = calendarItems_4_1.value;
                    if (data.scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(data.goal[0]))) {
                        total_count++;
                        if (new Date(calendarItem.startDate).getTime() < new Date().getTime()) {
                            due_count++;
                        }
                    }
                }
            }
            catch (e_4_1) { e_4 = { error: e_4_1 }; }
            finally {
                try {
                    if (calendarItems_4_1 && !calendarItems_4_1.done && (_d = calendarItems_4.return)) _d.call(calendarItems_4);
                }
                finally { if (e_4) throw e_4.error; }
            }
            return due_count / total_count;
        }
        else if (type === 'favoritegoalcompleted') { // data = { scheduleIds: [], goal: [] }
            var total_count = 0;
            var completed_count = 0;
            try {
                for (var _k = __values(data.listOfDisplayGoals), _l = _k.next(); !_l.done; _l = _k.next()) {
                    var displayGoal = _l.value;
                    if (displayGoal[1] === 'goal' && displayGoal[4] === data.goal[0]) { // if a regular goal has set to be assigned to this master goal
                        try {
                            for (var calendarItems_5 = __values(calendarItems), calendarItems_5_1 = calendarItems_5.next(); !calendarItems_5_1.done; calendarItems_5_1 = calendarItems_5.next()) {
                                var calendarItem = calendarItems_5_1.value;
                                if (data.scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(displayGoal[0]))) {
                                    total_count++;
                                    if (calendarItem.completed) {
                                        completed_count++;
                                    }
                                }
                            }
                        }
                        catch (e_6_1) { e_6 = { error: e_6_1 }; }
                        finally {
                            try {
                                if (calendarItems_5_1 && !calendarItems_5_1.done && (_f = calendarItems_5.return)) _f.call(calendarItems_5);
                            }
                            finally { if (e_6) throw e_6.error; }
                        }
                    }
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (_l && !_l.done && (_e = _k.return)) _e.call(_k);
                }
                finally { if (e_5) throw e_5.error; }
            }
            return completed_count / total_count;
        }
        else if (type === 'favoritegoaldue') { // data = { scheduleIds: [], goal: [] }
            var total_count = 0;
            var due_count = 0;
            try {
                for (var _m = __values(data.listOfDisplayGoals), _o = _m.next(); !_o.done; _o = _m.next()) {
                    var displayGoal = _o.value;
                    if (displayGoal[1] === 'goal' && displayGoal[4] === data.goal[0]) { // if a regular goal has set to be assigned to this master goal
                        try {
                            for (var calendarItems_6 = __values(calendarItems), calendarItems_6_1 = calendarItems_6.next(); !calendarItems_6_1.done; calendarItems_6_1 = calendarItems_6.next()) {
                                var calendarItem = calendarItems_6_1.value;
                                if (data.scheduleIds.includes(calendarItem.schedule) && (calendarItem.goals && calendarItem.goals.includes(displayGoal[0]))) {
                                    total_count++;
                                    if (new Date(calendarItem.startDate).getTime() < new Date().getTime()) {
                                        due_count++;
                                    }
                                }
                            }
                        }
                        catch (e_8_1) { e_8 = { error: e_8_1 }; }
                        finally {
                            try {
                                if (calendarItems_6_1 && !calendarItems_6_1.done && (_h = calendarItems_6.return)) _h.call(calendarItems_6);
                            }
                            finally { if (e_8) throw e_8.error; }
                        }
                    }
                }
            }
            catch (e_7_1) { e_7 = { error: e_7_1 }; }
            finally {
                try {
                    if (_o && !_o.done && (_g = _m.return)) _g.call(_m);
                }
                finally { if (e_7) throw e_7.error; }
            }
            return due_count / total_count;
        }
        else if (type === 'checkfavoritegoaltag') { // if the tag is a valid master goal, return true
            return data.listOfDisplayGoals.find(function (favoriteGoal) { return (favoriteGoal[1] === 'master goal' && favoriteGoal[0] === data.goal[4]); });
        }
        else if (type === 'goalsectionstats') { // data = { section: String, scheduleIds: [], goal: [] }
            var task_count = 0;
            try {
                for (var calendarItems_7 = __values(calendarItems), calendarItems_7_1 = calendarItems_7.next(); !calendarItems_7_1.done; calendarItems_7_1 = calendarItems_7.next()) {
                    var calendarItem = calendarItems_7_1.value;
                    if (((calendarItem.status === data.section && !calendarItem.completed) || (!data.showUpcoming && data.section === 'Current' && calendarItem.status === 'Upcoming' && !calendarItem.completed) || (data.section === 'Current' && calendarItem.status === 'Past' && !calendarItem.completed) || (data.section === 'Completed' && calendarItem.completed)) && data.scheduleIds.includes(calendarItem.schedule) && (!data.goal.length || calendarItem.goals && (calendarItem.goals.includes(data.goal[0])))) {
                        task_count++;
                    }
                }
            }
            catch (e_9_1) { e_9 = { error: e_9_1 }; }
            finally {
                try {
                    if (calendarItems_7_1 && !calendarItems_7_1.done && (_j = calendarItems_7.return)) _j.call(calendarItems_7);
                }
                finally { if (e_9) throw e_9.error; }
            }
            return task_count;
        }
    };
    CalendarPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'calendar',
            pure: false
        })
    ], CalendarPipe);
    return CalendarPipe;
}());



/***/ }),

/***/ "./src/app/pipes/datetime.pipe.ts":
/*!****************************************!*\
  !*** ./src/app/pipes/datetime.pipe.ts ***!
  \****************************************/
/*! exports provided: DatetimePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatetimePipe", function() { return DatetimePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var DatetimePipe = /** @class */ (function () {
    function DatetimePipe() {
    }
    DatetimePipe.prototype.transform = function (dateTime, format) {
        if (format === 'h:n,m:n,w:s,m:n,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                hour: 'numeric',
                minute: 'numeric',
                weekday: 'short',
                month: 'numeric',
                day: 'numeric'
            });
        }
        else if (format === 'w:s,m:s,d:n,h:n,m:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                weekday: 'short',
                month: 'short',
                day: 'numeric',
                hour: 'numeric',
                minute: 'numeric'
            });
        }
        else if (format === 'm:l,d:n,y:n') {
            return new Date(dateTime).toLocaleDateString('en-US', {
                month: 'long',
                day: 'numeric',
                year: 'numeric'
            });
        }
        else if (format === 'w:l,m:s,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                weekday: 'long',
                month: 'short',
                day: 'numeric'
            });
        }
        else if (format === 'h:n,m:n,w:s') {
            return new Date(dateTime).toLocaleString('en-US', {
                hour: 'numeric',
                minute: 'numeric',
                weekday: 'short'
            });
        }
        else if (format === 'w:l,m:l,y:n,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                weekday: 'long',
                month: 'long',
                year: 'numeric',
                day: 'numeric'
            });
        }
        else if (format === 'w:l,m:s,y:n,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                weekday: 'long',
                month: 'short',
                year: 'numeric',
                day: 'numeric'
            });
        }
        else if (format === 'm:s,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                month: 'short',
                day: 'numeric',
            });
        }
        else if (format === 'm:l,y:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                month: 'long',
                year: 'numeric'
            });
        }
        else if (format === 'm:s,d:n,y:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            });
        }
        else if (format === 'm:n,d:n,y:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                month: 'numeric',
                day: 'numeric',
                year: 'numeric'
            });
        }
        else if (format === 'm:s,d:n') {
            return new Date(dateTime).toLocaleString('en-US', {
                month: 'short',
                day: 'numeric',
            });
        }
        else {
            return new Date(dateTime).toLocaleString('en-US', {
                hour: 'numeric',
                minute: 'numeric',
                weekday: 'short',
                month: 'numeric',
                day: 'numeric'
            });
        }
    };
    DatetimePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'datetime'
        })
    ], DatetimePipe);
    return DatetimePipe;
}());



/***/ }),

/***/ "./src/app/pipes/nl2br.pipe.ts":
/*!*************************************!*\
  !*** ./src/app/pipes/nl2br.pipe.ts ***!
  \*************************************/
/*! exports provided: Nl2brPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Nl2brPipe", function() { return Nl2brPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var Nl2brPipe = /** @class */ (function () {
    function Nl2brPipe() {
    }
    Nl2brPipe.prototype.transform = function (value, args) {
        return value ? value.replace(/(?:\r\n|\r|\n)/g, '<br />') : '';
    };
    Nl2brPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'nl2br'
        })
    ], Nl2brPipe);
    return Nl2brPipe;
}());



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: Auth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Auth", function() { return Auth; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var capacitor_share_extension__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! capacitor-share-extension */ "./node_modules/capacitor-share-extension/dist/esm/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};












var Auth = /** @class */ (function () {
    function Auth(http, platform, router, storage, loadingCtrl, networkService) {
        this.http = http;
        this.platform = platform;
        this.router = router;
        this.storage = storage;
        this.loadingCtrl = loadingCtrl;
        this.networkService = networkService;
        this.httpOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json' })
        };
        this.httpAuthOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]
        };
        this._openOnboarding = new rxjs__WEBPACK_IMPORTED_MODULE_11__["BehaviorSubject"](null);
        this.openOnboarding$ = this._openOnboarding.asObservable();
        this._chatSocketMessage = new rxjs__WEBPACK_IMPORTED_MODULE_11__["BehaviorSubject"](null);
        this.chatSocketMessage$ = this._chatSocketMessage.asObservable();
        this._refreshGroupStatus = new rxjs__WEBPACK_IMPORTED_MODULE_11__["BehaviorSubject"](null);
        this.refreshGroupStatus$ = this._refreshGroupStatus.asObservable();
    }
    Auth.prototype.openOnboarding = function (data) {
        this._openOnboarding.next(data);
    };
    Auth.prototype.chatSocketMessage = function (data) {
        this._chatSocketMessage.next(data);
    };
    Auth.prototype.refreshGroupStatus = function (res) {
        this._refreshGroupStatus.next(res);
    };
    // checks user authentication and routes user if they should not be on the page
    Auth.prototype.checkAuthenticationWithToken = function (token) {
        return __awaiter(this, void 0, void 0, function () {
            var StatusBar, SplashScreen, _a, _b, res, err_1, err_2;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        this.cachedRouteUrl = this.router.url.split(';')[0]; // save the URL for after register
                        _c.label = 1;
                    case 1:
                        _c.trys.push([1, 13, , 14]);
                        if (this.platform.is('cordova')) { // speed up app loading when the network is slow
                            StatusBar = _capacitor_core__WEBPACK_IMPORTED_MODULE_4__["Plugins"].StatusBar, SplashScreen = _capacitor_core__WEBPACK_IMPORTED_MODULE_4__["Plugins"].SplashScreen;
                            StatusBar.show();
                            SplashScreen.hide();
                        }
                        // Load token if exists
                        _a = this;
                        _b = token;
                        if (_b) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.storage.get('token')];
                    case 2:
                        _b = (_c.sent());
                        _c.label = 3;
                    case 3:
                        // Load token if exists
                        _a.token = _b;
                        if (!(this.token && this.token.length)) return [3 /*break*/, 11];
                        this.httpAuthOptions = {
                            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json', 'Authorization': this.token })
                        };
                        return [4 /*yield*/, this.networkService.hasNetwork()];
                    case 4:
                        if (!_c.sent()) return [3 /*break*/, 9];
                        _c.label = 5;
                    case 5:
                        _c.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, this.checkAuthenticationHTTP()];
                    case 6:
                        res = _c.sent();
                        if (res && res.user) {
                            this.user = res.user;
                        }
                        if (token) { // if token is provided via HTTP params, check and finish the incomplete onboarding processes
                            this.routeNewlyLoggedInUser();
                        }
                        else { // if log in with token from storage, more quickly route authenticated user
                            this.routeAuthenticatedUser();
                        }
                        this.storage.set('token', this.token);
                        return [2 /*return*/, res];
                    case 7:
                        err_1 = _c.sent();
                        this.storage.clear(); // to remove residual user data in storage if app crashed and didn't clear it
                        this.routeUnauthenticatedUser('1', 'Your session is expired. Please log in again.');
                        return [2 /*return*/, { content: 'Unauthenticated', message: err_1.error.message || 'Your session is expired. Please log in again.' }];
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        this.networkService.showNoNetworkAlert();
                        this.routeAuthenticatedUser();
                        console.log('Found existing login token. Offline mode allowed.');
                        return [2 /*return*/, { content: 'Offline mode' }];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        this.storage.clear(); // to remove residual user data in storage if app crashed and didn't clear it
                        this.routeUnauthenticatedUser('1', '');
                        return [2 /*return*/, { content: 'No token found' }];
                    case 12: return [3 /*break*/, 14];
                    case 13:
                        err_2 = _c.sent();
                        this.routeUnauthenticatedUser('0', 'Authentication failed. Please check your network connection and try again. Once you are connected to the internet, you can restart the app to bypass the login screen.');
                        console.log('error when loading token from storage');
                        return [3 /*break*/, 14];
                    case 14: return [2 /*return*/];
                }
            });
        });
    };
    // routes Unauthenticated user to the correct URL
    // authorized pages are routed register to public pages
    Auth.prototype.routeUnauthenticatedUser = function (slide, errMessage) {
        return __awaiter(this, void 0, void 0, function () {
            var activityIdStartIndex, activityAfterIdEndIndex, activityURL, activityIdStartIndex, activityAfterIdEndIndex, activityURL, loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("Routing unauthenticated user.");
                        if (!this.router.url.includes('activity')) return [3 /*break*/, 1];
                        activityIdStartIndex = this.router.url.search('activity') + 9;
                        activityAfterIdEndIndex = this.router.url.includes(';') ? this.router.url.search(';') : this.router.url.length;
                        activityURL = '/activity/' + this.router.url.substring(activityIdStartIndex, activityAfterIdEndIndex);
                        if (this.cachedRouteParams) {
                            this.router.navigate([activityURL, this.cachedRouteParams], { queryParamsHandling: 'preserve' });
                        }
                        else {
                            this.router.navigate([activityURL], { queryParamsHandling: 'preserve' });
                        }
                        return [3 /*break*/, 7];
                    case 1:
                        if (!this.router.url.includes('app/video')) return [3 /*break*/, 2];
                        activityIdStartIndex = this.router.url.search('video') + 6;
                        activityAfterIdEndIndex = this.router.url.includes(';') ? this.router.url.search(';') : this.router.url.length;
                        activityURL = '/video/' + this.router.url.substring(activityIdStartIndex, activityAfterIdEndIndex);
                        if (this.cachedRouteParams) {
                            this.router.navigate([activityURL, this.cachedRouteParams], { queryParamsHandling: 'preserve' });
                        }
                        else {
                            this.router.navigate([activityURL], { queryParamsHandling: 'preserve' });
                        }
                        if (this.platform.is('desktop')) {
                            setTimeout(function () {
                                window.location.reload();
                            }, 1000);
                        }
                        return [3 /*break*/, 7];
                    case 2: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Loading...',
                            duration: 3000
                        })];
                    case 3:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.router.navigate(['/activity/5d5785b462489003817fee18'], { replaceUrl: true })];
                    case 5:
                        _a.sent();
                        return [4 /*yield*/, loading.dismiss()];
                    case 6:
                        _a.sent();
                        _a.label = 7;
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    // routes the user after log in, create account, or email verification link
    Auth.prototype.routeNewlyLoggedInUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log('Routing newly logged in user', this.cachedRouteUrl, this.cachedRouteParams);
                        if (!(!this.cachedRouteUrl || typeof this.cachedRouteUrl === 'undefined')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.router.navigateByUrl('/app/discover')];
                    case 1:
                        _a.sent();
                        this.checkIncompleteOnboarding(true);
                        return [3 /*break*/, 5];
                    case 2:
                        if (!this.cachedRouteUrl.includes('activity')) return [3 /*break*/, 3];
                        this.routeAuthenticatedUser();
                        return [3 /*break*/, 5];
                    case 3: return [4 /*yield*/, this.router.navigate([this.cachedRouteUrl, this.cachedRouteParams], { queryParamsHandling: 'preserve' })];
                    case 4:
                        _a.sent();
                        this.checkIncompleteOnboarding(true);
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    // routes authorized user to correct URL
    // public pages are routed to the authorized page
    Auth.prototype.routeAuthenticatedUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var activityURL, activityIdStartIndex, activityAfterIdEndIndex, defaultProgram, UIAdminMode;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("Routing authenticated user...");
                        activityURL = '';
                        if (!(this.router.url.includes('activity') && !this.router.url.includes('manage'))) return [3 /*break*/, 1];
                        activityIdStartIndex = this.router.url.search('activity') + 9;
                        activityAfterIdEndIndex = this.router.url.includes(';') ? this.router.url.search(';') : this.router.url.length;
                        if (this.cachedRouteParams && this.cachedRouteParams.id) {
                            activityURL = '/app/activity/' + this.router.url.substring(activityIdStartIndex, activityAfterIdEndIndex);
                        }
                        else {
                            activityURL = '/app/discover/home/' + this.router.url.substring(activityIdStartIndex, activityAfterIdEndIndex);
                        }
                        if (this.cachedRouteParams) {
                            this.router.navigate([activityURL, this.cachedRouteParams], { queryParamsHandling: 'preserve' });
                        }
                        else {
                            this.router.navigate([activityURL]);
                        }
                        return [3 /*break*/, 4];
                    case 1:
                        if (!(this.router.url.includes('discover/home') || this.router.url.includes('dashboard'))) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.storage.get('defaultProgram')];
                    case 2:
                        defaultProgram = _a.sent();
                        if (defaultProgram) {
                            activityURL = '/app/discover/home/' + defaultProgram._id;
                        }
                        return [4 /*yield*/, this.storage.get('UIAdminMode')];
                    case 3:
                        UIAdminMode = _a.sent();
                        if (UIAdminMode && this.user && defaultProgram && (defaultProgram.user_list_2.includes(this.user._id) || defaultProgram.user_list_3.includes(this.user._id))) {
                            activityURL = '/app/dashboard/insight/' + defaultProgram._id;
                        }
                        this.router.navigate([activityURL]);
                        _a.label = 4;
                    case 4:
                        this.checkIncompleteOnboarding(false);
                        return [2 /*return*/];
                }
            });
        });
    };
    Auth.prototype.checkIncompleteOnboarding = function (openOnboarding) {
        return __awaiter(this, void 0, void 0, function () {
            var onboardProcesses, programId, type, token_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.cachedRouteUrl && this.cachedRouteUrl.includes('activity') && this.cachedRouteParams && this.cachedRouteParams.id) {
                            programId = this.cachedRouteParams.id;
                        }
                        type = (this.cachedRouteParams && this.cachedRouteParams.type) ? parseInt(this.cachedRouteParams.type, 10) : null;
                        if (!programId) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/moment/preferences?pageNum=1&programId=' + programId + '&type=' + type, this.httpAuthOptions).toPromise()];
                    case 1:
                        onboardProcesses = _a.sent();
                        this.incompleteOnboardProcess = onboardProcesses.find(function (m) { return !m.response || (m.response.matrix_number.filter(function (c) { return c.length > 5; }).length < m.resource.matrix_number[0].filter(function (c) { return c === 40000 || c === 40020; }).length) || (m.response.matrix_string.filter(function (c) { return (c.length > 1) && (c[1].length > 0); }).length < m.resource.matrix_number[0].filter(function (c) { return (c === 40010); }).length); });
                        _a.label = 2;
                    case 2:
                        if (!(!programId || !this.incompleteOnboardProcess)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/moment/preferences?pageNum=1', this.httpAuthOptions).toPromise()];
                    case 3:
                        onboardProcesses = _a.sent();
                        this.incompleteOnboardProcess = onboardProcesses.find(function (m) { return !m.response || (m.response.matrix_number.filter(function (c) { return c.length > 5; }).length < m.resource.matrix_number[0].filter(function (c) { return c === 40000 || c === 40020; }).length) || (m.response.matrix_string.filter(function (c) { return (c.length > 1) && (c[1].length > 0); }).length < m.resource.matrix_number[0].filter(function (c) { return (c === 40010); }).length); });
                        _a.label = 4;
                    case 4:
                        if (this.incompleteOnboardProcess && openOnboarding) { // if there is any incomplete onboarding process
                            token_1 = (this.cachedRouteParams && this.cachedRouteParams.token) ? this.cachedRouteParams.token : null;
                            setTimeout(function () {
                                _this.openOnboarding({ programId: programId, type: type, token: token_1, modalPage: true });
                            }, 1000);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    Auth.prototype.checkAuthenticationHTTP = function () {
        return this.http.get(this.networkService.domain + '/api/auth/protected', this.httpAuthOptions).toPromise();
    };
    Auth.prototype.registerMobile = function (data) {
        var url = this.networkService.domain + '/api/auth/registermobile';
        return this.http.put(url, JSON.stringify(data), this.httpOptions).toPromise();
    };
    Auth.prototype.verifyEmail = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var result, headers;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.verifyEmailHTTP(data)];
                    case 1:
                        result = _a.sent();
                        if (result && result.success) {
                            this.token = result.token;
                            this.storage.set('token', result.token);
                            headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json', 'Authorization': result.token });
                            this.httpAuthOptions = { headers: headers };
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Auth.prototype.verifyEmailHTTP = function (data) {
        return this.http.put(this.networkService.domain + '/api/auth/verifyemail', JSON.stringify(data), this.httpOptions).toPromise();
    };
    Auth.prototype.verifyMobile = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var result, headers;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.verifyMobileHTTP(data)];
                    case 1:
                        result = _a.sent();
                        if (result && result.success) {
                            this.token = result.token;
                            this.storage.set('token', result.token);
                            headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json', 'Authorization': result.token });
                            this.httpAuthOptions = { headers: headers };
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Auth.prototype.verifyMobileHTTP = function (data) {
        return this.http.put(this.networkService.domain + '/api/auth/verifymobile', JSON.stringify(data), this.httpOptions).toPromise();
    };
    Auth.prototype.registerEmail = function (data) {
        return this.http.post(this.networkService.domain + '/api/auth/register', JSON.stringify(data), this.httpOptions).toPromise();
    };
    Auth.prototype.login = function (credentials) {
        return __awaiter(this, void 0, void 0, function () {
            var res, headers;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loginHTTP(credentials)];
                    case 1:
                        res = _a.sent();
                        this.token = res.token;
                        this.storage.set('token', res.token);
                        headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json', 'Authorization': res.token });
                        this.httpAuthOptions = { headers: headers };
                        return [2 /*return*/, res.user];
                }
            });
        });
    };
    Auth.prototype.loginHTTP = function (credentials) {
        var url = this.networkService.domain + '/api/auth/login';
        return this.http.post(url, JSON.stringify(credentials), this.httpOptions).toPromise();
    };
    Auth.prototype.recoverPassword = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var result, headers;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.recoverPasswordHTTP(data)];
                    case 1:
                        result = _a.sent();
                        if (data.recoveryURL && result.status === 'success') { // when the recovery URL is accepted
                            this.token = result.token;
                            this.storage.set('token', result.token);
                            headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': 'application/json', 'Authorization': result.token });
                            this.httpAuthOptions = { headers: headers };
                        }
                        return [2 /*return*/, result];
                }
            });
        });
    };
    Auth.prototype.recoverPasswordHTTP = function (data) {
        return this.http.post(this.networkService.domain + '/api/auth/recover', JSON.stringify(data), this.httpOptions).toPromise();
    };
    Auth.prototype.logout = function () {
        this.token = '';
        this.httpAuthOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]
        };
        this.cachedRouteUrl = null;
        this.cachedRouteParams = null;
        this.incompleteOnboardProcess = null;
        this.storage.set('token', '');
        this.storage.set('user', '');
    };
    Auth.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_9__["NetworkService"] }
    ]; };
    Auth = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_9__["NetworkService"]])
    ], Auth);
    return Auth;
}());



/***/ }),

/***/ "./src/app/services/aws.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/aws.service.ts ***!
  \*****************************************/
/*! exports provided: Aws */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Aws", function() { return Aws; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var compressorjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! compressorjs */ "./node_modules/compressorjs/dist/compressor.js");
/* harmony import */ var compressorjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(compressorjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var blob_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! blob-util */ "./node_modules/blob-util/dist/blob-util.es.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var fix_orientation_capacitor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! fix-orientation-capacitor */ "./node_modules/fix-orientation-capacitor/index.js");
/* harmony import */ var fix_orientation_capacitor__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(fix_orientation_capacitor__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _resource_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resource.service */ "./src/app/services/resource.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};














// Set S3 endpoint to DigitalOcean Spaces
var Aws = /** @class */ (function () {
    function Aws(http, actionSheetCtrl, alertCtrl, toastCtrl, storage, platform, loadingCtrl, networkService, resourceService, authService, userData) {
        this.http = http;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.toastCtrl = toastCtrl;
        this.storage = storage;
        this.platform = platform;
        this.loadingCtrl = loadingCtrl;
        this.networkService = networkService;
        this.resourceService = resourceService;
        this.authService = authService;
        this.userData = userData;
        this.previewImage = null;
        this.url = '';
        this.reader = new FileReader();
        this.sessionAllowedCount = 1;
        this.sessionAssets = {}; // sessionAssets stores the latest, valid media URLs for the session (e.g. moment, group, etc)
        this.tempUploadedMedia = []; // list of UploadedUri keeps track of uploaded URLs in a session. If an uploaded URL is no longer in sessionAssets when leaving a session, that media will be removed from DO
    }
    Aws.prototype.uploadImage = function (type, id, image, sessionId) {
        return __awaiter(this, void 0, void 0, function () {
            var loading, fixed, photoBlob, result, err_1, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Uploading Photo...'
                        })];
                    case 1:
                        loading = _a.sent();
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 9, , 10]);
                        return [4 /*yield*/, loading.present()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4:
                        _a.trys.push([4, 7, , 8]);
                        return [4 /*yield*/, fix_orientation_capacitor__WEBPACK_IMPORTED_MODULE_12___default()(image)];
                    case 5:
                        fixed = _a.sent();
                        photoBlob = this.base64ToBlob(fixed);
                        return [4 /*yield*/, this.upload(type, id, photoBlob, 'image.jpg', photoBlob.size, loading)];
                    case 6:
                        result = _a.sent();
                        if (result.msg === 'Upload succeeded') {
                            this.url = result.url;
                            if (sessionId) {
                                this.addToSessionAssets(sessionId, result.url); // save this as session url
                                if (!this.tempUploadedMedia.includes(this.url)) {
                                    this.tempUploadedMedia.push(this.url); // store this for cleaning up DO storage during the clean up cycle
                                }
                            }
                        }
                        return [2 /*return*/, result.msg];
                    case 7:
                        err_1 = _a.sent();
                        loading.dismiss();
                        this.presentToast('Failed to process file for upload.');
                        console.log("failed to process photo for upload.", err_1);
                        return [2 /*return*/, "Upload failed"];
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        err_2 = _a.sent();
                        loading.dismiss();
                        return [2 /*return*/, "Upload abandoned"];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    Aws.prototype.compressPhoto = function (file) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        new compressorjs__WEBPACK_IMPORTED_MODULE_1___default.a(file, {
                            quality: 0.6,
                            maxWidth: 1280,
                            maxHeight: 1280,
                            success: function (compressed) {
                                resolve(compressed);
                            },
                            error: function (err) {
                                reject(err);
                                console.log(err.message);
                            },
                        });
                    })];
            });
        });
    };
    Aws.prototype.uploadFile = function (type, id, file, sessionId) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var largeFileAlert;
                        var _this = this;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    if (!(file && file.size > 50000000)) return [3 /*break*/, 3];
                                    return [4 /*yield*/, this.alertCtrl.create({
                                            header: 'File Too Large',
                                            subHeader: 'Your file exceeds the maximum file size limit of 50 megabytes.',
                                            buttons: ['Dismiss'],
                                            cssClass: 'level-15'
                                        })];
                                case 1:
                                    largeFileAlert = _a.sent();
                                    return [4 /*yield*/, largeFileAlert.present()];
                                case 2:
                                    _a.sent();
                                    return [2 /*return*/, reject('file too large')];
                                case 3:
                                    if (!file) {
                                        return [2 /*return*/, reject('upload canceled')];
                                    }
                                    _a.label = 4;
                                case 4:
                                    this.reader.onload = function (e) { return __awaiter(_this, void 0, void 0, function () {
                                        var fileBlob, loading, result, err_3;
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0:
                                                    fileBlob = new Blob([new Uint8Array(this.reader.result)]);
                                                    return [4 /*yield*/, this.loadingCtrl.create({
                                                            message: 'Uploading File...'
                                                        })];
                                                case 1:
                                                    loading = _a.sent();
                                                    _a.label = 2;
                                                case 2:
                                                    _a.trys.push([2, 5, , 6]);
                                                    return [4 /*yield*/, loading.present()];
                                                case 3:
                                                    _a.sent();
                                                    return [4 /*yield*/, this.upload(type, id, fileBlob, file.name, file.size, loading)];
                                                case 4:
                                                    result = _a.sent();
                                                    console.log("result", result);
                                                    if (result.msg === 'Upload succeeded') {
                                                        this.url = result.url;
                                                        if (sessionId) {
                                                            this.addToSessionAssets(sessionId, result.url); // save this as session url
                                                            if (!this.tempUploadedMedia.includes(this.url)) {
                                                                this.tempUploadedMedia.push(this.url); // store this for cleaning up DO storage during the clean up cycle
                                                            }
                                                        }
                                                    }
                                                    resolve(result.msg);
                                                    return [3 /*break*/, 6];
                                                case 5:
                                                    err_3 = _a.sent();
                                                    loading.dismiss();
                                                    reject("Upload abandoned");
                                                    return [3 /*break*/, 6];
                                                case 6: return [2 /*return*/];
                                            }
                                        });
                                    }); };
                                    this.reader.readAsArrayBuffer(file);
                                    return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    Aws.prototype.uploadImageUri = function (type, id, uri, sessionId) {
        return __awaiter(this, void 0, void 0, function () {
            var filename, ext, blob, loading, result, err_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        filename = uri.substring(uri.lastIndexOf('/') + 1).toLowerCase();
                        ext = filename.substring(filename.lastIndexOf('.') + 1).toLowerCase();
                        return [4 /*yield*/, Object(blob_util__WEBPACK_IMPORTED_MODULE_2__["imgSrcToBlob"])(uri, (['jpg', 'jpeg'].indexOf(ext) > -1 ? 'image/jpeg' : 'image/png'), 'Anonymous')];
                    case 1:
                        blob = _a.sent();
                        return [4 /*yield*/, this.loadingCtrl.create({
                                message: 'Processing File...'
                            })];
                    case 2:
                        loading = _a.sent();
                        _a.label = 3;
                    case 3:
                        _a.trys.push([3, 6, , 7]);
                        return [4 /*yield*/, loading.present()];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.upload(type, id, blob, filename, blob.size, loading)];
                    case 5:
                        result = _a.sent();
                        console.log("result", result);
                        if (result.msg === 'Upload succeeded') {
                            this.url = result.url;
                            if (sessionId) {
                                this.addToSessionAssets(sessionId, result.url); // save this as session url
                                if (!this.tempUploadedMedia.includes(this.url)) {
                                    this.tempUploadedMedia.push(this.url); // store this for cleaning up DO storage during the clean up cycle
                                }
                            }
                        }
                        return [2 /*return*/, result.msg];
                    case 6:
                        err_4 = _a.sent();
                        loading.dismiss();
                        return [2 /*return*/, "Upload abandoned"];
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    Aws.prototype.upload = function (type, id, blob, filename_ext, fileSize, loading) {
        var _this = this;
        var filename = filename_ext.substring(0, filename_ext.lastIndexOf('.')).toLowerCase();
        var ext = filename_ext.substring(filename_ext.lastIndexOf('.') + 1).toLowerCase();
        return new Promise(function (resolve) {
            if (blob) {
                console.log("beginning to upload...");
                var formData = new FormData();
                var xhr_1 = new XMLHttpRequest();
                formData.append("type", type);
                formData.append("size", fileSize);
                formData.append("_id", id);
                formData.append("ext", ext);
                var time_string = new Date().getTime() + Math.random().toString(36).substring(2, 5);
                var location_1 = type + '/' + id + '/' + time_string + '/' + filename + '.' + ext;
                formData.append("location", location_1);
                formData.append("upload", blob, filename + "." + ext);
                xhr_1.open('POST', _this.networkService.domain + "/api/aws/upload", true);
                xhr_1.setRequestHeader('Authorization', _this.authService.token);
                xhr_1.onload = function () {
                    if (xhr_1.readyState === 4) {
                        loading.dismiss();
                        if (xhr_1.status === 200) {
                            var url = JSON.parse(xhr_1.responseText);
                            console.log(url);
                            resolve({ msg: "Upload succeeded", url: url });
                        }
                        else {
                            console.log(xhr_1.response);
                            resolve({ msg: "Upload failed" });
                        }
                    }
                    else {
                        resolve({ msg: "Upload failed" });
                        loading.dismiss();
                    }
                };
                xhr_1.send(formData);
            }
            else {
                console.log("file is absent.");
                resolve({ msg: "Upload failed" });
                loading.dismiss();
            }
            setTimeout(function () { return loading.dismiss(); }, 10000); // remove the loading box after 20 sec
        });
    };
    Aws.prototype.removeFile = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.http.put(this.networkService.domain + '/api/aws/remove', JSON.stringify({ url: url }), this.authService.httpAuthOptions).toPromise()];
            });
        });
    };
    Aws.prototype.base64ToBlob = function (dataURI) {
        // Convert base64 to raw binary data held in a string.
        var byteString = atob(dataURI.split(',')[1]);
        // Separate out the mime component.
        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
        // Write the bytes of the string to an ArrayBuffer.
        var ab = new ArrayBuffer(byteString.length);
        var ia = new Uint8Array(ab);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }
        // Write the ArrayBuffer to a blob, and you're done.
        return new Blob([ab], { type: mimeString });
    };
    Aws.prototype.presentToast = function (text) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastCtrl.create({
                            message: text,
                            duration: 3000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    Aws.prototype.selectStockPhoto = function (photo, sessionId) {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.uploadImageUri('communities', this.userData.user.churches[this.userData.currentCommunityIndex]._id, photo.largeImageURL, sessionId)];
                    case 1:
                        result = _a.sent();
                        if (result === 'Upload succeeded') {
                            this.resourceService.searchKeyword = '';
                            this.resourceService.showPixabay = -1;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    Aws.prototype.addToSessionAssets = function (sessionId, url) {
        if (!this.sessionAssets.hasOwnProperty(sessionId)) {
            this.sessionAssets[sessionId] = []; // initiate the object property with an empty array;
        }
        if (url.length) {
            if (this.sessionAssets[sessionId].length < this.sessionAllowedCount) {
                this.sessionAssets[sessionId].push(url);
            }
            else {
                this.sessionAssets[sessionId].pop(); // erase the last item
                this.sessionAssets[sessionId].push(url);
            }
        }
    };
    // clean up previously uploaded assets (e.g. in this.moment.assets) that are no longer linked, or clean up all unused uploaded assets
    Aws.prototype.cleanUp = function (sessionId, origin) {
        return __awaiter(this, void 0, void 0, function () {
            var imageSource, _a, i, index, index;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        imageSource = JSON.parse(JSON.stringify(origin));
                        _a = typeof imageSource;
                        switch (_a) {
                            case 'object': return [3 /*break*/, 1];
                            case 'string': return [3 /*break*/, 2];
                            case 'boolean': return [3 /*break*/, 5];
                        }
                        return [3 /*break*/, 6];
                    case 1:
                        //remove valid media from the tempUploadedMedia array. The temp array will be used in the final clean up process
                        for (i = this.sessionAssets[sessionId].length - 1; i >= 0; i--) {
                            if (this.sessionAssets[sessionId][i] && this.sessionAssets[sessionId][i].length) {
                                index = this.tempUploadedMedia.indexOf(this.sessionAssets[sessionId][i]);
                                if (index > -1) {
                                    this.tempUploadedMedia.splice(index, 1);
                                }
                            }
                            else { // if empty string, splice the element. This is needed to handle empty string
                                this.sessionAssets[sessionId].splice(i, 1);
                            }
                        }
                        // sort the list and move any graphics to the front
                        this.sessionAssets[sessionId].sort(function (a, b) {
                            var c = (['jpg', 'jpeg', 'gif', 'png']).indexOf(a.substring(a.lastIndexOf('.') + 1).toLowerCase()) > -1;
                            var d = (['jpg', 'jpeg', 'gif', 'png']).indexOf(b.substring(b.lastIndexOf('.') + 1).toLowerCase()) > -1;
                            return (d - c);
                        });
                        return [3 /*break*/, 6];
                    case 2:
                        if (!(imageSource.length && this.sessionAssets[sessionId].indexOf(imageSource) < 0 && (imageSource.indexOf('https://pixabay.com') < 0))) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.removeFile(imageSource)];
                    case 3:
                        _b.sent(); // remove the previous background from Digital Ocean
                        _b.label = 4;
                    case 4:
                        if (this.sessionAssets[sessionId].length && this.sessionAssets[sessionId][0].length) {
                            index = this.tempUploadedMedia.indexOf(this.sessionAssets[sessionId][0]);
                            if (index > -1) {
                                this.tempUploadedMedia.splice(index, 1);
                            }
                        }
                        return [3 /*break*/, 6];
                    case 5:
                        this.tempUploadedMedia.forEach(function (url) { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0: return [4 /*yield*/, this.removeFile(url)];
                                    case 1:
                                        _a.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        this.url = '';
                        this.sessionAssets[sessionId] = [];
                        this.tempUploadedMedia = [];
                        this.resourceService.searchKeyword = '';
                        this.resourceService.showPixabay = -1;
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    Aws.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ActionSheetController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_8__["NetworkService"] },
        { type: _resource_service__WEBPACK_IMPORTED_MODULE_13__["Resource"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_6__["Auth"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"] }
    ]; };
    Aws = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ActionSheetController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_4__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_8__["NetworkService"],
            _resource_service__WEBPACK_IMPORTED_MODULE_13__["Resource"],
            _auth_service__WEBPACK_IMPORTED_MODULE_6__["Auth"],
            _user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"]])
    ], Aws);
    return Aws;
}());



/***/ }),

/***/ "./src/app/services/board.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/board.service.ts ***!
  \*******************************************/
/*! exports provided: Board */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Board", function() { return Board; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _chat_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _calendar_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};













var Board = /** @class */ (function () {
    function Board(http, platform, storage, alertCtrl, authService, userData, chatService, calendarService, networkService) {
        this.http = http;
        this.platform = platform;
        this.storage = storage;
        this.alertCtrl = alertCtrl;
        this.authService = authService;
        this.userData = userData;
        this.chatService = chatService;
        this.calendarService = calendarService;
        this.networkService = networkService;
        this.subscriptions = {};
    }
    Board.prototype.createBoardSocket = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.platform.is('cordova') || (this.networkService.domain !== 'https://server.restvo.com')) {
                    // turn off long polling for mobile apps. Without long polling, this will fail when connecting behind firewall
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_8__(this.networkService.domain + '/boards-namespace', { transports: ['websocket'] }); // only for mobile apps
                }
                else {
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_8__(this.networkService.domain + '/boards-namespace');
                }
                this.socket.on('connect', function () {
                    console.log("board socket id: ", _this.socket.id);
                });
                this.socket.on('refresh board', function (boardId, data) { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        this.userData.refreshUserStatus({ type: 'refresh board', boardId: boardId, data: data });
                        return [2 /*return*/];
                    });
                }); });
                if (!this.subscriptions.hasOwnProperty('refreshUserStatus')) {
                    this.subscriptions['refreshUserStatus'] = this.userData.refreshUserStatus$.subscribe(function () {
                        _this.loadUserChurchBoards();
                    });
                }
                return [2 /*return*/];
            });
        });
    };
    Board.prototype.loadUserChurchBoards = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_1, _a, e_2, _b, _c, _d, _e, community, _f, _g, board;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        _c = this.userData;
                        return [4 /*yield*/, this.loadUserChurchBoardsHTTP()];
                    case 1:
                        _c.communitiesboards = _h.sent();
                        try {
                            for (_d = __values(this.userData.communitiesboards), _e = _d.next(); !_e.done; _e = _d.next()) {
                                community = _e.value;
                                try {
                                    for (_f = __values(community.boards), _g = _f.next(); !_g.done; _g = _f.next()) {
                                        board = _g.value;
                                        if (this.socket)
                                            this.socket.emit('join board', board._id);
                                    }
                                }
                                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                                finally {
                                    try {
                                        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                                    }
                                    finally { if (e_2) throw e_2.error; }
                                }
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        this.storage.set('communitiesboards', this.userData.communitiesboards); //save in local storage for PWA's fast retrieval when reloading the board page
                        return [2 /*return*/, this.userData.communitiesboards];
                }
            });
        });
    };
    Board.prototype.loadUserChurchBoardsHTTP = function () {
        return this.http.get(this.networkService.domain + '/api/auth/loaduserchurchboards?sort=true', this.authService.httpAuthOptions).toPromise();
    };
    Board.prototype.loadBoard = function (boardId) {
        return this.http.get(this.networkService.domain + '/api/board/' + boardId, this.authService.httpAuthOptions).toPromise();
    };
    Board.prototype.loadBoardBuckets = function (boardId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/board/buckets/' + boardId + '?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum.toString(), this.authService.httpAuthOptions).toPromise();
    };
    Board.prototype.loadBoardBucket = function (bucketId, postId) {
        return this.http.get(this.networkService.domain + '/api/board/bucket/' + bucketId + '?postId=' + postId, this.authService.httpAuthOptions)
            .toPromise();
    };
    Board.prototype.createPost = function (boardId, data) {
        return __awaiter(this, void 0, void 0, function () {
            var post;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data.post.author = this.userData.user._id; //depopulate author
                        return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/board/createpost', JSON.stringify(data), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        post = _a.sent();
                        this.userData.refreshUserStatus({ type: 'refresh community board page' });
                        this.socket.emit('refresh board', boardId, { action: 'create post', post: post });
                        return [2 /*return*/, post];
                }
            });
        });
    };
    ;
    Board.prototype.updatePost = function (boardId, post) {
        return __awaiter(this, void 0, void 0, function () {
            var serverData, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        delete post.comments; //no need to send comments
                        serverData = JSON.parse(JSON.stringify(post));
                        serverData.author = post.author._id; //depopulate author
                        serverData.boardId = boardId;
                        if (serverData.moments.length)
                            serverData.moments[0] = serverData.moments[0]._id; //depopulate moments
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/board/updatepost', JSON.stringify(serverData), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        promise = _a.sent();
                        //post.author = this.userData.user; //populate author
                        this.userData.refreshUserStatus({ type: 'refresh community board page' });
                        this.userData.refreshUserStatus({ type: 'refresh manage page' });
                        this.socket.emit('refresh board', boardId, { action: 'update post', post: post });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Board.prototype.likePost = function (boardId, bucketId, postId, action) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/board/likepost/' + bucketId + '?postId=' + postId + '&action=' + action, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh board', boardId, { action: action, author: this.userData.user._id, bucketId: bucketId, postId: postId });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Board.prototype.deletePost = function (boardId, bucketId, postId) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.delete(this.networkService.domain + '/api/board/deletepost/' + bucketId + '?postId=' + postId, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.userData.refreshUserStatus({ type: 'refresh community board page' });
                        this.socket.emit('refresh board', boardId, { action: 'delete post', bucketId: bucketId, postId: postId });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Board.prototype.createComment = function (boardId, serverData, socketData) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/board/createcomment', JSON.stringify(serverData), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh board', boardId, { action: 'create comment', comment: socketData });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Board.prototype.updateComment = function (boardId, data) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/board/updatecomment', JSON.stringify(data), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh board', boardId, { action: 'update comment', data: data });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Board.prototype.likeComment = function (bucketId, commentId, action) {
        return this.http.get(this.networkService.domain + '/api/board/likecomment/' + bucketId + '?commentId=' + commentId + '&action=' + action, this.authService.httpAuthOptions)
            .toPromise();
    };
    Board.prototype.deleteComment = function (bucketId, commentId) {
        return this.http.delete(this.networkService.domain + '/api/board/deletecomment/' + bucketId + '?commentId=' + commentId, this.authService.httpAuthOptions)
            .toPromise();
    };
    Board.prototype.sharePost = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var promises, err_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(data.conversations && data.conversations.length)) return [3 /*break*/, 4];
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        promises = data.conversations.map(function (obj) { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0: return [4 /*yield*/, this.chatService.sendReply(obj.conversation._id, {
                                            post: data._id,
                                            page: obj.conversation.type === 'connect' ? "MessagePage" : "GroupmessagePage",
                                            groupId: obj.conversation.type === 'connect' ? null : obj.conversation.group._id,
                                            groupName: obj.conversation.type === 'connect' ? null : obj.conversation.group.name
                                        }, {
                                            conversationId: obj.conversation._id,
                                            post: data,
                                            createdAt: new Date(),
                                            author: {
                                                _id: this.userData.user._id,
                                                first_name: this.userData.user.first_name,
                                                last_name: this.userData.user.last_name,
                                                avatar: this.userData.user.avatar
                                            },
                                            status: "pending",
                                            confirmId: Math.random()
                                        })];
                                    case 1:
                                        _a.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        console.log(err_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    Board.prototype.explainPostAbuse = function (event, hasAdminAccess) {
        return __awaiter(this, void 0, void 0, function () {
            var alert_1, alert_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        if (!hasAdminAccess) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: "Action Required",
                                message: "This post has been reported by a user. Please review its content and take the appropriate actions. If no action is taken, Restvo may remove this post and suspend its author.",
                                buttons: [{ text: 'OK' }],
                                cssClass: 'level-15'
                            })];
                    case 1:
                        alert_1 = _a.sent();
                        return [4 /*yield*/, alert_1.present()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 6];
                    case 3: return [4 /*yield*/, this.alertCtrl.create({
                            header: "Post is under Review",
                            message: "Someone has already submitted a report about this post. We will take the necessary actions which may lead to deleting of this post and the suspension of its author.",
                            buttons: [{ text: 'Close' }],
                            cssClass: 'level-15'
                        })];
                    case 4:
                        alert_2 = _a.sent();
                        return [4 /*yield*/, alert_2.present()];
                    case 5:
                        _a.sent();
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    Board.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"] },
        { type: _chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"] },
        { type: _calendar_service__WEBPACK_IMPORTED_MODULE_7__["CalendarService"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_12__["NetworkService"] }
    ]; };
    Board = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_3__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"],
            _user_service__WEBPACK_IMPORTED_MODULE_6__["UserData"],
            _chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"],
            _calendar_service__WEBPACK_IMPORTED_MODULE_7__["CalendarService"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_12__["NetworkService"]])
    ], Board);
    return Board;
}());



/***/ }),

/***/ "./src/app/services/calendar.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/calendar.service.ts ***!
  \**********************************************/
/*! exports provided: CalendarService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CalendarService", function() { return CalendarService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_7__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __values = (undefined && undefined.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};








var CalendarService = /** @class */ (function () {
    function CalendarService(http, storage, authService, networkService) {
        var _this = this;
        this.http = http;
        this.storage = storage;
        this.authService = authService;
        this.networkService = networkService;
        this.calendarItems = [];
        this.hasUpcomingItems = false;
        this.calendar = {
            mode: 'month',
            viewTitle: '',
            currentDate: new Date(),
            currentViewDate: new Date(),
            selectedDate: new Date(),
            daysInViewMonth: [],
            daysInViewWeek: [],
            eventTimes: [],
        };
        this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
        this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
        setInterval(function () {
            _this.calendar.currentDate = new Date();
            _this.calendar.currentViewDate = new Date();
        }, 3600000); // calculate the currentDate and currentViewDate every hour
    }
    CalendarService.prototype.loadRelationshipContentCalendars = function (relationshipId) {
        return this.http.get(this.networkService.domain + '/api/moment/relationship/contentcalendars/' + relationshipId, this.authService.httpAuthOptions)
            .toPromise();
    };
    CalendarService.prototype.getAllUserCalendarItemIds = function () {
        return this.http.get(this.networkService.domain + '/api/auth/calendaritemids', this.authService.httpAuthOptions)
            .toPromise();
    };
    CalendarService.prototype.getUserCalendar = function () {
        return __awaiter(this, void 0, void 0, function () {
            var calendarItems, err_1, lastUpdatedAt, latestCalendarItems, calendarItemIdList_1, latestCalendarItemIdList, i, err_2;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.authService.token) {
                            return [2 /*return*/];
                        }
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.storage.get('calendarItems')];
                    case 2:
                        calendarItems = _a.sent();
                        this.calendarItems = calendarItems || [];
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        this.calendarItems = [];
                        console.log("cannot load calendarItems from storage");
                        return [3 /*break*/, 4];
                    case 4:
                        lastUpdatedAt = this.findLatestTimeStamp(this.calendarItems);
                        _a.label = 5;
                    case 5:
                        _a.trys.push([5, 10, , 11]);
                        return [4 /*yield*/, this.fetchLatestCalendarItems(lastUpdatedAt)];
                    case 6:
                        latestCalendarItems = _a.sent();
                        calendarItemIdList_1 = this.calendarItems.map(function (c) { return c._id; });
                        latestCalendarItems.forEach(function (latestCalendarItem) {
                            var index = calendarItemIdList_1.indexOf(latestCalendarItem._id);
                            if (index > -1) { // if the item was loaded and new update is available
                                _this.calendarItems[index] = latestCalendarItem;
                            }
                            else { // if the item has not been loaded before
                                _this.calendarItems.push(latestCalendarItem);
                                calendarItemIdList_1.push(latestCalendarItem._id);
                            }
                        });
                        if (!this.calendarItems.length) return [3 /*break*/, 8];
                        return [4 /*yield*/, this.getAllUserCalendarItemIds()];
                    case 7:
                        latestCalendarItemIdList = _a.sent();
                        for (i = calendarItemIdList_1.length - 1; i >= 0; i--) {
                            if (latestCalendarItemIdList.indexOf(calendarItemIdList_1[i]) === -1) { //if an item is deleted on the server
                                this.calendarItems.splice(i, 1);
                            }
                        }
                        _a.label = 8;
                    case 8:
                        if (this.calendarItems.length) {
                            this.storage.set('calendarItems', this.calendarItems);
                            this.updateViewCalendar();
                        }
                        console.log('current calendarItems length', this.calendarItems.length);
                        return [4 /*yield*/, this.calendarItems.sort(function (a, b) {
                                var c = new Date(a.startDate);
                                var d = new Date(b.startDate);
                                return (c - d); // oldest to newest
                            })];
                    case 9:
                        _a.sent();
                        return [2 /*return*/, this.calendarItems];
                    case 10:
                        err_2 = _a.sent();
                        console.log(err_2);
                        return [2 /*return*/, this.calendarItems = []];
                    case 11: return [2 /*return*/];
                }
            });
        });
    };
    ;
    CalendarService.prototype.fetchLatestCalendarItems = function (lastUpdatedAt) {
        return __awaiter(this, void 0, void 0, function () {
            var urlString;
            return __generator(this, function (_a) {
                urlString = lastUpdatedAt ? '?lastUpdatedAt=' + new Date(lastUpdatedAt).getTime() : '';
                return [2 /*return*/, this.http.get(this.networkService.domain + '/api/auth/calendaritems' + urlString, this.authService.httpAuthOptions)
                        .toPromise()];
            });
        });
    };
    CalendarService.prototype.findLatestTimeStamp = function (calendarItems) {
        var latestTimeStamp = 0;
        calendarItems.forEach(function (item) {
            latestTimeStamp = (new Date(item.updatedAt).getTime() > new Date(latestTimeStamp).getTime()) ? item.updatedAt : latestTimeStamp;
        });
        return latestTimeStamp;
    };
    CalendarService.prototype.changeMode = function (inputMode) {
        this.calendar.mode = inputMode;
        // calibrate the first day of the week to properly render the month title
        this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
        this.updateViewCalendar();
    };
    CalendarService.prototype.changeDate = function (event, direction) {
        if (this.calendar.mode === 'month') {
            if (event.direction == 4 || direction == 4) { //if right swipe
                this.calendar.currentViewDate.setMonth(this.calendar.currentViewDate.getMonth() - 1);
                this.calendar.selectedDate.setMonth(this.calendar.selectedDate.getMonth() - 1);
                this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
                this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
            }
            else if (event.direction == 2 || direction == 2) { //if left swipe
                this.calendar.currentViewDate.setMonth(this.calendar.currentViewDate.getMonth() + 1);
                this.calendar.selectedDate.setMonth(this.calendar.selectedDate.getMonth() + 1);
                this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
                this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
            }
        }
        else if (this.calendar.mode === 'week') {
            if (event.direction == 4 || direction == 4) {
                this.calendar.currentViewDate.setDate(this.calendar.currentViewDate.getDate() - 7);
                this.calendar.selectedDate.setDate(this.calendar.selectedDate.getDate() - 7);
                this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
                this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
            }
            else if (event.direction == 2 || direction == 2) {
                this.calendar.currentViewDate.setDate(this.calendar.currentViewDate.getDate() + 7);
                this.calendar.selectedDate.setDate(this.calendar.selectedDate.getDate() + 7);
                this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
                this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
            }
        }
        this.updateViewCalendar();
    };
    CalendarService.prototype.getDaysInMonth = function (month, year) {
        var date = new Date(year, month, 1);
        var daysOfMonth = [];
        var firstDay = date.getDay();
        for (var emptyDate = 0; emptyDate < firstDay; emptyDate++) {
            daysOfMonth.push({ date: ' ', dayEvents: [] });
        }
        while (date.getMonth() === month) {
            daysOfMonth.push({ date: new Date(date), dayEvents: [] });
            date.setDate(date.getDate() + 1);
        }
        return daysOfMonth;
    };
    CalendarService.prototype.getDaysInWeek = function (day, month, year) {
        var firstDayOfWeek = new Date(year, month, day);
        var daysOfWeek = [];
        if (this.calendar.mode === 'month') {
            var adjustedDay = firstDayOfWeek.getDate() - firstDayOfWeek.getDay();
            firstDayOfWeek.setDate(adjustedDay > 0 ? adjustedDay : 1);
        }
        else if (this.calendar.mode === 'week') {
            firstDayOfWeek.setDate(firstDayOfWeek.getDate() - firstDayOfWeek.getDay());
        }
        this.calendar.currentViewDate.setDate(firstDayOfWeek.getDate()); // set the currentViewDate to the first day of the week to properly render the Month calendar title
        for (var dayIndex = 0; dayIndex < 7; dayIndex++) {
            daysOfWeek.push({ date: new Date(firstDayOfWeek), dayEvents: [] });
            firstDayOfWeek.setDate(firstDayOfWeek.getDate() + 1);
        }
        return daysOfWeek;
    };
    CalendarService.prototype.updateViewCalendar = function () {
        var e_1, _a, e_2, _b, e_3, _c;
        this.calendar.viewTitle = (this.calendar.mode === 'month' || this.calendar.mode === 'week') ? new Date(this.calendar.currentViewDate).toLocaleString('en-US', {
            month: 'long',
            year: 'numeric'
        }) : '';
        // reset the calendar views based on current view date
        this.calendar.daysInViewMonth = this.getDaysInMonth(this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
        this.calendar.daysInViewWeek = this.getDaysInWeek(this.calendar.currentViewDate.getDate(), this.calendar.currentViewDate.getMonth(), this.calendar.currentViewDate.getFullYear());
        try {
            for (var _d = __values(this.calendarItems), _e = _d.next(); !_e.done; _e = _d.next()) {
                var calendarItem = _e.value;
                // check to see if there are upcoming events
                if (calendarItem.startDate && calendarItem.endDate && calendarItem.moment && calendarItem.moment.resource && calendarItem.moment.resource.field) {
                    calendarItem.validUpcomingItem = (new Date(calendarItem.endDate).getTime() >= new Date().getTime() - 24 * 60 * 60 * 1000);
                    if (new Date(calendarItem.startDate).getTime() < new Date().getTime() - 2 * 24 * 60 * 60 * 1000) {
                        calendarItem.status = 'Past';
                    }
                    else if (new Date(calendarItem.startDate).getTime() > new Date().getTime() + 2 * 24 * 60 * 60 * 1000) {
                        calendarItem.status = 'Upcoming';
                    }
                    else {
                        calendarItem.status = 'Current';
                    }
                    calendarItem.completed = false;
                    this.hasUpcomingItems = true;
                }
                try {
                    // populate the current calendar month view daysEvents
                    for (var _f = __values(this.calendar.daysInViewMonth), _g = _f.next(); !_g.done; _g = _f.next()) {
                        var dayOfMonth = _g.value;
                        if (this.eventOnDay(dayOfMonth.date, calendarItem)) {
                            calendarItem.pastEvent = this.pastEvent(calendarItem.endDate);
                            dayOfMonth.dayEvents.push(calendarItem);
                        }
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
                try {
                    // populate the current calendar week view daysEvents
                    for (var _h = __values(this.calendar.daysInViewWeek), _j = _h.next(); !_j.done; _j = _h.next()) {
                        var dayOfWeek = _j.value;
                        if (this.eventOnDay(dayOfWeek.date, calendarItem)) {
                            calendarItem.pastEvent = this.pastEvent(calendarItem.endDate);
                            dayOfWeek.dayEvents.push(calendarItem);
                        }
                    }
                }
                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                finally {
                    try {
                        if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
                    }
                    finally { if (e_3) throw e_3.error; }
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
            }
            finally { if (e_1) throw e_1.error; }
        }
    };
    // returns true if there is an event on this day or event is valid, false otherwise
    CalendarService.prototype.eventOnDay = function (dayOfMonth, calendarItem) {
        // first check if event is valid
        if (calendarItem.startDate && calendarItem.endDate && calendarItem.moment && calendarItem.moment.resource && calendarItem.moment.resource.field) {
            // get all dates as JavaScript Date objects and set the date time to 0 so not comparing hours, mintues, etc.
            var startDateWithTime = new Date(calendarItem.startDate);
            var startDate = new Date(startDateWithTime.getFullYear(), startDateWithTime.getMonth(), startDateWithTime.getDate());
            var endDateWithTime = new Date(calendarItem.endDate);
            var endDate = new Date(endDateWithTime.getFullYear(), endDateWithTime.getMonth(), endDateWithTime.getDate());
            var eventType = calendarItem.moment.resource.field;
            if ((eventType === "Poll" || eventType === "Goal") && (endDate.toString() === dayOfMonth.toString())) { //two JS date objects will not evaluate to equal so must compare their strings instead
                return true;
            }
            else if ((eventType === "Event" || eventType === "Meetup" || eventType === "Track" || eventType === 'User Defined Activity') && (startDate <= dayOfMonth && dayOfMonth <= endDate)) {
                return true;
            }
        }
        else {
            return false;
        }
    };
    CalendarService.prototype.getDaysEvents = function (day) {
        var daysEvents = [];
        for (var i = 0; i < this.calendarItems.length; i++) {
            if (this.eventOnDay(day, this.calendarItems[i])) {
                daysEvents.push(this.calendarItems[i]);
            }
        }
        return daysEvents;
    };
    CalendarService.prototype.pastEvent = function (dateTime) {
        return new Date(dateTime).getTime() < (new Date().getTime() - (2 * 24 * 60 * 60 * 1000));
    };
    CalendarService.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_3__["Auth"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_4__["NetworkService"] }
    ]; };
    CalendarService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _auth_service__WEBPACK_IMPORTED_MODULE_3__["Auth"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_4__["NetworkService"]])
    ], CalendarService);
    return CalendarService;
}());



/***/ }),

/***/ "./src/app/services/chat.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/chat.service.ts ***!
  \******************************************/
/*! exports provided: Chat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chat", function() { return Chat; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};















var Chat = /** @class */ (function () {
    function Chat(http, router, alertCtrl, authService, electronService, badge, networkService, platform, userData, storage) {
        this.http = http;
        this.router = router;
        this.alertCtrl = alertCtrl;
        this.authService = authService;
        this.electronService = electronService;
        this.badge = badge;
        this.networkService = networkService;
        this.platform = platform;
        this.userData = userData;
        this.storage = storage;
        this.conversations = [];
        this.currentChatProps = [];
        this.onlineUsers = [];
        this.onlineUsersSockets = [];
        this.liveConversations = {};
        this.liveVideoChats = {};
        this._openChat = new rxjs__WEBPACK_IMPORTED_MODULE_14__["BehaviorSubject"](null);
        this._toggleVideoChat = new rxjs__WEBPACK_IMPORTED_MODULE_14__["BehaviorSubject"](null);
        this._toastNotification = new rxjs__WEBPACK_IMPORTED_MODULE_14__["BehaviorSubject"](null);
        this._chatMessage = new rxjs__WEBPACK_IMPORTED_MODULE_14__["BehaviorSubject"](null);
        this.openChat$ = this._openChat.asObservable();
        this.toggleVideoChat$ = this._toggleVideoChat.asObservable();
        this.toastNotification$ = this._toastNotification.asObservable();
        this.chatMessage$ = this._chatMessage.asObservable();
        console.log('Hello Chat Provider');
        this.connectTabBadge = 0;
    }
    Chat.prototype.openChat = function (data) {
        this._openChat.next(data);
    };
    Chat.prototype.toggleVideoChat = function (data) {
        this._toggleVideoChat.next(data);
    };
    Chat.prototype.toastNotification = function (res) {
        this._toastNotification.next(res);
    };
    Chat.prototype.broadcastChatMessage = function (res) {
        this._chatMessage.next(res);
    };
    Chat.prototype.createConversationSocket = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.platform.is('cordova') || (this.networkService.domain !== 'https://server.restvo.com')) { // the later for debugging purpose only: socket.io disconnects regularly with localhost
                    // turn off long polling for mobile apps. Without long polling, this will fail when connecting behind firewall
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_11___default()(this.networkService.domain, { transports: ['websocket'] }); // only for mobile apps
                }
                else {
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_11___default()(this.networkService.domain);
                }
                this.socket.on('connect', function () { return __awaiter(_this, void 0, void 0, function () {
                    var conversations, i, _a, _b, _c;
                    return __generator(this, function (_d) {
                        switch (_d.label) {
                            case 0: return [4 /*yield*/, this.storage.get('conversations')];
                            case 1:
                                conversations = _d.sent();
                                this.conversations = conversations || [];
                                console.log("chat socket id: ", this.socket.id, "conv in storage:", this.conversations.length);
                                if (!this.conversations.length) return [3 /*break*/, 5];
                                i = 0;
                                _d.label = 2;
                            case 2:
                                if (!(i < this.conversations.length)) return [3 /*break*/, 5];
                                // join conversation rooms in socket.io, also send online status if enabled
                                _b = (_a = this.socket).emit;
                                _c = ['enter conversation', this.conversations[i].conversation._id, this.userData.user._id];
                                return [4 /*yield*/, this.userData.checkRestExpired()];
                            case 3:
                                // join conversation rooms in socket.io, also send online status if enabled
                                _b.apply(_a, _c.concat([((_d.sent()) ? { action: 'ping', state: 'online', origin: this.socket.id } : null)]));
                                _d.label = 4;
                            case 4:
                                i++;
                                return [3 /*break*/, 2];
                            case 5: return [2 /*return*/];
                        }
                    });
                }); });
                this.socket.on('reconnect', function () { return __awaiter(_this, void 0, void 0, function () {
                    var i, _a, _b, _c;
                    return __generator(this, function (_d) {
                        switch (_d.label) {
                            case 0:
                                console.log('reconnect', this.socket.id);
                                if (!this.conversations.length) return [3 /*break*/, 4];
                                i = 0;
                                _d.label = 1;
                            case 1:
                                if (!(i < this.conversations.length)) return [3 /*break*/, 4];
                                // join conversation rooms in socket.io, also send online status if enabled
                                _b = (_a = this.socket).emit;
                                _c = ['enter conversation', this.conversations[i].conversation._id, this.userData.user._id];
                                return [4 /*yield*/, this.userData.checkRestExpired()];
                            case 2:
                                // join conversation rooms in socket.io, also send online status if enabled
                                _b.apply(_a, _c.concat([((_d.sent()) ? { action: 'ping', state: 'online', origin: this.socket.id } : null)]));
                                _d.label = 3;
                            case 3:
                                i++;
                                return [3 /*break*/, 1];
                            case 4: return [2 /*return*/];
                        }
                    });
                }); });
                this.socket.on('online status', function (conversationId, userId, status) { return __awaiter(_this, void 0, void 0, function () {
                    var i, i, j, err_1;
                    var _this = this;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                _a.trys.push([0, 6, , 7]);
                                if (!(status.state === 'online')) return [3 /*break*/, 4];
                                if (!(userId !== this.userData.user._id)) return [3 /*break*/, 3];
                                if (!(status.action === 'ping')) return [3 /*break*/, 2];
                                return [4 /*yield*/, this.userData.checkRestExpired()];
                            case 1:
                                if (_a.sent())
                                    this.socket.emit('online status', conversationId, this.userData.user._id, { action: 'pong', state: 'online', origin: status.origin, videoChatRoomId: (conversationId === this.userData.videoChatRoomId ? this.userData.videoChatRoomId : '') });
                                _a.label = 2;
                            case 2:
                                if (this.onlineUsersSockets.indexOf(status.origin) < 0) { //only if unique
                                    this.onlineUsers.push(userId);
                                    this.onlineUsersSockets.push(status.origin);
                                }
                                if (!this.liveConversations.hasOwnProperty(conversationId)) { // if not yet initiated
                                    this.liveConversations[conversationId] = { users: [userId], sockets: [status.origin] };
                                    //console.log('add live conv', this.liveConversations[conversationId]);
                                }
                                else {
                                    if (this.liveConversations[conversationId].sockets.indexOf(status.origin) < 0) { //only if unique userId
                                        this.liveConversations[conversationId].users.push(userId);
                                        this.liveConversations[conversationId].sockets.push(status.origin);
                                        //console.log('add more live conv', this.liveConversations[conversationId]);
                                    }
                                }
                                if (status.hasOwnProperty('videoChatRoomId') && status.videoChatRoomId.length) { //if the friend is in a chat room
                                    if (!this.liveVideoChats.hasOwnProperty(conversationId)) { // if user in a video chat room and not yet initiated
                                        this.liveVideoChats[conversationId] = { users: [userId], sockets: [status.origin] };
                                    }
                                    else {
                                        if (this.liveVideoChats[conversationId].sockets.indexOf(status.origin) < 0) { //only if unique userId
                                            this.liveVideoChats[conversationId].users.push(userId);
                                            this.liveVideoChats[conversationId].sockets.push(status.origin);
                                        }
                                    }
                                }
                                _a.label = 3;
                            case 3: return [3 /*break*/, 5];
                            case 4:
                                if (status.state === 'leave video chat') {
                                    if (this.liveVideoChats.hasOwnProperty(status.videoChatRoomId)) {
                                        i = this.liveVideoChats[status.videoChatRoomId].sockets.indexOf(status.origin);
                                        if (i > -1) {
                                            this.liveVideoChats[status.videoChatRoomId].users.splice(i, 1); //remove userId from live chat users array
                                            this.liveVideoChats[status.videoChatRoomId].sockets.splice(i, 1); //remove userId from live chat users array
                                        }
                                    }
                                    this.onlineUsersSockets.forEach(function (socket, index) {
                                        if (socket === status.origin) {
                                            _this.onlineUsers.splice(index, 1);
                                            _this.onlineUsersSockets.splice(index, 1);
                                        }
                                    });
                                }
                                else if (status.state === 'offline') { //if a friend's status became offline (including away mode)
                                    if (this.liveConversations.hasOwnProperty(conversationId)) {
                                        i = this.liveConversations[conversationId].sockets.indexOf(status.origin);
                                        if (i > -1) {
                                            this.liveConversations[conversationId].users.splice(i, 1); //remove userId from live conversation users array
                                            this.liveConversations[conversationId].sockets.splice(i, 1); //remove userId from live conversation users array
                                            //console.log('offline', this.liveConversations[conversationId]);
                                        }
                                    }
                                    if (this.liveVideoChats.hasOwnProperty(conversationId)) {
                                        j = this.liveVideoChats[conversationId].sockets.indexOf(status.origin);
                                        if (j > -1) {
                                            this.liveVideoChats[conversationId].users.splice(j, 1); //remove userId from live chat users array
                                            this.liveVideoChats[conversationId].sockets.splice(j, 1); //remove userId from live chat users array
                                        }
                                    }
                                    this.onlineUsersSockets.forEach(function (socket, index) {
                                        if (socket === status.origin) {
                                            _this.onlineUsers.splice(index, 1);
                                            _this.onlineUsersSockets.splice(index, 1);
                                        }
                                    });
                                }
                                _a.label = 5;
                            case 5: return [3 /*break*/, 7];
                            case 6:
                                err_1 = _a.sent();
                                console.log('something went wrong with the online status algorithm', err_1);
                                return [3 /*break*/, 7];
                            case 7: return [2 /*return*/];
                        }
                    });
                }); });
                this.socket.on('refresh messages', function (message) { return __awaiter(_this, void 0, void 0, function () {
                    var index, conversation;
                    var _this = this;
                    return __generator(this, function (_a) {
                        console.log('incoming message...', message);
                        this.broadcastChatMessage(message); // broadcast an incoming message
                        if (message.author._id !== this.userData.user._id) { // incrementing the badges when incoming message is received from another user
                            this.connectTabBadge++; //increment the Chat Tab badge count
                            if (this.router.url.indexOf('/app/myconversations') < 0 || !this.currentChatProps.length || (this.platform.width() < 768 && this.currentChatProps.length && this.currentChatProps[this.currentChatProps.length - 1].conversationId !== message.conversationId)) { // if the user is not in the chat room or is outside of the chat view
                                this.toastNotification({ type: 'message', data: message });
                            }
                            this.conversations.forEach(function (data) {
                                if ((data.conversation._id === message.conversationId) && (data.conversation.type === "group")) {
                                    _this.userData.user.churches.forEach(function (church) {
                                        if (data.conversation.group.churchId && church._id === data.conversation.group.churchId.toString()) {
                                            church.badge++;
                                        }
                                    });
                                    if (!data.conversation.group.churchId) { //in private chat
                                        _this.userData.user.churches.forEach(function (church) {
                                            if (church._id === "5ab62be8f83e2c1a8d41f894") {
                                                church.badge++; // increment the Restvo badge
                                            }
                                        });
                                    }
                                }
                                else if ((data.conversation._id === message.conversationId) && (data.conversation.type === "connect")) {
                                    _this.userData.user.churches.forEach(function (church) {
                                        if (church._id === "5ab62be8f83e2c1a8d41f894") {
                                            church.badge++; // increment the Restvo badge
                                        }
                                    });
                                }
                            });
                            index = this.conversations.map(function (c) { return c.conversation._id; }).indexOf(message.conversationId);
                            if (index > -1) { // move the incoming message to top of list
                                conversation = this.conversations[index];
                                this.conversations.splice(index, 1);
                                this.conversations.unshift(conversation);
                            }
                        }
                        return [2 /*return*/];
                    });
                }); });
                //socket.io broadcasting refresh status update about a group/topic/conversation
                this.socket.on('refresh status', function (conversationId, data) { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                console.log("receiving refresh", data);
                                if (!(data.action === 'update leader status')) return [3 /*break*/, 1];
                                this.authService.refreshGroupStatus({ conversationId: conversationId, data: data });
                                return [3 /*break*/, 8];
                            case 1:
                                if (!(data.action === 'update group member list')) return [3 /*break*/, 3];
                                return [4 /*yield*/, this.userData.load()];
                            case 2:
                                _a.sent(); //for the rare case that a user's other device is viewing the group info
                                this.authService.refreshGroupStatus({ conversationId: conversationId, data: data });
                                return [3 /*break*/, 8];
                            case 3:
                                if (!(data.action === 'leave group')) return [3 /*break*/, 5];
                                return [4 /*yield*/, this.userData.load()];
                            case 4:
                                _a.sent();
                                this.userData.refreshUserStatus({ type: 'close group view', data: { _id: data.groupId } });
                                return [3 /*break*/, 8];
                            case 5:
                                if (!(data.action === 'refresh moment')) return [3 /*break*/, 6];
                                // sending moment update using moment's conversation socket.io
                                // ex. Goal is due, Poll is due
                                this.toastNotification({ type: 'moment', data: data }); //this triggers app.component.ts line
                                return [3 /*break*/, 8];
                            case 6:
                                console.log("receiving refresh 2", data);
                                return [4 /*yield*/, this.userData.load()];
                            case 7:
                                _a.sent();
                                this.userData.refreshMyConversations({ action: 'reload', conversationId: 'all' });
                                this.authService.refreshGroupStatus({ conversationId: conversationId, data: data });
                                _a.label = 8;
                            case 8: return [2 /*return*/];
                        }
                    });
                }); });
                //user-data provider requesting to send a chat socket emit
                this.authService.chatSocketMessage$.subscribe(function (res) {
                    if (res) {
                        if (res.topic === 'chat socket emit') {
                            _this.socket.emit('update status', res.conversationId, res.data);
                        }
                        else if (res.topic === 'disconnect chat socket') {
                            // reset variables and close socket
                            _this.onlineUsersSockets = [];
                            _this.onlineUsers = [];
                            _this.currentChatProps = []; // empty chat Props
                            _this.socket.close();
                        }
                    }
                });
                return [2 /*return*/];
            });
        });
    };
    ;
    Chat.prototype.getAllUserConversationIds = function () {
        return this.http.get(this.networkService.domain + '/api/chat/ids', this.authService.httpAuthOptions)
            .toPromise();
    };
    Chat.prototype.getAllUserConversations = function () {
        return __awaiter(this, void 0, void 0, function () {
            var conversations, err_2, lastUpdatedAt, latestConversations, i, index, _a, _b, _c, conversationIdsFromServer, i, index, _d, _e, _f, _g, err_3;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        _h.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.storage.get('conversations')];
                    case 1:
                        conversations = _h.sent();
                        this.conversations = conversations || [];
                        return [3 /*break*/, 3];
                    case 2:
                        err_2 = _h.sent();
                        console.log('no conversation in storage');
                        return [3 /*break*/, 3];
                    case 3:
                        lastUpdatedAt = this.findLatestTimeStamp(this.conversations);
                        _h.label = 4;
                    case 4:
                        _h.trys.push([4, 19, , 21]);
                        return [4 /*yield*/, this.fetchLatestConversations(lastUpdatedAt)];
                    case 5:
                        latestConversations = _h.sent();
                        i = latestConversations.length - 1;
                        _h.label = 6;
                    case 6:
                        if (!(i > -1)) return [3 /*break*/, 10];
                        index = this.conversations.map(function (c) { return c.conversation._id; }).indexOf(latestConversations[i].conversation._id);
                        if (!(index > -1)) return [3 /*break*/, 7];
                        this.conversations.splice(index, 1);
                        this.conversations.unshift(latestConversations[i]);
                        return [3 /*break*/, 9];
                    case 7:
                        this.conversations.unshift(latestConversations[i]);
                        _b = (_a = this.socket).emit;
                        _c = ['enter conversation', latestConversations[i].conversation._id, this.userData.user._id];
                        return [4 /*yield*/, this.userData.checkRestExpired()];
                    case 8:
                        _b.apply(_a, _c.concat([((_h.sent()) ? { action: 'ping', state: 'online', origin: this.socket.id } : null)]));
                        _h.label = 9;
                    case 9:
                        i--;
                        return [3 /*break*/, 6];
                    case 10:
                        if (!this.conversations.length) return [3 /*break*/, 18];
                        return [4 /*yield*/, this.getAllUserConversationIds()];
                    case 11:
                        conversationIdsFromServer = _h.sent();
                        i = this.conversations.map(function (c) { return c.conversation._id; }).length - 1;
                        _h.label = 12;
                    case 12:
                        if (!(i > -1)) return [3 /*break*/, 16];
                        index = conversationIdsFromServer.indexOf(this.conversations.map(function (c) { return c.conversation._id; })[i]);
                        if (!(index > -1)) return [3 /*break*/, 13];
                        conversationIdsFromServer.splice(index, 1); // remove the conversation Id from the list
                        return [3 /*break*/, 15];
                    case 13:
                        _e = (_d = this.socket).emit;
                        _f = ['leave conversation', this.conversations.map(function (c) { return c.conversation._id; })[i], this.userData.user._id];
                        return [4 /*yield*/, this.userData.checkRestExpired()];
                    case 14:
                        _e.apply(_d, _f.concat([((_h.sent()) ? { action: 'ping', state: 'offline' } : null)]));
                        this.conversations.splice(i, 1);
                        _h.label = 15;
                    case 15:
                        i--;
                        return [3 /*break*/, 12];
                    case 16:
                        if (!conversationIdsFromServer.length) return [3 /*break*/, 18];
                        _g = this;
                        return [4 /*yield*/, this.fetchLatestConversations(null)];
                    case 17:
                        _g.conversations = _h.sent();
                        _h.label = 18;
                    case 18:
                        if (this.conversations.length) {
                            this.storage.set('conversations', this.conversations);
                        }
                        console.log('current conv length', this.conversations.length, this.conversations.find(function (c) { return c.conversation._id === '5e0e6f8200b2420a07547c2c'; }));
                        this.userData.refreshMyConversations({ action: 'render', data: null }); // refresh the list of conversation
                        return [2 /*return*/, this.conversations];
                    case 19:
                        err_3 = _h.sent();
                        console.log(err_3);
                        return [4 /*yield*/, this.storage.get('conversations')];
                    case 20: return [2 /*return*/, _h.sent()];
                    case 21: return [2 /*return*/];
                }
            });
        });
    };
    ;
    Chat.prototype.fetchLatestConversations = function (lastUpdatedAt) {
        return __awaiter(this, void 0, void 0, function () {
            var urlString, conversations;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        urlString = lastUpdatedAt ? '?lastUpdatedAt=' + new Date(lastUpdatedAt).getTime() : '';
                        return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/chat' + urlString, this.authService.httpAuthOptions).toPromise()];
                    case 1:
                        conversations = _a.sent();
                        if (!urlString && conversations && conversations.length) { // if loading conversations for the first time, do a sort by updatedAt in descending order
                            conversations.sort(function (a, b) {
                                var c = new Date(a.conversation.updatedAt);
                                var d = new Date(b.conversation.updatedAt);
                                return (d - c);
                            });
                        }
                        return [2 /*return*/, conversations];
                }
            });
        });
    };
    Chat.prototype.findLatestTimeStamp = function (conversations) {
        var latestTimeStamp = 0;
        conversations.forEach(function (obj) {
            latestTimeStamp = (new Date(obj.conversation.updatedAt).getTime() > new Date(latestTimeStamp).getTime()) ? obj.conversation.updatedAt : latestTimeStamp;
        });
        return latestTimeStamp;
    };
    Chat.prototype.refreshTabBadges = function () {
        return __awaiter(this, void 0, void 0, function () {
            var churches, connectTabBadge, conversations;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        churches = [];
                        if (this.userData.user.churches && this.userData.user.churches.length) {
                            churches = this.userData.user.churches.map(function (c) { return { _id: c._id, badge: 0 }; });
                        }
                        connectTabBadge = 0;
                        return [4 /*yield*/, this.getAllUserConversations()];
                    case 1:
                        conversations = _a.sent();
                        if (conversations) {
                            conversations.forEach(function (obj) {
                                if (obj.data && obj.data.badge)
                                    connectTabBadge += obj.data.badge;
                                if (obj.conversation.type === 'group' && obj.conversation.group.churchId) { // increment community badges
                                    churches.forEach(function (church) {
                                        if (church._id === obj.conversation.group.churchId) {
                                            church.badge += obj.data.badge;
                                        }
                                    });
                                }
                                else { // increment Restvo badges
                                    churches.forEach(function (church) {
                                        if (church._id === "5ab62be8f83e2c1a8d41f894") {
                                            church.badge += obj.data.badge;
                                        }
                                    });
                                }
                            });
                            churches.forEach(function (church) {
                                _this.userData.user.churches.forEach(function (userChurch) {
                                    if (userChurch._id === church._id) {
                                        userChurch.badge = church.badge;
                                    }
                                });
                            });
                            // console.log("badge: ", this.connectTabBadge); //TODO:Uncomment
                            this.connectTabBadge = connectTabBadge;
                            if (this.platform.is('cordova') && this.userData.user.enablePushNotification) {
                                this.badge.set(this.connectTabBadge);
                            }
                            if (this.electronService.isElectronApp) {
                                this.electronService.ipcRenderer.send('SYSTEM_TRAY:::SET_BADGE', (this.connectTabBadge > -1) ? this.connectTabBadge : 0);
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ;
    Chat.prototype.getConversationByRecipientId = function (recipientId, returnRecipientData, programId) {
        return this.http.get(this.networkService.domain + '/api/chat/check/' + recipientId + (returnRecipientData ? '?version=2' : '' + (programId ? '&programId=' + programId : '')), this.authService.httpAuthOptions)
            .toPromise();
    };
    ;
    Chat.prototype.getConversationById = function (conversationId, pageNum) {
        return this.http.get(this.networkService.domain + '/api/chat/' + conversationId + '?pageNum=' + pageNum, this.authService.httpAuthOptions)
            .toPromise();
    };
    ;
    Chat.prototype.newConversation = function (recipientId, message) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/chat/new/' + recipientId, JSON.stringify(message), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.userData.socket.emit('refresh user status', recipientId, { type: 'connect conversation' });
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'connect conversation' });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Chat.prototype.resetBadgeCount = function (conversationId) {
        return this.http.post(this.networkService.domain + '/api/chat/resetbadgecount/' + conversationId, {}, this.authService.httpAuthOptions)
            .toPromise();
    };
    ;
    Chat.prototype.sendReply = function (conversationId, serverData, socketData) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/chat/' + conversationId, JSON.stringify(serverData), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        if (serverData.groupId) {
                            socketData.group = { _id: serverData.groupId, name: serverData.groupName };
                        }
                        this.socket.emit('send message', conversationId, socketData);
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Chat.prototype.notifyOfInvitation = function (conversations, moment, user_list) {
        return __awaiter(this, void 0, void 0, function () {
            var peopleComponentId, inviteeLabel_1;
            var _this = this;
            return __generator(this, function (_a) {
                try {
                    peopleComponentId = moment.resource.matrix_number[0].indexOf(10500);
                    inviteeLabel_1 = 'Participant';
                    if (peopleComponentId > -1) {
                        switch (user_list) {
                            case 'user_list_1':
                                inviteeLabel_1 = moment.matrix_string[peopleComponentId].length && moment.matrix_string[peopleComponentId].length > 2 && moment.matrix_string[peopleComponentId][2] ? moment.matrix_string[peopleComponentId][2] : moment.resource['en-US'].matrix_string[peopleComponentId][4];
                                break;
                            case 'user_list_2':
                                inviteeLabel_1 = moment.matrix_string[peopleComponentId].length && moment.matrix_string[peopleComponentId].length > 4 && moment.matrix_string[peopleComponentId][4] ? moment.matrix_string[peopleComponentId][4] : moment.resource['en-US'].matrix_string[peopleComponentId][6];
                                break;
                            case 'user_list_3':
                                inviteeLabel_1 = moment.matrix_string[peopleComponentId].length && moment.matrix_string[peopleComponentId].length > 0 && moment.matrix_string[peopleComponentId][0] ? moment.matrix_string[peopleComponentId][0] : moment.resource['en-US'].matrix_string[peopleComponentId][8];
                                break;
                        }
                    }
                    conversations.forEach(function (obj) {
                        if (obj.conversation.type === 'self')
                            return; // selecting the user's own profile will result in a non-existent conversation record. For more info, consult addSelfToConversation()
                        _this.sendReply(obj.conversation._id, {
                            composedMessage: _this.userData.user.first_name + ' ' + _this.userData.user.last_name + ' added you as ' + inviteeLabel_1,
                            page: obj.conversation.type === 'connect' ? "MessagePage" : "GroupmessagePage",
                            groupId: obj.conversation.type === 'connect' ? null : obj.conversation.group._id,
                            groupName: obj.conversation.type === 'connect' ? null : obj.conversation.group.name
                        }, {
                            conversationId: obj.conversation._id,
                            body: _this.userData.user.first_name + ' ' + _this.userData.user.last_name + ' has added you as ' + inviteeLabel_1,
                            createdAt: new Date(),
                            author: {
                                _id: _this.userData.user._id,
                                first_name: _this.userData.user.first_name,
                                last_name: _this.userData.user.last_name,
                                avatar: _this.userData.user.avatar
                            },
                            status: "pending",
                            confirmId: Math.random()
                        });
                        setTimeout(function () {
                            _this.sendReply(obj.conversation._id, {
                                moment: moment._id,
                                page: obj.conversation.type === 'connect' ? "MessagePage" : "GroupmessagePage",
                                groupId: obj.conversation.type === 'connect' ? null : obj.conversation.group._id,
                                groupName: obj.conversation.type === 'connect' ? null : obj.conversation.group.name
                            }, {
                                conversationId: obj.conversation._id,
                                moment: moment,
                                createdAt: new Date(),
                                author: {
                                    _id: _this.userData.user._id,
                                    first_name: _this.userData.user.first_name,
                                    last_name: _this.userData.user.last_name,
                                    avatar: _this.userData.user.avatar
                                },
                                status: "pending",
                                confirmId: Math.random()
                            });
                        }, 1000);
                    });
                }
                catch (err) {
                    console.log(err);
                }
                return [2 /*return*/];
            });
        });
    };
    Chat.prototype.eraseUserMessages = function (memberId, conversationId) {
        return this.http.put(this.networkService.domain + '/api/chat/erasemessages', JSON.stringify({
            memberId: memberId,
            conversationId: conversationId
        }), this.authService.httpAuthOptions).toPromise();
    };
    ;
    Chat.prototype.shareContactInfo = function (conversationId) {
        return this.http.put(this.networkService.domain + '/api/chat/sharecontactinfo/' + conversationId, {}, this.authService.httpAuthOptions)
            .toPromise();
    };
    Chat.prototype.blockConversation = function (conversationId, recipientId, data) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/chat/block/' + conversationId, data, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.userData.socket.emit('refresh user status', recipientId, { type: 'disconnect conversation', conversationId: conversationId });
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'disconnect conversation', conversationId: conversationId });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Chat.prototype.unblockConversation = function (conversationId, recipientId) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/chat/unblock/' + conversationId, null, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'connect conversation', data: { _id: conversationId } });
                        this.userData.socket.emit('refresh user status', recipientId, { type: 'connect conversation', data: { _id: conversationId } });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Chat.prototype.deleteConversation = function (conversationId, recipientId) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                promise = this.http.delete(this.networkService.domain + '/api/chat/' + conversationId, this.authService.httpAuthOptions).toPromise();
                this.userData.socket.emit('refresh user status', recipientId, { type: 'disconnect conversation', conversationId: conversationId });
                this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'disconnect conversation', conversationId: conversationId });
                return [2 /*return*/, promise];
            });
        });
    };
    ;
    Chat.prototype.togglePushNotification = function (conversationId, preference) {
        return this.http.put(this.networkService.domain + '/api/chat/pushnotification/' + conversationId, JSON.stringify({ preference: preference }), this.authService.httpAuthOptions).toPromise();
    };
    Chat.prototype.toggleRestStatus = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var expiredAt, expiredAt, expiredAt, err_4;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 9, , 10]);
                        if (!!this.userData.user.hasOwnProperty('restSchedule')) return [3 /*break*/, 3];
                        expiredAt = new Date(new Date().getTime() + 8 * 60 * 60 * 1000);
                        return [4 /*yield*/, this.userData.update({ restSchedule: { breakExpiredAt: expiredAt } })];
                    case 2:
                        _a.sent();
                        this.userData.UIrestStatus = 'away';
                        this.conversations.forEach(function (obj) {
                            _this.socket.emit('online status', obj.conversation._id, _this.userData.user._id, { action: 'ping', state: 'offline', origin: _this.socket.id });
                        });
                        return [3 /*break*/, 8];
                    case 3: return [4 /*yield*/, this.userData.checkRestExpired()];
                    case 4:
                        if (!_a.sent()) return [3 /*break*/, 6];
                        console.log("to away");
                        expiredAt = new Date(new Date().getTime() + 8 * 60 * 60 * 1000);
                        return [4 /*yield*/, this.userData.update({ restSchedule: { breakExpiredAt: expiredAt } })];
                    case 5:
                        _a.sent();
                        this.userData.UIrestStatus = 'away';
                        this.conversations.forEach(function (obj) {
                            _this.socket.emit('online status', obj.conversation._id, _this.userData.user._id, { action: 'ping', state: 'offline', origin: _this.socket.id });
                        });
                        return [3 /*break*/, 8];
                    case 6:
                        console.log("to active");
                        expiredAt = new Date(new Date().getTime() - 60 * 60 * 1000);
                        return [4 /*yield*/, this.userData.update({ restSchedule: { breakExpiredAt: expiredAt } })];
                    case 7:
                        _a.sent();
                        this.userData.UIrestStatus = 'active';
                        this.conversations.forEach(function (obj) {
                            _this.socket.emit('online status', obj.conversation._id, _this.userData.user._id, { action: 'ping', state: 'online', origin: _this.socket.id });
                        });
                        _a.label = 8;
                    case 8: return [3 /*break*/, 10];
                    case 9:
                        err_4 = _a.sent();
                        console.log(err_4);
                        return [3 /*break*/, 10];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    // add user's own profile to the conversation list for display purposes. used in this.addParticipants
    Chat.prototype.addSelfToConversation = function () {
        if (!this.conversations.find(function (c) { return c.conversation.type === 'self'; })) {
            this.conversations.unshift({
                conversation: {
                    _id: this.userData.user._id,
                    type: 'self',
                    updatedAt: new Date().toISOString()
                },
                data: {
                    name: this.userData.user.first_name + ' ' + this.userData.user.last_name,
                    participant: {
                        _id: this.userData.user._id,
                        first_name: this.userData.user.first_name,
                        last_name: this.userData.user.last_name,
                        avatar: this.userData.user.avatar
                    }
                },
            });
        }
    };
    Chat.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_4__["ElectronService"] },
        { type: _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_3__["Badge"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_12__["Storage"] }
    ]; };
    Chat = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_13__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_4__["ElectronService"],
            _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_3__["Badge"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _user_service__WEBPACK_IMPORTED_MODULE_9__["UserData"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_12__["Storage"]])
    ], Chat);
    return Chat;
}());



/***/ }),

/***/ "./src/app/services/church.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/church.service.ts ***!
  \********************************************/
/*! exports provided: Churches */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Churches", function() { return Churches; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _board_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./board.service */ "./src/app/services/board.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};










var Churches = /** @class */ (function () {
    function Churches(http, alertCtrl, authService, boardService, networkService, userData) {
        this.http = http;
        this.alertCtrl = alertCtrl;
        this.authService = authService;
        this.boardService = boardService;
        this.networkService = networkService;
        this.userData = userData;
    }
    Churches.prototype.findOnMap = function (userLocation, searchKeyword, searchRadius, searchType, pageNum, communityFilter) {
        return this.http.get(this.networkService.domain + '/api/church/findonmap?lat=' + userLocation.lat + '&lng=' + userLocation.lng + '&keyword=' + searchKeyword + '&radius=' + searchRadius + '&type=' + searchType + '&page=' + pageNum + '&community=' + communityFilter, this.authService.httpOptions)
            .toPromise();
    };
    Churches.prototype.loadListOfChurchProfiles = function (searchPhrase) {
        return this.http.get(this.networkService.domain + '/api/church/search/' + searchPhrase, this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.loadAllChurchProfiles = function (searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/church?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum, this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.loadChurchProfile = function (id) {
        return this.http.get(this.networkService.domain + '/api/church/load/' + id, this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.reportUserAbuse = function (reportedUser) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Report ' + reportedUser.first_name,
                            message: 'You are about to report ' + reportedUser.name + ' for a violation of our terms of use. You can describe the violation below.',
                            inputs: [{
                                    name: 'report',
                                    type: 'text',
                                    placeholder: '(Optional) Describe the violation'
                                }],
                            buttons: [{
                                    text: 'Submit Report',
                                    handler: function (data) {
                                        _this.reportUserAbuseHttp(reportedUser, data.report);
                                    }
                                }, { text: 'Cancel' }],
                            cssClass: 'level-15'
                        })];
                    case 1:
                        alert = _a.sent();
                        alert.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    Churches.prototype.reportUserAbuseHttp = function (reportedUser, report) {
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = {
                            reportedUser: reportedUser,
                            reportHistory: {
                                reportedBy: this.userData.user._id,
                                report: report,
                                reportedAt: new Date()
                            }
                        };
                        return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/church/reportUserAbuse', JSON.stringify(data), this.authService.httpAuthOptions).toPromise()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Churches.prototype.checkAbuseReport = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/church/checkabusereport/' + id, this.authService.httpAuthOptions).toPromise()];
                    case 1:
                        _a.abuseReports = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Churches.prototype.clearAbuseReport = function (churchId, recipient) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/church/clearabusereport/' + churchId, JSON.stringify({ reportedUser: recipient }), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.userData.refreshUserStatus({ type: 'refresh manage page' }); //send to self to update managecommunities page
                        this.userData.refreshUserStatus({ type: 'update member' }); //send to self to update manage-members page
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'update member' }); //send to other devices to update manage-members page
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Churches.prototype.loadChurchAppUsers = function (churchId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/church/appusers/' + churchId + '?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum.toString(), this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.loadListOfChurchMembersProfiles = function (churchId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/church/loadmembers/' + churchId + '?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum.toString(), this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.loadChurchGroupProfiles = function (id, published) {
        return this.http.get(this.networkService.domain + '/api/church/loadgroups/' + id + '?published=' + published, this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.loadAllChurchGroupProfiles = function (churchId) {
        return this.http.get(this.networkService.domain + '/api/church/loadallgroups/' + churchId, this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.loadAllCommunityActivities = function (churchId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/church/activities/' + churchId + '?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum + '&version=1', this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.createChurchProfile = function (church) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/church/create', JSON.stringify(church), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.userData.load()];
                    case 2:
                        _a.sent();
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'update church participation' });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Churches.prototype.updateChurchProfile = function (profile) {
        return this.http.put(this.networkService.domain + '/api/church/update', JSON.stringify(profile), this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.addAdmin = function (churchId, admin) {
        return this.http.put(this.networkService.domain + '/api/church/addadmin/' + churchId, JSON.stringify(admin), this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.removeAdmin = function (churchId, admin) {
        return this.http.put(this.networkService.domain + '/api/church/removeadmin/' + churchId, JSON.stringify(admin), this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.editCommunityBoard = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var promise, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/church/editchurchboard', JSON.stringify(data), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _b.sent();
                        return [4 /*yield*/, this.userData.load()];
                    case 2:
                        _b.sent();
                        _a = this.userData;
                        return [4 /*yield*/, this.boardService.loadUserChurchBoards()];
                    case 3:
                        _a.communitiesboards = _b.sent(); //in case of a board group
                        this.userData.socket.emit('refresh user status', this.userData.user._id, {
                            type: 'update group participation',
                            conversationId: "all"
                        });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Churches.prototype.inviteNewAppUsers = function (data) {
        return this.http.post(this.networkService.domain + '/api/church/inviteNewAppUsers', JSON.stringify(data), this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.invitePendingMembers = function (data) {
        return this.http.post(this.networkService.domain + '/api/church/invitePendingMembers', JSON.stringify(data), this.authService.httpAuthOptions)
            .toPromise();
    };
    Churches.prototype.approveCommunity = function (id) {
        return this.http.put(this.networkService.domain + '/api/church/approve/' + id, {}, this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.unlistCommunity = function (id) {
        return this.http.put(this.networkService.domain + '/api/church/unlist/' + id, {}, this.authService.httpAuthOptions).toPromise();
    };
    Churches.prototype.getAppUserUsage = function (id) {
        return this.http.get(this.networkService.domain + '/api/church/appusersusage/' + id, this.authService.httpAuthOptions).toPromise();
    };
    Churches.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_7__["Auth"] },
        { type: _board_service__WEBPACK_IMPORTED_MODULE_9__["Board"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"] }
    ]; };
    Churches = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["AlertController"],
            _auth_service__WEBPACK_IMPORTED_MODULE_7__["Auth"],
            _board_service__WEBPACK_IMPORTED_MODULE_9__["Board"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"],
            _user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"]])
    ], Churches);
    return Churches;
}());



/***/ }),

/***/ "./src/app/services/group.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/group.service.ts ***!
  \*******************************************/
/*! exports provided: Groups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Groups", function() { return Groups; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _chat_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _board_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./board.service */ "./src/app/services/board.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};










var Groups = /** @class */ (function () {
    function Groups(http, authService, networkService, boardService, chatService, userData) {
        this.http = http;
        this.authService = authService;
        this.networkService = networkService;
        this.boardService = boardService;
        this.chatService = chatService;
        this.userData = userData;
    }
    Groups.prototype.loadListOfGroupProfiles = function (searchPhrase) {
        return this.http.get(this.networkService.domain + '/api/group/search/' + searchPhrase, this.authService.httpAuthOptions).toPromise();
    };
    Groups.prototype.loadAllGroupProfiles = function () {
        return this.http.get(this.networkService.domain + '/api/group', this.authService.httpAuthOptions).toPromise();
    };
    Groups.prototype.loadGroupProfile = function (id) {
        return this.http.get(this.networkService.domain + '/api/group/loadgroup/' + id, this.authService.httpAuthOptions).toPromise();
    };
    Groups.prototype.loadPublicGroup = function (id) {
        return this.http.get(this.networkService.domain + '/api/group/public/' + id, this.authService.httpOptions).toPromise();
    };
    Groups.prototype.loadGroupMembers = function (groupId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/group/loadmembers/' + groupId + '?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum.toString(), this.authService.httpAuthOptions)
            .toPromise();
    };
    Groups.prototype.updateGroupProfile = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/group/update', JSON.stringify(group), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.userData.load()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Groups.prototype.flagGroup = function (profile) {
        var promise = this.http.put(this.networkService.domain + '/api/group/flag', JSON.stringify(profile), this.authService.httpAuthOptions).toPromise();
        this.userData.refreshUserStatus({ type: 'refresh manage page' });
        return promise;
    };
    Groups.prototype.createGroupProfile = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var createdGroup, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.createGroupHTTP(group)];
                    case 1:
                        createdGroup = _b.sent();
                        return [4 /*yield*/, this.userData.load()];
                    case 2:
                        _b.sent();
                        if (!createdGroup.board) return [3 /*break*/, 4];
                        _a = this.userData;
                        return [4 /*yield*/, this.boardService.loadUserChurchBoards()];
                    case 3:
                        _a.communitiesboards = _b.sent(); //in case of a board group
                        _b.label = 4;
                    case 4:
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'update group participation', conversationId: "all" });
                        return [2 /*return*/, createdGroup];
                }
            });
        });
    };
    Groups.prototype.createGroupHTTP = function (group) {
        return this.http.post(this.networkService.domain + '/api/group/create', JSON.stringify(group), this.authService.httpAuthOptions)
            .toPromise();
    };
    Groups.prototype.deleteGroupProfile = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var promise, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/group/delete', JSON.stringify(group), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _b.sent();
                        return [4 /*yield*/, this.userData.load()];
                    case 2:
                        _b.sent();
                        this.userData.refreshUserStatus({ type: 'close group view', data: { _id: group._id } });
                        if (group.conversation) {
                            //this.authService.refreshGroupStatus({conversationId: group.conversation, data: group});
                            this.authService.chatSocketMessage({ topic: 'chat socket emit', conversationId: group.conversation, data: { action: 'leave group', groupId: group._id } });
                        }
                        if (!group.board) return [3 /*break*/, 4];
                        _a = this.userData;
                        return [4 /*yield*/, this.boardService.loadUserChurchBoards()];
                    case 3:
                        _a.communitiesboards = _b.sent();
                        this.userData.refreshUserStatus({ type: 'refresh community board page' });
                        _b.label = 4;
                    case 4:
                        this.userData.refreshUserStatus({ type: 'leave group', groupId: group._id });
                        this.userData.refreshMyConversations({ action: 'reload', conversationId: 'all' });
                        this.userData.socket.emit('refresh user status', this.userData.user._id, { type: 'leave group', groupId: group._id });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Groups.prototype.inviteNewGroupMember = function (data) {
        return this.http.put(this.networkService.domain + '/api/group/invite', JSON.stringify(data), this.authService.httpAuthOptions).toPromise();
    };
    Groups.prototype.addEmailToGroup = function (data) {
        return this.http.post(this.networkService.domain + '/api/group/addemail', JSON.stringify(data), this.authService.httpAuthOptions).toPromise();
    };
    Groups.prototype.inviteNewAppUsers = function (data) {
        return this.http.post(this.networkService.domain + '/api/group/inviteNewAppUsers', JSON.stringify(data), this.authService.httpAuthOptions)
            .toPromise();
    };
    Groups.prototype.addNewAppUsers = function (data) {
        return this.http.post(this.networkService.domain + '/api/group/addNewAppUsers', JSON.stringify(data), this.authService.httpAuthOptions)
            .toPromise();
    };
    Groups.prototype.invitePendingMembers = function (data) {
        return this.http.post(this.networkService.domain + '/api/group/invitePendingMembers', JSON.stringify(data), this.authService.httpAuthOptions)
            .toPromise();
    };
    Groups.prototype.removeUserFromGroup = function (data) {
        return this.http.put(this.networkService.domain + '/api/group/removeuser', JSON.stringify(data), this.authService.httpAuthOptions).toPromise();
    };
    Groups.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_6__["Auth"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_5__["NetworkService"] },
        { type: _board_service__WEBPACK_IMPORTED_MODULE_9__["Board"] },
        { type: _chat_service__WEBPACK_IMPORTED_MODULE_8__["Chat"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"] }
    ]; };
    Groups = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _auth_service__WEBPACK_IMPORTED_MODULE_6__["Auth"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_5__["NetworkService"],
            _board_service__WEBPACK_IMPORTED_MODULE_9__["Board"],
            _chat_service__WEBPACK_IMPORTED_MODULE_8__["Chat"],
            _user_service__WEBPACK_IMPORTED_MODULE_7__["UserData"]])
    ], Groups);
    return Groups;
}());



/***/ }),

/***/ "./src/app/services/map.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/map.service.ts ***!
  \*****************************************/
/*! exports provided: MapService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapService", function() { return MapService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic-native/geolocation/ngx */ "./node_modules/@ionic-native/geolocation/ngx/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var MapService = /** @class */ (function () {
    function MapService(router, platform, storage, geolocation, userData) {
        this.router = router;
        this.platform = platform;
        this.storage = storage;
        this.geolocation = geolocation;
        this.userData = userData;
        this.mapURL = {};
        this.addressURL = {};
        this.loadCompleted = false;
        this.totalVoteCount = {};
        this.userLocation = {
            lat: 37.7988255,
            lng: -122.1832307
        };
        this.userZoom = 10;
        this.searchKeyword = '';
        this.searchRadius = 10;
        this.pageNum = 0;
        this.reachedEnd = true;
        this.markers = [];
        this.mapReady = false;
        this.geolocationReady = false;
        this.showFilter = false;
        this.resultListHeight = 100;
        this.autoZoomState = 'in';
        this.filterSelections = [true, false, true, true, true];
        this.UIready = true;
        this.ionSpinner = false;
        this.loadAPIBusy = false;
    }
    // Map
    MapService.prototype.setupMap = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pos, zoom;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log('setting up');
                        this.loadStoredLocation();
                        this.loadMap();
                        return [4 /*yield*/, this.storage.get('userLocation')];
                    case 1:
                        pos = _a.sent();
                        if (pos) {
                            this.userLocation = pos;
                        }
                        return [4 /*yield*/, this.storage.get('userZoom')];
                    case 2:
                        zoom = _a.sent();
                        if (zoom) {
                            this.userZoom = zoom;
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    MapService.prototype.loadStoredLocation = function () {
        return __awaiter(this, void 0, void 0, function () {
            var pos, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.storage.get('userLocation')];
                    case 1:
                        pos = _a.sent();
                        if (pos) {
                            console.log("Geolocation Latitude is: " + pos.lat + "Longitude is: " + pos.lng);
                            this.userLocation = pos;
                        }
                        else {
                            this.userLocation = {
                                lat: 37.7988255,
                                lng: -122.1832307
                            };
                        }
                        this.geolocationReady = true;
                        return [3 /*break*/, 3];
                    case 2:
                        err_1 = _a.sent();
                        console.log('Error getting location', err_1);
                        this.userLocation = {
                            lat: 37.7988255,
                            lng: -122.1832307
                        };
                        this.geolocationReady = true;
                        return [3 /*break*/, 3];
                    case 3:
                        this.initializeMapCenter();
                        return [2 /*return*/];
                }
            });
        });
    };
    MapService.prototype.getCurrentLocation = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var position, pos, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        event.stopPropagation();
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.geolocation.getCurrentPosition()];
                    case 2:
                        position = _a.sent();
                        pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        console.log("Geolocation Latitude is: " + pos.lat + "Longitude is: " + pos.lng);
                        //this.updateMap(yourPosition);
                        this.userLocation = pos;
                        this.storage.set('userLocation', this.userLocation);
                        this.geolocationReady = true;
                        return [3 /*break*/, 4];
                    case 3:
                        err_2 = _a.sent();
                        console.log('Error getting location', err_2);
                        return [3 /*break*/, 4];
                    case 4:
                        this.initializeMapCenter();
                        return [2 /*return*/];
                }
            });
        });
    };
    MapService.prototype.initializeMapCenter = function () {
        if (this.mapReady && this.geolocationReady) {
            this.map.setCenter(this.userLocation);
            this.userData.refreshUserStatus({ type: 'search map' });
        }
    };
    MapService.prototype.loadMap = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                //Add your Unwired Maps Access Token here (not the API token!)
                unwired.key = mapboxgl.accessToken = 'pk.e5797fe100f9aa5732d5346f742b243f';
                //Define the map and configure the map's theme
                this.map = new mapboxgl.Map({
                    container: 'mapCanvas',
                    attributionControl: false,
                    style: unwired.getLayer("streets"),
                    zoom: this.userZoom,
                    center: [this.userLocation.lng, this.userLocation.lat]
                });
                this.map.on('load', function () {
                    setTimeout(function () {
                        _this.map.resize();
                    }, 500);
                    _this.mapReady = true;
                    _this.initializeMapCenter();
                });
                this.map.on('click', function () {
                    _this.autoZoomMap(true);
                });
                this.map.on('dblclick', function () {
                    _this.map.easeTo({
                        center: [_this.userLocation.lng, _this.userLocation.lat],
                        zoom: _this.userZoom++
                    });
                });
                this.map.on('dragend', function () {
                    _this.userLocation = {
                        lat: _this.map.getCenter().lat,
                        lng: _this.map.getCenter().lng
                    };
                    _this.storage.set('userLocation', _this.userLocation);
                });
                this.map.on('zoomend', function () {
                    _this.userZoom = _this.map.getZoom();
                    _this.storage.set('userZoom', _this.map.getZoom());
                });
                return [2 /*return*/];
            });
        });
    };
    MapService.prototype.renderMarkers = function () {
        var _this = this;
        if (this.mapData && this.mapData.length) {
            var _loop_1 = function (i) {
                // only plot Groups, Communities that have 'Point' type geoJSON data, ignore People that have 'MultiPoint' geoJSON type
                if (this_1.mapData[i].location.geo && !Array.isArray(this_1.mapData[i].location.geo.coordinates[0]) && !Array.isArray(this_1.mapData[i].location.geo.coordinates[1])) {
                    this_1.userLocation.lng = this_1.mapData[i].location.geo.coordinates[0]; // mark the first search result's coordinate as the new center
                    this_1.userLocation.lat = this_1.mapData[i].location.geo.coordinates[1]; // mark the first search result's coordinate as the new center
                    var markerData_1 = this_1.mapData[i];
                    var el = document.createElement('div');
                    el.className = 'marker';
                    el.innerHTML = '<div><p>' + (i + 1).toString() + '</p></div>';
                    el.style.width = '30px';
                    el.style.height = '30px';
                    //Instead of this click listener, we can attach a popup / infowindow to this marker (see next section)
                    el.addEventListener('click', function () {
                        _this.clickList(markerData_1);
                    });
                    // add marker to map
                    var marker = new mapboxgl.Marker(el)
                        .setLngLat([markerData_1.location.geo.coordinates[0] + this_1.randCoordinates(markerData_1, 'lng'), markerData_1.location.geo.coordinates[1] + this_1.randCoordinates(markerData_1, 'lat')])
                        .addTo(this_1.map);
                    this_1.markers.push(marker);
                }
            };
            var this_1 = this;
            for (var i = this.mapData.length - 1; i > -1; i--) {
                _loop_1(i);
            }
        }
        this.autoZoomMap(false);
    };
    MapService.prototype.autoZoomMap = function (zoomIn) {
        console.log("zooming");
        this.showFilter = false;
        var factor = 0;
        if (zoomIn) { // zomming in
            if (this.autoZoomState === 'out') {
                //this.userZoom++;
                this.autoZoomState = 'in';
                factor = 45 * Math.cos(this.userLocation.lat * Math.PI / 180) / Math.pow(2, this.userZoom);
                console.log("autoZoom", this.autoZoomState, factor, this.userLocation);
            }
        }
        else { // zoming out
            if (this.autoZoomState === 'in') {
                //this.userZoom--;
                this.autoZoomState = 'out';
                factor = 90 * Math.cos(this.userLocation.lat * Math.PI / 180) / Math.pow(2, this.userZoom);
                console.log("autoZoom", this.autoZoomState, factor, this.userLocation);
            }
        }
        this.map.easeTo({
            center: [this.userLocation.lng, this.userLocation.lat],
            zoom: this.userZoom
        });
    };
    MapService.prototype.clickList = function (data) {
        console.log("data", data);
        if (data.user) {
            data._id = data.user;
            if (data.images && data.images.length) {
                data.avatar = data.images[0];
            }
            this.userData.refreshUserStatus({ type: 'show recipient', data: data });
        }
        else if (data.moment) {
            this.router.navigateByUrl('/app/discover/activity/' + data.moment._id);
        }
        else if (data.church) {
            this.router.navigateByUrl('/connect/' + data.church);
        }
    };
    /*  async seeUserInfo(event, user) {
        if (event) event.stopPropagation();
        user.name = user.first_name + ' ' + user.last_name;
        const recipientModal = await this.modalCtrl.create({component: ShowrecipientinfoPage, componentProps: {recipient: user, modalPage: true}} );
        await recipientModal.present();
      }*/
    MapService.prototype.randCoordinates = function (entity, latLng) {
        if (entity.location.street) {
            return 0;
        }
        var sum_of_id = 0;
        for (var i = 0; i < entity._id.length; i++) {
            sum_of_id += entity._id.charAt(i).charCodeAt(0); //sum up all the characters in the _id string
        }
        if (latLng === 'lat') {
            return Math.ceil(parseInt(sum_of_id.toString().charAt(1)) / 10 - 0.5) * parseFloat(sum_of_id.toString().charAt(sum_of_id.toString().length - 1)) / 1000; //grab the last digit of the sum total
        }
        else {
            return Math.ceil(parseInt(sum_of_id.toString().charAt(1)) / 10 - 0.5) * parseFloat(sum_of_id.toString().charAt(sum_of_id.toString().length - 2)) / 1000; //grab the second to the last digit of the sum total
        }
    };
    MapService.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_3__["Geolocation"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_5__["UserData"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"], { static: false }),
        __metadata("design:type", _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonInfiniteScroll"])
    ], MapService.prototype, "infiniteScroll", void 0);
    MapService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _ionic_native_geolocation_ngx__WEBPACK_IMPORTED_MODULE_3__["Geolocation"],
            _user_service__WEBPACK_IMPORTED_MODULE_5__["UserData"]])
    ], MapService);
    return MapService;
}());



/***/ }),

/***/ "./src/app/services/moment.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/moment.service.ts ***!
  \********************************************/
/*! exports provided: Moment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Moment", function() { return Moment; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _aws_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aws.service */ "./src/app/services/aws.service.ts");
/* harmony import */ var _chat_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chat.service */ "./src/app/services/chat.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _response_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./response.service */ "./src/app/services/response.service.ts");
/* harmony import */ var _resource_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./resource.service */ "./src/app/services/resource.service.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
/* harmony import */ var _calendar_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _pages_feature_pickpeople_popover_pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../pages/feature/pickpeople-popover/pickpeople-popover.page */ "./src/app/pages/feature/pickpeople-popover/pickpeople-popover.page.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __read = (undefined && undefined.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (undefined && undefined.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};

















var Moment = /** @class */ (function () {
    function Moment(http, platform, alertCtrl, modalCtrl, awsService, authService, userData, chatService, responseService, resourceService, calendarService, networkService) {
        this.http = http;
        this.platform = platform;
        this.alertCtrl = alertCtrl;
        this.modalCtrl = modalCtrl;
        this.awsService = awsService;
        this.authService = authService;
        this.userData = userData;
        this.chatService = chatService;
        this.responseService = responseService;
        this.resourceService = resourceService;
        this.calendarService = calendarService;
        this.networkService = networkService;
        this.icons = [
            {
                field: 'Track',
                url: 'assets/img/Peak_Gray.png',
                color: 'primary'
            },
            {
                field: 'Meetup',
                url: 'assets/img/transparent-avatar.png',
                color: 'tertiary'
            },
            {
                field: 'Goal',
                url: 'assets/img/Peak_Gray.png',
                color: 'success'
            },
            {
                field: 'Event',
                url: 'assets/img/Calendar_Gray.png',
                color: 'tertiary'
            },
            {
                field: 'Poll',
                url: 'assets/img/Poll_Gray.png',
                color: 'success'
            },
            {
                field: 'User Defined Activity',
                url: 'assets/img/Calendar_Gray.png',
                color: 'primary'
            },
        ];
        this._openMoment = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this._editMoment = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this._refreshMoment = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this._manageMoment = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this._openPreferences = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this._editParticipants = new rxjs__WEBPACK_IMPORTED_MODULE_16__["BehaviorSubject"](null);
        this.openMoment$ = this._openMoment.asObservable();
        this.editMoment$ = this._editMoment.asObservable();
        this.refreshMoment$ = this._refreshMoment.asObservable();
        this.manageMoment$ = this._manageMoment.asObservable();
        this.openPreferences$ = this._openPreferences.asObservable();
        this.editParticipants$ = this._editParticipants.asObservable();
    }
    Moment.prototype.openMoment = function (data) {
        this._openMoment.next(data);
    };
    Moment.prototype.editMoment = function (data) {
        this._editMoment.next(data);
    };
    Moment.prototype.refreshMoment = function (data) {
        this._refreshMoment.next(data);
    };
    Moment.prototype.manageMoment = function (data) {
        this._manageMoment.next(data);
    };
    Moment.prototype.openPreferences = function (data) {
        this._openPreferences.next(data);
    };
    Moment.prototype.editParticipants = function (data) {
        this._editParticipants.next(data);
    };
    Moment.prototype.createMomentSocket = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.platform.is('cordova') || (this.networkService.domain !== 'https://server.restvo.com')) {
                    // turn off long polling for mobile apps. Without long polling, this will fail when connecting behind firewall
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_14__(this.networkService.domain + '/moments-namespace', { transports: ['websocket'] }); // only for mobile apps
                }
                else {
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_14__(this.networkService.domain + '/moments-namespace');
                }
                this.socket.on('connect', function () {
                });
                this.socket.on('refresh moment', function (momentId, data) { return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        this.refreshMoment({ momentId: momentId, data: data });
                        console.log('refresh moment');
                        return [2 /*return*/];
                    });
                }); });
                return [2 /*return*/];
            });
        });
    };
    Moment.prototype.load = function (id) {
        return this.http.get(this.networkService.domain + '/api/moment/' + id, this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadUserPreferences = function (pageNum, programId, type) {
        return this.http.get(this.networkService.domain + '/api/moment/preferences?pageNum=' + pageNum + '&programId=' + (programId || '') + '&type=' + (type || ''), this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadProgramOnboardActivities = function (programId, type, returnResponses) {
        return this.http.get(this.networkService.domain + '/api/moment/onboardactivities/' + programId + '?version=' + (returnResponses ? '1' : '') + (type ? '&type=' + type : ''), this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadProgramChildActivities = function (programId, categoryId) {
        return this.http.get(this.networkService.domain + '/api/moment/childactivities/' + programId + '?category=' + categoryId, this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadSampleActivities = function (categoryId) {
        return this.http.get(this.networkService.domain + '/api/moment/samples?version=1&category=' + (categoryId || ''), this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadNotes = function (relationshipId, calendarId) {
        if (this.authService.token) {
            return this.http.get(this.networkService.domain + '/api/moment/notes?relationship=' + (relationshipId || '') + '&calendar=' + (calendarId || ''), this.authService.httpAuthOptions).toPromise();
        }
        else {
            return [];
        }
    };
    Moment.prototype.loadMatchedPeople = function (momentId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/moment/match?momentId=' + momentId + '&searchKeyword=' + searchKeyword + '&pageNum=' + pageNum, this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadOnboardingFlow = function (momentId, searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/moment/onboarding?momentId=' + (momentId || '') + '&searchKeyword=' + searchKeyword + '&pageNum=' + pageNum, this.authService.httpAuthOptions).toPromise();
    };
    Moment.prototype.loadPublicMoment = function (id) {
        return this.http.get(this.networkService.domain + '/api/moment/public/' + id, this.authService.httpOptions).toPromise();
    };
    Moment.prototype.loadPublicActivityByCategory = function (categoryId, pageNum) {
        return this.http.get(this.networkService.domain + '/api/moment/activity/' + categoryId + '?pageNum=' + pageNum).toPromise();
    };
    Moment.prototype.loadPublicActivities = function (searchKeyword, time, pageNum) {
        return this.http.get(this.networkService.domain + '/api/moment/activity/v2' + '?type=moment&time=' + time + '&pageNum=' + pageNum + '&keyword=' + searchKeyword).toPromise();
    };
    Moment.prototype.loadNearbyPublicActivities = function (searchKeyword, searchType, userLocation, pageNum, searchRadius) {
        return this.http.get(this.networkService.domain + '/api/moment/activity/v3' + '?type=' + searchType + '&keyword=' + searchKeyword + '&page=' + pageNum + '&lat=' + userLocation.lat + '&lng=' + userLocation.lng + '&radius=' + searchRadius).toPromise();
    };
    Moment.prototype.create = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var data, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = JSON.parse(JSON.stringify(moment));
                        if (data.resource && data.resource._id) {
                            data.resource = data.resource._id; // depopulate resource before creation
                        }
                        delete data.conversations; // no need to send the converastions field
                        return [4 /*yield*/, this.http.post(this.networkService.domain + '/api/moment/create', JSON.stringify(data), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.chatService.getAllUserConversations()];
                    case 3:
                        _a.sent();
                        this.userData.refreshAppPages();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    ;
    Moment.prototype.clone = function (moments, optOutReason) {
        return __awaiter(this, void 0, void 0, function () {
            var promises;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/clone', JSON.stringify({ moments: moments, optOutReason: optOutReason }), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promises = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.chatService.getAllUserConversations()];
                    case 3:
                        _a.sent();
                        this.userData.refreshAppPages();
                        return [2 /*return*/, promises];
                }
            });
        });
    };
    Moment.prototype.update = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var data, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        data = JSON.parse(JSON.stringify(moment));
                        if (data.resource && data.resource._id) {
                            data.resource = data.resource._id; //depopulate resource before update
                        }
                        delete data.conversations; //no need to send the converastions field
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/update', JSON.stringify(data), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.chatService.getAllUserConversations()];
                    case 3:
                        _a.sent();
                        this.userData.refreshAppPages();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.adoptPlan = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/plan/adopt', JSON.stringify(data), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        this.userData.refreshAppPages();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.share = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var result, data, promises, err_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(moment.conversations && moment.conversations.length)) return [3 /*break*/, 7];
                        result = '';
                        if (!(moment.calendar && moment.calendar._id)) return [3 /*break*/, 2];
                        data = {
                            operation: 'add to calendar',
                            user_lists: [],
                            momentId: moment._id,
                            conversations: moment.conversations.map(function (obj) { return obj.conversation._id; }),
                            calendarId: moment.calendar._id
                        };
                        if (moment.resource && moment.resource.hasOwnProperty('en-US') && moment.resource['en-US'].value[0] === 'Goal' || moment.resource['en-US'].value[0] === 'Meetup') {
                            data.operation = 'add to lists and calendar';
                            data.user_lists = ['user_list_1', 'user_list_2'];
                        }
                        return [4 /*yield*/, this.updateMomentUserLists(data, null)];
                    case 1:
                        result = _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        result = 'success'; // for feature that doesn't require adding users to the calendar
                        _a.label = 3;
                    case 3:
                        if (!(result === 'success')) return [3 /*break*/, 7];
                        _a.label = 4;
                    case 4:
                        _a.trys.push([4, 6, , 7]);
                        promises = moment.conversations.map(function (obj) { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (!obj.conversation.group) return [3 /*break*/, 2];
                                        return [4 /*yield*/, this.chatService.sendReply(obj.conversation._id, {
                                                moment: moment._id,
                                                page: obj.conversation.type === 'connect' ? "MessagePage" : "GroupmessagePage",
                                                groupId: obj.conversation.type === 'connect' ? null : obj.conversation.group._id,
                                                groupName: obj.conversation.type === 'connect' ? null : obj.conversation.group.name
                                            }, {
                                                conversationId: obj.conversation._id,
                                                moment: moment,
                                                createdAt: new Date(),
                                                author: {
                                                    _id: this.userData.user._id,
                                                    first_name: this.userData.user.first_name,
                                                    last_name: this.userData.user.last_name,
                                                    avatar: this.userData.user.avatar
                                                },
                                                status: "pending",
                                                confirmId: Math.random()
                                            })];
                                    case 1:
                                        _a.sent();
                                        return [3 /*break*/, 4];
                                    case 2: return [4 /*yield*/, this.chatService.sendReply(obj.conversation._id, {
                                            moment: moment._id,
                                            page: obj.conversation.type === 'connect' ? "MessagePage" : "GroupmessagePage"
                                        }, {
                                            conversationId: obj.conversation._id,
                                            moment: moment,
                                            createdAt: new Date(),
                                            author: {
                                                _id: this.userData.user._id,
                                                first_name: this.userData.user.first_name,
                                                last_name: this.userData.user.last_name,
                                                avatar: this.userData.user.avatar
                                            },
                                            status: "pending",
                                            confirmId: Math.random()
                                        })];
                                    case 3:
                                        _a.sent();
                                        _a.label = 4;
                                    case 4: return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 6:
                        err_1 = _a.sent();
                        console.log(err_1);
                        return [3 /*break*/, 7];
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    Moment.prototype.updateMomentUserLists = function (data, token) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/updatemomentuserlists?token=' + token, JSON.stringify(data), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh moment', data.momentId, { type: 'refresh participation' });
                        if (data.operation === 'remove from lists') {
                            data.users.forEach(function (user) {
                                // force reload on user's other devices, including closeGroupView event which forces the user's group chat view to close
                                _this.userData.socket.emit('refresh user status', user, {
                                    type: 'leave group',
                                    id: data.momentId
                                });
                            });
                        }
                        this.calendarService.getUserCalendar();
                        this.chatService.getAllUserConversations();
                        this.userData.refreshAppPages();
                        this.authService.checkIncompleteOnboarding(false);
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.submitVote = function (event, moment, index) {
        return __awaiter(this, void 0, void 0, function () {
            var responseObj;
            return __generator(this, function (_a) {
                event.stopPropagation();
                try {
                    responseObj = {
                        matrix_string: [],
                        matrix_number: [[moment.resource.matrix_number[2][1], index]],
                        moment: moment._id,
                        array_number: moment.resource.matrix_number[0],
                        createdAt: new Date()
                    };
                    this.submitResponse(moment, responseObj, true);
                }
                catch (err) {
                    this.networkService.showNoNetworkAlert();
                }
                return [2 /*return*/];
            });
        });
    };
    Moment.prototype.submitResponse = function (moment, serverData, enableSocketIO) {
        return __awaiter(this, void 0, void 0, function () {
            var response, socketData, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.responseService.submit(serverData)];
                    case 1:
                        response = _a.sent();
                        socketData = {
                            moment: moment,
                            createdAt: new Date(),
                            response: response,
                            author: {
                                _id: this.userData.user._id,
                                first_name: this.userData.user.first_name,
                                last_name: this.userData.user.last_name,
                                avatar: this.userData.user.avatar
                            },
                            status: 'pending',
                            confirmId: Math.random()
                        };
                        if (enableSocketIO) {
                            this.socket.emit('refresh moment', moment._id, socketData); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                        }
                        return [2 /*return*/, response];
                    case 2:
                        err_2 = _a.sent();
                        this.networkService.showNoNetworkAlert();
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    // user actively joins an Activity
    Moment.prototype.addUserToProgramUserList = function (momentId, user_list, type, token, notifyUser) {
        return __awaiter(this, void 0, void 0, function () {
            var moment, result, alert_1, alert_2, alert_3, err_3;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.load(momentId)];
                    case 1:
                        moment = _a.sent();
                        if (!this.userData.user) return [3 /*break*/, 12];
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 11, , 12]);
                        return [4 /*yield*/, this.updateMomentUserLists({
                                operation: 'add to lists and calendar',
                                user_lists: [user_list],
                                users: [this.userData.user._id],
                                momentId: moment._id,
                                calendarId: moment.calendar._id
                            }, token)];
                    case 3:
                        result = _a.sent();
                        if (!notifyUser) return [3 /*break*/, 10];
                        if (!(result === 'success')) return [3 /*break*/, 8];
                        if (!(type <= 2)) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'Success',
                                message: 'You have successfully joined ' + moment.matrix_string[0][0],
                                buttons: [{ text: 'Ok',
                                        handler: function () {
                                            var navTransition = alert_1.dismiss();
                                            navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                                return __generator(this, function (_a) {
                                                    return [2 /*return*/];
                                                });
                                            }); });
                                        } }],
                                cssClass: 'level-15'
                            })];
                    case 4:
                        alert_1 = _a.sent();
                        alert_1.present();
                        return [3 /*break*/, 7];
                    case 5: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Success',
                            message: 'You have now been added as ' + (user_list === 'user_list_2' ? 'an organizer of ' : (user_list === 'user_list_3' ? 'a leader of ' : '')) + moment.matrix_string[0][0],
                            buttons: [{ text: 'Ok',
                                    handler: function () {
                                        var navTransition = alert_2.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    } }],
                            cssClass: 'level-15'
                        })];
                    case 6:
                        alert_2 = _a.sent();
                        alert_2.present();
                        _a.label = 7;
                    case 7: return [3 /*break*/, 10];
                    case 8: return [4 /*yield*/, this.alertCtrl.create({
                            header: 'Permission Denied',
                            message: 'You do not have the required permission. Please contact the organizer for assistance.',
                            buttons: [{ text: 'Dismiss',
                                    handler: function () {
                                        var navTransition = alert_3.dismiss();
                                        navTransition.then(function () { return __awaiter(_this, void 0, void 0, function () {
                                            return __generator(this, function (_a) {
                                                return [2 /*return*/];
                                            });
                                        }); });
                                    } }],
                            cssClass: 'level-15'
                        })];
                    case 9:
                        alert_3 = _a.sent();
                        alert_3.present();
                        _a.label = 10;
                    case 10: return [2 /*return*/, result];
                    case 11:
                        err_3 = _a.sent();
                        console.log(err_3);
                        return [2 /*return*/, false];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    // decide whether to open the participants edit mode (for organizer) or select from the PeoplePicker and add as participant to an Activity
    Moment.prototype.initiateParticipantsView = function (moment, loading) {
        return __awaiter(this, void 0, void 0, function () {
            var hasOrganizerAccess, peopleComponentId, participantsLabel;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.resourceService.loadSystemResources()];
                    case 1:
                        _a.sent(); // this is required to ensure resource has already been loaded
                        if (moment.user_list_2 && moment.user_list_2.length && moment.user_list_2[0] && typeof moment.user_list_2[0] === 'object') { // if user_list is populated, i.e. array of objects
                            hasOrganizerAccess = moment.user_list_2.map(function (c) { return c._id; }).includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                        }
                        else if (moment.user_list_2 && moment.user_list_2.length && moment.user_list_2[0] && typeof moment.user_list_2[0] === 'string') { // if user_list is not populated, i.e. array of strings
                            hasOrganizerAccess = moment.user_list_2.includes(this.userData.user._id) || ['owner', 'admin', 'staff'].includes(this.userData.user.role);
                        }
                        if (!loading) return [3 /*break*/, 3];
                        return [4 /*yield*/, loading.dismiss()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        if (hasOrganizerAccess) {
                            this.editParticipants({ moment: moment, title: this.resourceService.resource['en-US'].value[32] + ' to ' + moment.matrix_string[0][0], modalPage: true });
                        }
                        else {
                            peopleComponentId = moment.resource.matrix_number[0].indexOf(10500);
                            participantsLabel = 'Participants';
                            if (peopleComponentId > -1) {
                                participantsLabel = moment.matrix_string[peopleComponentId].length && moment.matrix_string[peopleComponentId].length > 3 && moment.matrix_string[peopleComponentId][3] ? moment.matrix_string[peopleComponentId][3] : moment.resource['en-US'].matrix_string[peopleComponentId][5];
                            }
                            this.addParticipants(moment, this.resourceService.resource, 'both', ['user_list_1'], this.resourceService.resource['en-US'].value[32] + ' to ' + moment.matrix_string[0][0], this.resourceService.resource['en-US'].value[32], participantsLabel);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    // an user adding another user to an Activity's participant list. 
    // Only 1 list (e.g. 'user_list_1') is handled at this time even though listOfNames is an array of one element. i.e. ['user_list_1']
    Moment.prototype.addParticipants = function (moment, resource, filter, listOfNames, title, action, inviteeLabel) {
        return __awaiter(this, void 0, void 0, function () {
            var selectedPersonOrGroup, modal, result, response, userObjectIds, conversations, listOfAppUsers, promises;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.chatService.addSelfToConversation(); // add user's own profile to the conversation list for display purposes
                        selectedPersonOrGroup = [];
                        this.chatService.conversations.forEach(function (item) {
                            if ((item.conversation.type === 'connect' || item.conversation.type === 'self') && item.data.participant && moment[listOfNames[0]].map(function (c) { return c._id; }).indexOf(item.data.participant._id) > -1) {
                                item.locked = true;
                                selectedPersonOrGroup.push(item);
                            }
                        });
                        return [4 /*yield*/, this.modalCtrl.create({ component: _pages_feature_pickpeople_popover_pickpeople_popover_page__WEBPACK_IMPORTED_MODULE_15__["PickpeoplePopoverPage"], componentProps: { moment: moment, invitationType: listOfNames[0], filter: filter, includeSelf: true, title: title, action: action, conversations: selectedPersonOrGroup } })];
                    case 1:
                        modal = _a.sent();
                        return [4 /*yield*/, modal.present()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, modal.onDidDismiss()];
                    case 3:
                        result = (_a.sent()).data;
                        userObjectIds = [];
                        conversations = (result && result.conversations) ? result.conversations : [];
                        listOfAppUsers = (result && result.listOfAppUsers) ? result.listOfAppUsers : [];
                        if (conversations && conversations.length) {
                            result.conversations.forEach(function (item) {
                                if (item.data.participant._id) {
                                    userObjectIds.push(item.data.participant._id);
                                }
                            });
                        }
                        if (listOfAppUsers && listOfAppUsers.length) {
                            listOfAppUsers.forEach(function (appUser) {
                                if (appUser._id) {
                                    userObjectIds.push(appUser._id);
                                }
                            });
                        }
                        userObjectIds = __spread(new Set(userObjectIds)); // create unique set of user Ids
                        if (!userObjectIds.length) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.updateMomentUserLists({
                                operation: 'add to lists and calendar',
                                user_lists: listOfNames,
                                users: userObjectIds,
                                momentId: moment._id,
                                calendarId: moment.calendar._id
                            }, null)];
                    case 4:
                        response = _a.sent();
                        _a.label = 5;
                    case 5:
                        if (!(response === 'success')) return [3 /*break*/, 8];
                        if (!(listOfAppUsers && listOfAppUsers.length)) return [3 /*break*/, 7];
                        promises = listOfAppUsers.map(function (appUser) { return __awaiter(_this, void 0, void 0, function () {
                            var isConnected, conversation, welcomeMessage, newConversationId;
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        if (appUser._id === this.userData.user._id)
                                            return [2 /*return*/]; // terminate if the recipient selected is the user herself
                                        return [4 /*yield*/, this.chatService.getConversationByRecipientId(appUser._id, false, false)];
                                    case 1:
                                        isConnected = _a.sent();
                                        if (!(isConnected && isConnected.conversation)) return [3 /*break*/, 2];
                                        conversation = isConnected.conversation;
                                        if (conversation.type === 'connect') {
                                            // add the conversation to the list
                                            conversations.push({ conversation: isConnected.conversation });
                                        } // ignore if the conversation is blocked
                                        return [3 /*break*/, 4];
                                    case 2:
                                        welcomeMessage = this.userData.user.first_name + ' ' + this.userData.user.last_name + ' is now connected with you.';
                                        return [4 /*yield*/, this.chatService.newConversation(appUser._id, { composedMessage: welcomeMessage, type: 'connect' })];
                                    case 3:
                                        newConversationId = _a.sent();
                                        conversations.push({ conversation: { _id: newConversationId, type: 'connect' } });
                                        _a.label = 4;
                                    case 4: return [2 /*return*/];
                                }
                            });
                        }); });
                        return [4 /*yield*/, Promise.all(promises)];
                    case 6:
                        _a.sent();
                        this.chatService.refreshTabBadges();
                        _a.label = 7;
                    case 7:
                        this.chatService.notifyOfInvitation(conversations, moment, listOfNames[0]);
                        _a.label = 8;
                    case 8: return [2 /*return*/, response];
                }
            });
        });
    };
    Moment.prototype.delete = function (moment) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.delete(this.networkService.domain + '/api/moment/' + moment._id, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.chatService.getAllUserConversations()];
                    case 3:
                        _a.sent();
                        this.userData.refreshAppPages();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.loadActivitySchedules = function (activityId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.authService.token) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/moment/activityschedules/' + activityId, this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2: return [2 /*return*/, []];
                }
            });
        });
    };
    Moment.prototype.loadSchedule = function (scheduleId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/moment/schedule/' + scheduleId, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Moment.prototype.loadProgramInsight = function (programId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.get(this.networkService.domain + '/api/moment/program/insight/' + programId, this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    Moment.prototype.touchSchedule = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var schedule, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        schedule = JSON.parse(JSON.stringify(data));
                        if (schedule && schedule.child_moments && schedule.child_moments.length && typeof schedule.child_moments[0] === 'object') { // depopulate child_moments before send them back to server
                            schedule.child_moments = schedule.child_moments.map(function (c) { return c._id; });
                        }
                        if (schedule.options && schedule.options.hasOwnProperty('recurrence') && schedule.options.recurrence === '') {
                            delete schedule.options.recurrence;
                        }
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/schedule/touch', JSON.stringify(schedule), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.userData.refreshAppPages()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.touchContentCalendarItems = function (momentId, data) {
        return __awaiter(this, void 0, void 0, function () {
            var promise, socketData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/moment/contentcalendaritems/touch', JSON.stringify(data), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        socketData = {
                            type: 'refresh calendar items',
                            author: {
                                _id: this.userData.user._id,
                                first_name: this.userData.user.first_name,
                                last_name: this.userData.user.last_name,
                                avatar: this.userData.user.avatar
                            }
                        };
                        if (!momentId) return [3 /*break*/, 3];
                        this.socket.emit('refresh moment', momentId, socketData); // Using the moment service socket.io to signal real time dynamic update for other devices in the same conversationId room
                        return [4 /*yield*/, this.calendarService.getUserCalendar()];
                    case 2:
                        _a.sent();
                        this.userData.refreshAppPages();
                        _a.label = 3;
                    case 3: return [2 /*return*/, promise];
                }
            });
        });
    };
    Moment.prototype.loadIcon = function (field) {
        var color = this.icons.find(function (c) { return c.field === field; });
        return color || this.icons.find(function (c) { return c.field === 'User Defined Activity'; });
    };
    Moment.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
        { type: _aws_service__WEBPACK_IMPORTED_MODULE_3__["Aws"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"] },
        { type: _chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"] },
        { type: _response_service__WEBPACK_IMPORTED_MODULE_6__["Response"] },
        { type: _resource_service__WEBPACK_IMPORTED_MODULE_7__["Resource"] },
        { type: _calendar_service__WEBPACK_IMPORTED_MODULE_9__["CalendarService"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"] }
    ]; };
    Moment = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _aws_service__WEBPACK_IMPORTED_MODULE_3__["Aws"],
            _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"],
            _user_service__WEBPACK_IMPORTED_MODULE_8__["UserData"],
            _chat_service__WEBPACK_IMPORTED_MODULE_4__["Chat"],
            _response_service__WEBPACK_IMPORTED_MODULE_6__["Response"],
            _resource_service__WEBPACK_IMPORTED_MODULE_7__["Resource"],
            _calendar_service__WEBPACK_IMPORTED_MODULE_9__["CalendarService"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_10__["NetworkService"]])
    ], Moment);
    return Moment;
}());



/***/ }),

/***/ "./src/app/services/network-service.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/network-service.service.ts ***!
  \*****************************************************/
/*! exports provided: NetworkService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NetworkService", function() { return NetworkService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var Network = _capacitor_core__WEBPACK_IMPORTED_MODULE_5__["Plugins"].Network;


var NetworkService = /** @class */ (function () {
    function NetworkService(platform, electronService, swUpdate, toastCtrl) {
        var _this = this;
        this.platform = platform;
        this.electronService = electronService;
        this.swUpdate = swUpdate;
        this.toastCtrl = toastCtrl;
        //  prod endpoint
        this.domain = 'https://server.restvo.com';
        //  dev endpoint
        //domain = 'https://server.dev.restvo.com';
        this.webapp_domain = 'https://app.restvo.com';
        this.assets = 'https://wee.nyc3.digitaloceanspaces.com/';
        this.networkSuccess = false;
        this.onDevice = this.platform.is('cordova');
        if (!this.electronService.isElectronApp && this.swUpdate.isEnabled) {
            this.swUpdate.available.subscribe(function (evt) {
                window.location.reload();
            });
            setInterval(function () {
                _this.swUpdate.available.subscribe(function (evt) {
                    window.location.reload();
                });
            }, 3600000); // check for update every hour
        }
    }
    //  check if the device is online
    NetworkService.prototype.hasNetwork = function () {
        return __awaiter(this, void 0, void 0, function () {
            var status_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.onDevice) return [3 /*break*/, 2];
                        return [4 /*yield*/, Network.getStatus()];
                    case 1:
                        status_1 = _a.sent();
                        this.networkSuccess = status_1.connected;
                        return [2 /*return*/, status_1.connected];
                    case 2: return [2 /*return*/, navigator.onLine];
                }
            });
        });
    };
    // check if the device is offline
    NetworkService.prototype.isOffline = function () {
        return __awaiter(this, void 0, void 0, function () {
            var status_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.onDevice) return [3 /*break*/, 2];
                        return [4 /*yield*/, Network.getStatus()];
                    case 1:
                        status_2 = _a.sent();
                        return [2 /*return*/, status_2.connected];
                    case 2: return [2 /*return*/, !navigator.onLine];
                }
            });
        });
    };
    // show an alert that the device is connected
    NetworkService.prototype.showHasNetworkAlert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastCtrl.create({
                            message: 'You are now connected to the internet.',
                            duration: 3000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    // show an alert that the device is not connected
    NetworkService.prototype.showNoNetworkAlert = function () {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastCtrl.create({
                            message: 'Cannot connect to the internet. Please Check your network connection.',
                            duration: 3000,
                            position: 'top'
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    NetworkService.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_7__["ElectronService"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__["SwUpdate"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"] }
    ]; };
    NetworkService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_7__["ElectronService"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_6__["SwUpdate"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"]])
    ], NetworkService);
    return NetworkService;
}());



/***/ }),

/***/ "./src/app/services/resource.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/resource.service.ts ***!
  \**********************************************/
/*! exports provided: Resource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Resource", function() { return Resource; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./user.service */ "./src/app/services/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};












var Resource = /** @class */ (function () {
    function Resource(http, electronService, swUpdate, cache, alertCtrl, platform, authService, userData, networkService) {
        this.http = http;
        this.electronService = electronService;
        this.swUpdate = swUpdate;
        this.cache = cache;
        this.alertCtrl = alertCtrl;
        this.platform = platform;
        this.authService = authService;
        this.userData = userData;
        this.networkService = networkService;
        this.fields = [];
        this.controls = [
            'play-large',
            //'restart', // Restart playback
            'play',
            //'rewind', // Rewind by the seek time (default 10 seconds)
            //'fast-forward', // Fast forward by the seek time (default 10 seconds)
            'progress',
            //'current-time', // The current time of playback
            'duration',
            'mute',
            //'volume', // Volume control
            'captions',
            //'settings', // Settings menu
            'pip',
            'airplay',
            'download',
            'fullscreen',
        ];
        this.plyrOptions = { 'controls': this.controls,
            'ratio': '16:9',
            'blankVideo': 'https://wee.nyc3.digitaloceanspaces.com/app/blank.mp4',
            'youtube': { origin: 'https://app.restvo.com' } };
        // refresh max timeout is mainly to curtain dev app from refreshing too many times. For production app upgrades, it should refresh at most 3 times before the cache is updated
        this.refreshRetryMaxCount = 3; // try 5 times
        this.refreshRetryInterval = 10000; // 10 sec
        this.refreshRetryCount = 0;
        //stock photo
        this.searchKeyword = '';
        this.showPixabay = -1; // -1 to hide search Pixabay, 0 and higher are to turn it on
        this.pageNum = 1;
    }
    // create a load system resource cache system for storing and refreshing system resources
    Resource.prototype.loadSystemResources = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var request;
                        var _this = this;
                        return __generator(this, function (_a) {
                            try {
                                request = this.load('en-US', 'Activity Components v2,Activity Category');
                                // delaytype: this indicates that it should send a new request to the server every time, you can also set it to 'none' which indicates that it should only send a new request when it's expired
                                // ttl is in seconds. set to 1 week: 60 * 60 * 24 * 7 = 604800 sec
                                // to update cache for dev app, just increment userData.versions['Activity Components'] to > this.resource.matrix_number[2][0] in Mongodb and it will refresh the cache
                                this.cache.loadFromDelayedObservable('SystemResources', request, 'ResourceService', 604800, 'none').subscribe(function (result) { return __awaiter(_this, void 0, void 0, function () {
                                    var versionAlert, versionAlert;
                                    var _this = this;
                                    return __generator(this, function (_a) {
                                        switch (_a.label) {
                                            case 0:
                                                this.resource = result.find(function (c) { return c.field === 'Activity Components v2'; }); // return the activity components resource object in the result array
                                                this.categories = result.filter(function (c) { return c.field === 'Activity Category'; }); // return the Activity Category array by filtering the result array
                                                console.log('current Resource version in cache:', this.resource.matrix_number[2][0]);
                                                if (!(this.userData.versions['Activity Components'] > this.resource.matrix_number[2][0])) return [3 /*break*/, 2];
                                                return [4 /*yield*/, this.cache.clearGroup('ResourceService')];
                                            case 1:
                                                _a.sent();
                                                console.log('refreshing System Resources from source...');
                                                if (this.refreshRetryCount > 0) {
                                                    if (this.refreshRetryCount <= this.refreshRetryMaxCount) {
                                                        this.refreshRetryCount++;
                                                        setTimeout(function () {
                                                            _this.loadSystemResources(); // get a fresh copy from backend
                                                        }, this.refreshRetryInterval);
                                                    }
                                                }
                                                else {
                                                    this.refreshRetryCount++;
                                                    this.loadSystemResources(); // get a fresh copy from backend
                                                }
                                                _a.label = 2;
                                            case 2:
                                                if (!(!this.electronService.isElectronApp && this.userData.versions['Activity Components'] < this.resource.matrix_number[2][0])) return [3 /*break*/, 8];
                                                if (!this.platform.is('cordova')) return [3 /*break*/, 5];
                                                return [4 /*yield*/, this.alertCtrl.create({
                                                        header: 'Upgrade Recommended',
                                                        message: 'To utilize the latest features in Restvo, please upgrade your app to the latest version.',
                                                        buttons: ['OK'],
                                                        cssClass: 'level-15'
                                                    })];
                                            case 3:
                                                versionAlert = _a.sent();
                                                return [4 /*yield*/, versionAlert.present()];
                                            case 4:
                                                _a.sent();
                                                return [3 /*break*/, 8];
                                            case 5: return [4 /*yield*/, this.alertCtrl.create({
                                                    header: 'A New Version Detected',
                                                    message: 'Your web app is downloading a new version in the background and will momentarily reload to apply the update.',
                                                    buttons: [{
                                                            text: 'OK',
                                                            handler: function () {
                                                                _this.swUpdate.activateUpdate();
                                                            }
                                                        }],
                                                    cssClass: 'level-15'
                                                })];
                                            case 6:
                                                versionAlert = _a.sent();
                                                return [4 /*yield*/, versionAlert.present()];
                                            case 7:
                                                _a.sent();
                                                _a.label = 8;
                                            case 8:
                                                console.log("resource", this.resource);
                                                if (result && result.length) {
                                                    console.log("cached res", result);
                                                    resolve(result);
                                                }
                                                return [2 /*return*/];
                                        }
                                    });
                                }); });
                            }
                            catch (err) {
                                reject(err);
                            }
                            return [2 /*return*/];
                        });
                    }); })];
            });
        });
    };
    Resource.prototype.load = function (language, field) {
        return this.http.get(this.networkService.domain + '/api/resource/load/' + language + '?field=' + field, this.authService.httpOptions);
    };
    Resource.prototype.loadUserResource = function (id) {
        return this.http.get(this.networkService.domain + '/api/resource/userresource/' + id.toString(), this.authService.httpAuthOptions).toPromise();
    };
    Resource.prototype.loadUserResources = function (language, field, pageNum) {
        return this.http.get(this.networkService.domain + '/api/resource/userresources/' + language + '?field=' + field + '&pageNum=' + pageNum, this.authService.httpAuthOptions).toPromise();
    };
    Resource.prototype.create = function (resource) {
        return this.http.post(this.networkService.domain + '/api/resource/create', JSON.stringify(resource), this.authService.httpAuthOptions).toPromise();
    };
    Resource.prototype.update = function (resource) {
        return this.http.put(this.networkService.domain + '/api/resource/update', JSON.stringify(resource), this.authService.httpAuthOptions).toPromise();
    };
    Resource.prototype.clickVideo = function (event, sources) {
        event.stopPropagation();
        if (this.electronService.isElectronApp && sources[0].provider && sources[0].provider === 'youtube') {
            // electron doesn't play youtube video natively so needs to load the youtube link in a new tab
            window.open(((sources[0].src.indexOf('/') < 0) ? 'https://www.youtube.com/watch?v=' : '') + sources[0].src, '_blank');
        }
    };
    Resource.prototype.assignVideoEndpoint = function (videoChatRoomId) {
        return this.http.get(this.networkService.domain + '/api/resource/videoendpoint' + '?videoChatRoomId=' + videoChatRoomId, this.authService.httpOptions).toPromise();
    };
    Resource.prototype.forwardGeocode = function (address) {
        return this.http.get('https://us1.locationiq.com/v1/search.php?key=pk.e5797fe100f9aa5732d5346f742b243f&q=' + encodeURI(address) + '&format=json').toPromise();
    };
    Resource.prototype.searchPixabay = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.stockPhotoResults = {};
                        this.pageNum = 1;
                        _a = this;
                        return [4 /*yield*/, this.pixabaySearch(this.searchKeyword, this.pageNum)];
                    case 1:
                        _a.stockPhotoResults = _b.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    Resource.prototype.pixabaySearch = function (searchKeyword, pageNum) {
        return this.http.get('https://pixabay.com/api/?key=11622064-8698a5beb77de4a9e9677e4c3&q=' + encodeURI(searchKeyword) + '&per_page=200&image_type=photo&pretty=true&page=' + pageNum.toString()).toPromise();
    };
    Resource.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"] },
        { type: _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__["SwUpdate"] },
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_10__["CacheService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"] },
        { type: _user_service__WEBPACK_IMPORTED_MODULE_11__["UserData"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"] }
    ]; };
    Resource = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_3__["ElectronService"],
            _angular_service_worker__WEBPACK_IMPORTED_MODULE_2__["SwUpdate"],
            ionic_cache__WEBPACK_IMPORTED_MODULE_10__["CacheService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"],
            _auth_service__WEBPACK_IMPORTED_MODULE_5__["Auth"],
            _user_service__WEBPACK_IMPORTED_MODULE_11__["UserData"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"]])
    ], Resource);
    return Resource;
}());



/***/ }),

/***/ "./src/app/services/response.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/response.service.ts ***!
  \**********************************************/
/*! exports provided: Response */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Response", function() { return Response; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};







var Response = /** @class */ (function () {
    function Response(http, authService, networkService) {
        this.http = http;
        this.authService = authService;
        this.networkService = networkService;
    }
    Response.prototype.findResponsesByMomentId = function (momentId, relationshipId, calendarId) {
        if (this.authService.token) {
            return this.http.get(this.networkService.domain + '/api/moment/findresponsesbymomentid/' + momentId + '?relationshipId=' + (relationshipId || '') + '&calendarId=' + (calendarId || '') + '&version=1', this.authService.httpAuthOptions).toPromise();
        }
        else {
            return [];
        }
    };
    Response.prototype.findResponsesByMomentIds = function (momentIds) {
        return this.http.put(this.networkService.domain + '/api/moment/findresponsesbymomentids', JSON.stringify({ array: momentIds }), this.authService.httpAuthOptions);
    };
    Response.prototype.submit = function (data) {
        return this.http.post(this.networkService.domain + '/api/moment/submitresponse', JSON.stringify(data), this.authService.httpAuthOptions).toPromise();
    };
    ;
    Response.prototype.submitDependentResponse = function (data) {
        return this.http.post(this.networkService.domain + '/api/moment/submitresponse', JSON.stringify(data), this.authService.httpAuthOptions).toPromise();
    };
    ;
    Response.prototype.deleteResponse = function (responseId) {
        return this.http.delete(this.networkService.domain + '/api/moment/response/' + responseId, this.authService.httpAuthOptions).toPromise();
    };
    Response.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_2__["Auth"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"] }
    ]; };
    Response = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _auth_service__WEBPACK_IMPORTED_MODULE_2__["Auth"], _network_service_service__WEBPACK_IMPORTED_MODULE_6__["NetworkService"]])
    ], Response);
    return Response;
}());



/***/ }),

/***/ "./src/app/services/user.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/user.service.ts ***!
  \******************************************/
/*! exports provided: UserData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserData", function() { return UserData; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var ngx_electron__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-electron */ "./node_modules/ngx-electron/fesm5/ngx-electron.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/fesm5/ionic-angular.js");
/* harmony import */ var ionic_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ionic-cache */ "./node_modules/ionic-cache/dist/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var ngx_stripe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-stripe */ "./node_modules/ngx-stripe/fesm5/ngx-stripe.js");
/* harmony import */ var _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic-native/badge/ngx */ "./node_modules/@ionic-native/badge/ngx/index.js");
/* harmony import */ var _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/contacts/ngx */ "./node_modules/@ionic-native/contacts/ngx/index.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _calendar_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./calendar.service */ "./src/app/services/calendar.service.ts");
/* harmony import */ var _network_service_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./network-service.service */ "./src/app/services/network-service.service.ts");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var rxjs_add_operator_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
/* harmony import */ var rxjs_add_operator_timeout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs/add/operator/timeout */ "./node_modules/rxjs-compat/_esm5/add/operator/timeout.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");
/* harmony import */ var rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(rxjs_add_operator_toPromise__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/esm/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



















var UserData = /** @class */ (function () {
    function UserData(http, router, stripeService, electronService, badge, cache, storage, platform, contacts, loadingCtrl, alertCtrl, menuCtrl, authService, networkService, calendarService) {
        this.http = http;
        this.router = router;
        this.stripeService = stripeService;
        this.electronService = electronService;
        this.badge = badge;
        this.cache = cache;
        this.storage = storage;
        this.platform = platform;
        this.contacts = contacts;
        this.loadingCtrl = loadingCtrl;
        this.alertCtrl = alertCtrl;
        this.menuCtrl = menuCtrl;
        this.authService = authService;
        this.networkService = networkService;
        this.calendarService = calendarService;
        this.currentCommunityAdminStatus = false;
        this.developerModeClick = 0;
        this.delayPushNotificationReminder = 0;
        this.delayImportContactListReminder = 0;
        this.showDownloadLink = true;
        this.splitPaneState = 'md';
        this.UIAdminMode = false;
        this.UIrestStatus = "active"; // user's current UI rest status: active or away
        this.videoChatRoomId = ''; // the current video chat ID if one is in session
        this.readyToControlVideoChat = true; // the readiness of controlling video chat. only used by app runs on cordova and utilizing Jitsi capacitor plugin
        this.UIready = false; // give app.component.html time to render correct UI params (e.g. UIAdminMode) before enabling it
        this.versions = {
            'Activity Components': 18,
            'List of Components': [10000, 10010, 10050, 10100, 10200, 10210, 10300, 10310, 10320, 10330, 10360, 10370, 10400, 10500, 10600, 20000, 20010, 30000, 40000, 50000, 40010, 40020, 11000, 10210, 20020, 12000] // this is the list of components used by this code
        };
        this._refreshUserStatus = new rxjs__WEBPACK_IMPORTED_MODULE_18__["BehaviorSubject"](null);
        this._openUserPrograms = new rxjs__WEBPACK_IMPORTED_MODULE_18__["BehaviorSubject"](null);
        this._enablePushNotification = new rxjs__WEBPACK_IMPORTED_MODULE_18__["BehaviorSubject"](false);
        this._refreshMyConversations = new rxjs__WEBPACK_IMPORTED_MODULE_18__["BehaviorSubject"](false);
        this.refreshUserStatus$ = this._refreshUserStatus.asObservable();
        this.openUserPrograms$ = this._openUserPrograms.asObservable();
        this.enablePushNotification$ = this._enablePushNotification.asObservable();
        this.refreshMyConversations$ = this._refreshMyConversations.asObservable();
    }
    UserData.prototype.refreshUserStatus = function (data) {
        if (data) {
            this._refreshUserStatus.next(data);
        }
    };
    UserData.prototype.openUserPrograms = function (data) {
        this._openUserPrograms.next(data);
    };
    UserData.prototype.enablePushNotification = function (activate) {
        this._enablePushNotification.next(activate);
    };
    UserData.prototype.refreshMyConversations = function (data) {
        this._refreshMyConversations.next(data);
    };
    UserData.prototype.createUserSocket = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.platform.is('cordova') || (this.networkService.domain !== 'https://server.restvo.com')) {
                    // turn off long polling for mobile apps. Without long polling, this will fail when connecting behind firewall
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_12__(this.networkService.domain + '/users-namespace', { transports: ['websocket'] }); // only for mobile apps
                }
                else {
                    this.socket = socket_io_client__WEBPACK_IMPORTED_MODULE_12__(this.networkService.domain + '/users-namespace');
                }
                this.socket.on('connect', function () {
                    console.log("user socket id: ", _this.socket.id);
                    _this.socket.emit('enter user', _this.user._id);
                });
                this.socket.on('refresh user status', function (userId, data) { return __awaiter(_this, void 0, void 0, function () {
                    var _a;
                    return __generator(this, function (_b) {
                        switch (_b.label) {
                            case 0:
                                console.log("got refresh");
                                if (!(this.user._id === userId)) return [3 /*break*/, 16];
                                if (!(data.type === 'update admin')) return [3 /*break*/, 2];
                                _a = this;
                                return [4 /*yield*/, this.hasAdminAccess(this.user.churches[this.currentCommunityIndex]._id)];
                            case 1:
                                _a.currentCommunityAdminStatus = _b.sent();
                                return [3 /*break*/, 16];
                            case 2:
                                if (!(data.type === 'connect conversation')) return [3 /*break*/, 3];
                                this.refreshMyConversations({ action: 'reload', conversationId: 'all' });
                                return [3 /*break*/, 16];
                            case 3:
                                if (!(data.type === 'disconnect conversation')) return [3 /*break*/, 5];
                                return [4 /*yield*/, this.refreshMyConversations({ action: 'disconnect chat view', conversationId: data.conversationId })];
                            case 4:
                                _b.sent();
                                this.refreshMyConversations({ action: 'reload', conversationId: data.conversationId });
                                return [3 /*break*/, 16];
                            case 5:
                                if (!(data.type === 'update group participation')) return [3 /*break*/, 7];
                                //update user's group participation
                                return [4 /*yield*/, this.load()];
                            case 6:
                                //update user's group participation
                                _b.sent();
                                this.authService.refreshGroupStatus({ conversationId: data.conversationId, data: data.group });
                                this.refreshMyConversations({ action: 'reload', conversationId: 'all' });
                                this.refreshUserStatus({ type: 'load user community boards' });
                                this.refreshUserStatus({ type: 'refresh community board page' }); //when a user join a group with board
                                return [3 /*break*/, 16];
                            case 7:
                                if (!(data.type === 'leave group')) return [3 /*break*/, 9];
                                //update user's group participation,
                                return [4 /*yield*/, this.load()];
                            case 8:
                                //update user's group participation,
                                _b.sent();
                                this.authService.refreshGroupStatus({ conversationId: null, data: { _id: (data.groupId || data.id || null) } });
                                this.refreshUserStatus({ type: 'close group view', data: { _id: (data.groupId || data.id || null) } });
                                this.refreshMyConversations({ action: 'reload', conversationId: 'all' });
                                this.refreshUserStatus({ type: 'load user community boards' });
                                this.refreshUserStatus({ type: 'refresh community board page' }); // when a user leave a group with board
                                return [3 /*break*/, 16];
                            case 9:
                                if (!(data.type === 'update church participation')) return [3 /*break*/, 11];
                                return [4 /*yield*/, this.load()];
                            case 10:
                                _b.sent();
                                return [3 /*break*/, 16];
                            case 11:
                                if (!(data.type === 'update moment and calendar participation')) return [3 /*break*/, 13];
                                return [4 /*yield*/, this.calendarService.getUserCalendar()];
                            case 12:
                                _b.sent();
                                this.refreshUserStatus({ type: 'change aux data' });
                                return [3 /*break*/, 16];
                            case 13:
                                if (!(data.type === 'update system messages')) return [3 /*break*/, 14];
                                this.refreshUserStatus({ type: 'change aux data' });
                                return [3 /*break*/, 16];
                            case 14: // data.type === 'update user info' and the rest
                            return [4 /*yield*/, this.load()];
                            case 15:
                                _b.sent();
                                this.refreshAppPages();
                                this.refreshUserStatus(data);
                                _b.label = 16;
                            case 16: return [2 /*return*/];
                        }
                    });
                }); });
                return [2 /*return*/];
            });
        });
    };
    UserData.prototype.refreshAppPages = function () {
        // broadcast signal to refresh main tab pages
        this.refreshUserStatus({ type: 'refresh community board page' });
        this.refreshMyConversations({ action: 'render', data: null });
        this.refreshMyConversations({ action: 'reload chat view' });
        this.refreshUserStatus({ type: 'change aux data' });
    };
    //get data from the server if connected
    UserData.prototype.load = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this;
                        return [4 /*yield*/, this.loadUser()];
                    case 1:
                        _a.user = _b.sent();
                        this.processLoadedUserData();
                        return [2 /*return*/, this.user];
                }
            });
        });
    };
    UserData.prototype.processLoadedUserData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var ShareExtension, token;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.checkRestExpired();
                        if (this.user.hasOwnProperty('unreadBadgeCount')) {
                            if (this.platform.is('cordova') && this.user.enablePushNotification) {
                                this.badge.set(this.user.unreadBadgeCount);
                            }
                            if (this.electronService.isElectronApp) {
                                this.electronService.ipcRenderer.send('SYSTEM_TRAY:::SET_BADGE', (this.user.unreadBadgeCount > -1) ? this.user.unreadBadgeCount : 0);
                            }
                        }
                        this.storage.set('user', this.user); //save in local storage for PWA's fast retrieval when booting up mobile app and reloading the myconversations page
                        if (!(this.platform.is('ios') && _capacitor_core__WEBPACK_IMPORTED_MODULE_16__["Capacitor"].isPluginAvailable('ShareExtension'))) return [3 /*break*/, 2];
                        ShareExtension = _capacitor_core__WEBPACK_IMPORTED_MODULE_16__["Plugins"].ShareExtension;
                        token = this.authService ? (this.authService.token || '') : '';
                        return [4 /*yield*/, ShareExtension.saveDataToKeychain({ key: 'token', data: token })];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    UserData.prototype.checkRestExpired = function () {
        return __awaiter(this, void 0, void 0, function () {
            var restExpired;
            return __generator(this, function (_a) {
                if (this.user.hasOwnProperty('restSchedule') && this.user.restSchedule.breakExpiredAt) {
                    restExpired = new Date().getTime() > new Date(this.user.restSchedule.breakExpiredAt).getTime();
                    this.UIrestStatus = restExpired ? 'active' : 'away';
                    return [2 /*return*/, restExpired];
                }
                else {
                    return [2 /*return*/, true];
                }
                return [2 /*return*/];
            });
        });
    };
    UserData.prototype.loadUser = function () {
        return this.http.get(this.networkService.domain + '/api/auth', this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.loadStoredCommunity = function () {
        return __awaiter(this, void 0, void 0, function () {
            var restvoIndex, _a, domain, _b, _c;
            var _this = this;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.currentCommunityIndex = 0;
                        restvoIndex = this.user.churches.map(function (c) { return c._id; }).indexOf('5ab62be8f83e2c1a8d41f894');
                        if (!(this.user.churches && this.user.churches.length)) return [3 /*break*/, 1];
                        /*const index = await this.storage.get('currentCommunityIndex');
                        if (index && index.length) {
                            // in the event index is larger than the total number of communities, i.e. the user left a community since the last session
                            this.currentCommunityIndex = (parseInt(index, 10) > this.user.churches.length - 1) ? (this.user.churches.length - 1) : parseInt(index, 10);
                            this.storage.set('currentCommunityIndex', this.currentCommunityIndex.toString());
                        } else {
                            this.storage.set('currentCommunityIndex', restvoIndex.toString());
                        }*/
                        // always returning Restvo as the default index
                        this.currentCommunityIndex = restvoIndex;
                        return [3 /*break*/, 3];
                    case 1:
                        _a = this;
                        return [4 /*yield*/, this.initializeUser()];
                    case 2:
                        _a.user = _d.sent();
                        this.processLoadedUserData();
                        this.currentCommunityIndex = this.user.churches.map(function (c) { return c._id; }).indexOf('5ab62be8f83e2c1a8d41f894');
                        _d.label = 3;
                    case 3:
                        this.storage.set('currentCommunityIndex', this.currentCommunityIndex.toString());
                        return [4 /*yield*/, this.storage.get('serverDomain')];
                    case 4:
                        domain = _d.sent();
                        if (domain && domain.length) {
                            this.networkService.domain = domain;
                            if (domain === 'https://server.restvo.com') {
                                this.stripeService.setKey('pk_live_yJ6A4nw34iPEMTvJnAzTZPLl');
                            }
                            else {
                                this.stripeService.setKey('pk_test_x6u9uWj1QBPuhpD1MtOTTriS');
                            }
                        }
                        else {
                            this.stripeService.setKey('pk_live_yJ6A4nw34iPEMTvJnAzTZPLl');
                        }
                        _b = this;
                        return [4 /*yield*/, this.storage.get('defaultProgram')];
                    case 5:
                        _b.defaultProgram = _d.sent();
                        _c = this;
                        return [4 /*yield*/, this.storage.get('UIAdminMode')];
                    case 6:
                        _c.UIAdminMode = _d.sent();
                        setTimeout(function () {
                            _this.UIready = true; // give app.component.html time to render correct UI params (e.g. UIAdminMode) before enabling it
                        }, 500);
                        return [2 /*return*/];
                }
            });
        });
    };
    // filter the info based on churches selection
    UserData.prototype.changeCommunity = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        event.stopPropagation();
                        //this.menuCtrl.close();
                        //this.currentCommunityIndex = index; // this will always be smaller than churches.length
                        this.storage.set("currentCommunityIndex", this.currentCommunityIndex.toString());
                        _a = this;
                        return [4 /*yield*/, this.hasAdminAccess(this.user.churches[this.currentCommunityIndex]._id)];
                    case 1:
                        _a.currentCommunityAdminStatus = _b.sent();
                        if (this.router.url.indexOf('/app/manage') > -1 && !this.currentCommunityAdminStatus) { // if user switches to a community where he is no longer an admin
                            this.router.navigateByUrl('/app/discover');
                        }
                        else {
                            this.refreshAppPages();
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    UserData.prototype.addDeviceToken = function (data) {
        return this.http.put(this.networkService.domain + '/api/auth/devicetoken', JSON.stringify(data), this.authService.httpAuthOptions);
    };
    UserData.prototype.hasAdminAccess = function (communityId) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.http.get(this.networkService.domain + '/api/auth/hasadminaccess/' + communityId, this.authService.httpAuthOptions).toPromise()];
            });
        });
    };
    UserData.prototype.initializeUser = function () {
        return this.http.get(this.networkService.domain + '/api/auth/initialize', this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.resetOSBadges = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(this.user && this.user.hasOwnProperty('unreadBadgeCount'))) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.loadUser()];
                    case 1:
                        _a.user = _b.sent();
                        if (this.platform.is('cordova') && this.user.enablePushNotification) {
                            this.badge.set(this.user.unreadBadgeCount);
                        }
                        if (this.electronService.isElectronApp) {
                            this.electronService.ipcRenderer.send('SYSTEM_TRAY:::SET_BADGE', (this.user.unreadBadgeCount > -1) ? this.user.unreadBadgeCount : 0);
                        }
                        _b.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    UserData.prototype.loadPrograms = function (loadParticipants) {
        return this.http.get(this.networkService.domain + '/api/auth/programs?loadParticipants=' + loadParticipants, this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.loadMyChurches = function () {
        return this.http.get(this.networkService.domain + '/api/mychurch', this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.loadMyAdminChurches = function (searchKeyword, pageNum) {
        return this.http.get(this.networkService.domain + '/api/mychurch/adminchurches?searchKeyword=' + searchKeyword + '&pageNum=' + pageNum, this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.loadMyGroups = function () {
        return this.http.get(this.networkService.domain + '/api/mygroup', this.authService.httpAuthOptions);
    };
    UserData.prototype.loadMyFriends = function () {
        return this.http.get(this.networkService.domain + '/api/auth/friends', this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.loadMySystemMessages = function () {
        return this.http.get(this.networkService.domain + '/api/auth/system', this.authService.httpAuthOptions);
    };
    UserData.prototype.update = function (profile) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/auth', JSON.stringify(profile), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        if (this.socket) { // only emit if the user socket has been setup. eg. after a user has logged in. this will be false in the registration process
                            this.socket.emit('refresh user status', this.user._id, { type: 'update user info' });
                        }
                        return [4 /*yield*/, this.load()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    UserData.prototype.joinCommunity = function (church) {
        var _this = this;
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var data, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.checkPushNotification()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.joinCommunityHttp(church)];
                    case 2:
                        data = _a.sent();
                        resolve(data);
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        reject(err_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        }); });
    };
    UserData.prototype.joinCommunityHttp = function (church) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        headers = new Headers();
                        headers.append('Content-Type', 'application/json');
                        headers.append('Authorization', this.authService.token);
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/mychurch', JSON.stringify(church), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        data = _a.sent();
                        return [4 /*yield*/, this.load()];
                    case 2:
                        _a.sent();
                        this.currentCommunityIndex = this.user.churches.length - 1;
                        this.storage.set('currentCommunityIndex', this.currentCommunityIndex.toString()); //store this for the next time the app starts up
                        this.socket.emit('refresh user status', this.user._id, { type: 'update church participation' });
                        return [2 /*return*/, data];
                }
            });
        });
    };
    UserData.prototype.removePendingMessages = function (data) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("before send", JSON.stringify(data));
                        headers = new Headers();
                        headers.append('Content-Type', 'application/json');
                        headers.append('Authorization', this.authService.token);
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/auth/removepending', JSON.stringify(data), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh user status', this.user._id, { type: 'update system messages' });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    UserData.prototype.leaveCommunity = function (id) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.delete(this.networkService.domain + '/api/mychurch/' + id, this.authService.httpAuthOptions).toPromise()];
                    case 1:
                        promise = _a.sent();
                        this.socket.emit('refresh user status', this.user._id, { type: 'update church participation' });
                        return [4 /*yield*/, this.load()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadStoredCommunity()];
                    case 3:
                        _a.sent();
                        this.cache.clearGroup("churches");
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    UserData.prototype.joinGroup = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
                        var data, err_2;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    _a.trys.push([0, 3, , 4]);
                                    return [4 /*yield*/, this.checkPushNotification()];
                                case 1:
                                    _a.sent();
                                    return [4 /*yield*/, this.joinGroupHTTP(group)];
                                case 2:
                                    data = _a.sent();
                                    resolve(data);
                                    return [3 /*break*/, 4];
                                case 3:
                                    err_2 = _a.sent();
                                    reject(err_2);
                                    return [3 /*break*/, 4];
                                case 4: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    UserData.prototype.joinGroupHTTP = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/mygroup', JSON.stringify(group), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        data = _a.sent();
                        return [4 /*yield*/, this.load()];
                    case 2:
                        _a.sent();
                        if (group.conversation) {
                            this.socket.emit('refresh user status', this.user._id, { type: 'update group participation', conversationId: group.conversation._id, group: group });
                            this.authService.chatSocketMessage({ topic: 'chat socket emit', conversationId: group.conversation._id, data: { action: 'update group member list' } });
                        }
                        else if (group.board) {
                            this.refreshUserStatus({ type: 'load user community boards' });
                            this.socket.emit('refresh user status', this.user._id, { type: 'update group participation', conversationId: "all" });
                        }
                        return [2 /*return*/, data];
                }
            });
        });
    };
    UserData.prototype.acceptJoinGroupRequest = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var data, err_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/mygroup/accept', JSON.stringify(group), this.authService.httpAuthOptions)
                                .toPromise()];
                    case 1:
                        data = _a.sent();
                        if (group.conversation) {
                            this.socket.emit('refresh user status', this.user._id, { type: 'update group participation', conversationId: group.conversation, group: group }); //conversationId is unpopulated ObjectId
                            this.authService.chatSocketMessage({ topic: 'chat socket emit', conversationId: group.conversation, data: { action: 'update group member list' } });
                        }
                        else if (group.board) {
                            this.refreshUserStatus({ type: 'load user community boards' });
                            this.socket.emit('refresh user status', this.user._id, { type: 'update group participation', conversationId: "all" });
                        }
                        return [2 /*return*/, data];
                    case 2:
                        err_3 = _a.sent();
                        console.log(err_3);
                        return [2 /*return*/, err_3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    UserData.prototype.checkPushNotification = function () {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var alert_1;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.user.enablePushNotification) return [3 /*break*/, 5];
                        if (!this.delayPushNotificationReminder) return [3 /*break*/, 1];
                        resolve(false);
                        return [3 /*break*/, 4];
                    case 1: return [4 /*yield*/, this.alertCtrl.create({
                            header: "Push Notification",
                            message: "This allows Restvo to send you notifications on your device when other users message you. Do you want to enable push notification?",
                            buttons: [{
                                    text: 'Yes',
                                    handler: function () {
                                        _this.enablePushNotification(true);
                                        resolve(true);
                                    }
                                }, { text: 'Later',
                                    handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                        var delayPushNotificationReminder;
                                        return __generator(this, function (_a) {
                                            switch (_a.label) {
                                                case 0: return [4 /*yield*/, this.storage.get('delayPushNotificationReminder')];
                                                case 1:
                                                    delayPushNotificationReminder = _a.sent();
                                                    this.delayPushNotificationReminder = delayPushNotificationReminder ? delayPushNotificationReminder - 1 : 3;
                                                    return [4 /*yield*/, this.storage.set('delayPushNotificationReminder', this.delayPushNotificationReminder)];
                                                case 2:
                                                    _a.sent();
                                                    resolve(false);
                                                    return [2 /*return*/];
                                            }
                                        });
                                    }); } }]
                        })];
                    case 2:
                        alert_1 = _a.sent();
                        return [4 /*yield*/, alert_1.present()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [3 /*break*/, 6];
                    case 5:
                        resolve(true);
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); });
    };
    UserData.prototype.toggleImportContactList = function (importOn) {
        var _this = this;
        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
            var alert_2, err_4, err_5, msg, permissionAlert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 10, , 13]);
                        if (!(importOn && !this.user.importContactList)) return [3 /*break*/, 3];
                        console.log("turning import contact on");
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: "Import Address Book",
                                message: "Connect with friends and family on Restvo by importing your address book. The data will be securely transmitted to our server for the sole purpose of connecting you to your friends on Restvo. Allow Restvo to import your address book?",
                                buttons: [{
                                        text: 'Yes',
                                        handler: function () { return __awaiter(_this, void 0, void 0, function () {
                                            var result, errorAlert;
                                            return __generator(this, function (_a) {
                                                switch (_a.label) {
                                                    case 0: return [4 /*yield*/, this.uploadContactList(2)];
                                                    case 1:
                                                        result = _a.sent();
                                                        if (!(result === 'upload successful')) return [3 /*break*/, 3];
                                                        return [4 /*yield*/, this.update({ importContactList: true })];
                                                    case 2:
                                                        _a.sent();
                                                        this.user.importContactList = true;
                                                        resolve(true);
                                                        return [3 /*break*/, 6];
                                                    case 3:
                                                        this.user.importContactList = false; // has to manually update user info because socket.io doesn't send back to sender
                                                        return [4 /*yield*/, this.alertCtrl.create({
                                                                header: 'Cannot Import Address Book',
                                                                subHeader: result,
                                                                buttons: ['Dismiss'],
                                                                cssClass: 'level-15'
                                                            })];
                                                    case 4:
                                                        errorAlert = _a.sent();
                                                        return [4 /*yield*/, errorAlert.present()];
                                                    case 5:
                                                        _a.sent();
                                                        resolve(false);
                                                        _a.label = 6;
                                                    case 6: return [2 /*return*/];
                                                }
                                            });
                                        }); }
                                    }, { text: 'Later',
                                        handler: function () {
                                            _this.delayImportContactListReminder = 3;
                                            _this.storage.set('delayImportContactListReminder', 3);
                                            resolve(false);
                                        } }]
                            })];
                    case 1:
                        alert_2 = _a.sent();
                        return [4 /*yield*/, alert_2.present()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 9];
                    case 3:
                        if (!(!importOn && this.user.importContactList)) return [3 /*break*/, 8];
                        console.log("turning import contact off");
                        _a.label = 4;
                    case 4:
                        _a.trys.push([4, 6, , 7]);
                        return [4 /*yield*/, this.update({ importContactList: false })];
                    case 5:
                        _a.sent();
                        this.user.importContactList = false;
                        resolve(false);
                        return [3 /*break*/, 7];
                    case 6:
                        err_4 = _a.sent();
                        resolve(true);
                        return [3 /*break*/, 7];
                    case 7: return [3 /*break*/, 9];
                    case 8:
                        console.log("nothing happens");
                        resolve(importOn);
                        _a.label = 9;
                    case 9: return [3 /*break*/, 13];
                    case 10:
                        err_5 = _a.sent();
                        this.user.importContactList = false;
                        msg = 'To enable the Import Contacts feature: ';
                        if (this.platform.is('android')) {
                            msg += '1. Open your phone Settings and tap Notifications. 2. Turn on Notifications for Restvo. 3. Com back here to enable Push Notification.';
                        }
                        else {
                            msg += '1. Open your phone Settings and tap Notifications. 2. Tap Restvo. 3. Turn on Allow Notifications. 4. Com back here to enable Push Notification.';
                        }
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'You need to give permission to Restvo',
                                subHeader: msg,
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 11:
                        permissionAlert = _a.sent();
                        return [4 /*yield*/, permissionAlert.present()];
                    case 12:
                        _a.sent();
                        resolve(false);
                        return [3 /*break*/, 13];
                    case 13: return [2 /*return*/];
                }
            });
        }); });
    };
    UserData.prototype.toggleAllowedDiscovered = function (state) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        var err_6, alert_3;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    _a.trys.push([0, 6, , 9]);
                                    if (!(state && this.user.hideInDirectory)) return [3 /*break*/, 2];
                                    return [4 /*yield*/, this.update({ hideInDirectory: false })];
                                case 1:
                                    _a.sent();
                                    this.user.hideInDirectory = false;
                                    resolve(state); //allowed to be discovered
                                    return [3 /*break*/, 5];
                                case 2:
                                    if (!(!state && !this.user.hideInDirectory)) return [3 /*break*/, 4];
                                    return [4 /*yield*/, this.update({ hideInDirectory: true })];
                                case 3:
                                    _a.sent();
                                    this.user.hideInDirectory = true;
                                    resolve(state); //disallowed to be discovered
                                    return [3 /*break*/, 5];
                                case 4:
                                    // UI state change that is not user's toggle
                                    resolve(state);
                                    _a.label = 5;
                                case 5: return [3 /*break*/, 9];
                                case 6:
                                    err_6 = _a.sent();
                                    return [4 /*yield*/, this.alertCtrl.create({
                                            header: 'No Internet Connection',
                                            subHeader: 'Check your internet connection and try again later.',
                                            buttons: ['Dismiss'],
                                            cssClass: 'level-15'
                                        })];
                                case 7:
                                    alert_3 = _a.sent();
                                    return [4 /*yield*/, alert_3.present()];
                                case 8:
                                    _a.sent();
                                    resolve(!state);
                                    return [3 /*break*/, 9];
                                case 9: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    UserData.prototype.toggleShareContactInfo = function (state) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                        var err_7, alert_4;
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    _a.trys.push([0, 6, , 9]);
                                    if (!(state && !this.user.shareContactInfo)) return [3 /*break*/, 2];
                                    return [4 /*yield*/, this.update({ shareContactInfo: true })];
                                case 1:
                                    _a.sent();
                                    this.user.shareContactInfo = true;
                                    resolve(state); //allowed to be discovered
                                    return [3 /*break*/, 5];
                                case 2:
                                    if (!(!state && this.user.shareContactInfo)) return [3 /*break*/, 4];
                                    return [4 /*yield*/, this.update({ shareContactInfo: false })];
                                case 3:
                                    _a.sent();
                                    this.user.shareContactInfo = false;
                                    resolve(state); //disallowed to be discovered
                                    return [3 /*break*/, 5];
                                case 4:
                                    // UI state change that is not user's toggle
                                    resolve(state);
                                    _a.label = 5;
                                case 5: return [3 /*break*/, 9];
                                case 6:
                                    err_7 = _a.sent();
                                    return [4 /*yield*/, this.alertCtrl.create({
                                            header: 'No Internet Connection',
                                            subHeader: 'Check your internet connection and try again later.',
                                            buttons: ['Dismiss'],
                                            cssClass: 'level-15'
                                        })];
                                case 7:
                                    alert_4 = _a.sent();
                                    return [4 /*yield*/, alert_4.present()];
                                case 8:
                                    _a.sent();
                                    resolve(!state);
                                    return [3 /*break*/, 9];
                                case 9: return [2 /*return*/];
                            }
                        });
                    }); })];
            });
        });
    };
    UserData.prototype.checkIfEmailExists = function (email) {
        return this.http.get(this.networkService.domain + '/api/auth/checkifexist/' + email, this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.leaveGroup = function (group) {
        return __awaiter(this, void 0, void 0, function () {
            var promise;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.http.put(this.networkService.domain + '/api/mygroup/leave', JSON.stringify(group), this.authService.httpAuthOptions)
                            .toPromise()];
                    case 1:
                        promise = _a.sent();
                        return [4 /*yield*/, this.load()];
                    case 2:
                        _a.sent();
                        this.refreshUserStatus({ type: 'close group view', data: { _id: group._id } });
                        if (group.conversation) {
                            this.authService.refreshGroupStatus({ conversationId: group.conversation, data: group });
                            this.authService.chatSocketMessage({ topic: 'chat socket emit', conversationId: group.conversation, data: { action: 'update group member list' } });
                        }
                        this.socket.emit('refresh user status', this.user._id, { type: 'leave group', groupId: group._id });
                        return [2 /*return*/, promise];
                }
            });
        });
    };
    UserData.prototype.uploadContactList = function (delay) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                var newlyAddedContacts, result, lastUploadedContactList, err_8, err_9;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!(this.user && this.user._id)) return [3 /*break*/, 12];
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 10, , 11]);
                            return [4 /*yield*/, this.getNewlyAddedContacts()];
                        case 2:
                            newlyAddedContacts = _a.sent();
                            console.log("contacts", newlyAddedContacts);
                            _a.label = 3;
                        case 3:
                            _a.trys.push([3, 8, , 9]);
                            return [4 /*yield*/, this.uploadContactListHTTP(newlyAddedContacts)];
                        case 4:
                            result = _a.sent();
                            console.log("upload result", result);
                            if (!(result === 'success')) return [3 /*break*/, 6];
                            return [4 /*yield*/, this.storage.get("lastUploadedContactList")];
                        case 5:
                            lastUploadedContactList = _a.sent();
                            if (lastUploadedContactList && lastUploadedContactList.length) {
                                //console.log("lastUploadedContactList", lastUploadedContactList);
                                lastUploadedContactList = lastUploadedContactList.concat(newlyAddedContacts);
                                lastUploadedContactList.sort(function (a, b) {
                                    return parseFloat(a["_objectInstance"].id) - parseFloat(b["_objectInstance"].id);
                                });
                                this.storage.set('lastUploadedContactList', lastUploadedContactList); //store the last loaded Contact List to the local storage
                            }
                            else {
                                this.storage.set('lastUploadedContactList', newlyAddedContacts); //store the newly imported contacts to the local storage
                            }
                            console.log("upload successful");
                            resolve("upload successful");
                            return [3 /*break*/, 7];
                        case 6:
                            console.log("upload failed. server cannot process the request");
                            resolve("The server cannot process your request.");
                            _a.label = 7;
                        case 7: return [3 /*break*/, 9];
                        case 8:
                            err_8 = _a.sent();
                            console.log("upload failed. problem connecting to the server");
                            resolve("There is a problem connecting to the server. Please try again later.");
                            return [3 /*break*/, 9];
                        case 9: return [3 /*break*/, 11];
                        case 10:
                            err_9 = _a.sent();
                            console.log("user refuses to provide permission.");
                            reject("user refuses to provide permission.");
                            return [3 /*break*/, 11];
                        case 11: return [3 /*break*/, 13];
                        case 12:
                            console.log("user is not logged in.");
                            resolve("user is not logged in.");
                            _a.label = 13;
                        case 13: return [2 /*return*/];
                    }
                });
            }); }, delay * 1000); //check and upload contact list after x sec
        });
    };
    UserData.prototype.uploadContactListHTTP = function (newlyAddedContacts) {
        return this.http.post(this.networkService.domain + '/api/contact/upload', JSON.stringify({ contacts: newlyAddedContacts }), this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.getNewlyAddedContacts = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.storage.get("lastUploadedContactList").then(function (lastUploadedContactList) {
                _this.contacts.find(['*'], { desiredFields: ['name', 'phoneNumbers', 'emails', 'addresses'], multiple: true }).then(function (contacts) {
                    var currentContacts = contacts;
                    if (lastUploadedContactList && lastUploadedContactList.length) {
                        contacts.sort(function (a, b) {
                            return parseFloat(a["_objectInstance"].id) - parseFloat(b["_objectInstance"].id);
                        });
                        console.log("last record: ", contacts[contacts.length - 1]["_objectInstance"].id, lastUploadedContactList[lastUploadedContactList.length - 1]["_objectInstance"].id);
                        var newlyAddedContacts = [];
                        var lastUploadedContactIds = lastUploadedContactList.map(function (c) { return c["_objectInstance"].id; });
                        for (var i = 0; i < contacts.length; i++) {
                            var j = lastUploadedContactIds.indexOf(contacts[i]["_objectInstance"].id);
                            if (j > -1) {
                                //if an existing record was changed
                                if (JSON.stringify(contacts[i]["_objectInstance"]) !== JSON.stringify(lastUploadedContactList[j]["_objectInstance"])) {
                                    newlyAddedContacts.push(contacts[i]);
                                }
                            }
                            else {
                                //if this is newly added contact
                                newlyAddedContacts.push(contacts[i]);
                            }
                        }
                        resolve(newlyAddedContacts);
                    }
                    else {
                        currentContacts.sort(function (a, b) {
                            return parseFloat(a["_objectInstance"].id) - parseFloat(b["_objectInstance"].id);
                        });
                        resolve(currentContacts);
                    }
                }, function (err) {
                    reject(err);
                });
            }, function (err) {
                reject(err);
            });
        });
    };
    UserData.prototype.inviteFriends = function (data) {
        return this.http.post(this.networkService.domain + '/api/auth/invitefriends', JSON.stringify(data), this.authService.httpAuthOptions);
    };
    UserData.prototype.permanentlyEraseUser = function () {
        return this.http.get(this.networkService.domain + '/api/auth/permanentlyeraseuser', this.authService.httpAuthOptions);
    };
    UserData.prototype.loadMyOnboardingAnswers = function () {
        return this.http.get(this.networkService.domain + '/api/auth/onboardinganswers', this.authService.httpAuthOptions).toPromise();
    };
    UserData.prototype.logout = function () {
        return __awaiter(this, void 0, void 0, function () {
            var loading, removeBackendTokens, userTokens, userTokens, err_10, networkAlert;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadingCtrl.create({
                            message: 'Loading...'
                        })];
                    case 1:
                        loading = _a.sent();
                        return [4 /*yield*/, loading.present()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        _a.trys.push([3, 6, , 9]);
                        removeBackendTokens = false;
                        // remove current device token from User Data
                        if (this.pushSubscription && this.pushSubscription.endpoint) {
                            userTokens = JSON.parse(JSON.stringify(this.user.deviceTokens));
                            userTokens.forEach(function (deviceToken, index) {
                                if (deviceToken.hasOwnProperty('endpoint') && (deviceToken.endpoint === _this.pushSubscription.endpoint)) {
                                    console.log("removing current push object from database", deviceToken);
                                    _this.user.deviceTokens.splice(index, 1);
                                }
                            });
                            removeBackendTokens = true;
                        }
                        if (this.deviceToken && this.deviceToken.length) {
                            userTokens = JSON.parse(JSON.stringify(this.user.deviceTokens));
                            userTokens.forEach(function (deviceToken, index) {
                                if (typeof deviceToken === 'string' && deviceToken === _this.deviceToken) {
                                    console.log("removing device token from database", deviceToken);
                                    _this.user.deviceTokens.splice(index, 1);
                                }
                            });
                            removeBackendTokens = true;
                        }
                        if (!removeBackendTokens) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.update({
                                _id: this.user._id,
                                deviceTokens: this.user.deviceTokens
                            })];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5:
                        this.storage.clear();
                        this.cache.clearAll();
                        if (this.user.enablePushNotification) {
                            if (this.platform.is('cordova') && this.user.enablePushNotification) {
                                this.badge.set(0);
                            }
                        }
                        if (this.electronService.isElectronApp) {
                            this.electronService.ipcRenderer.send('SYSTEM_TRAY:::SET_BADGE', 0);
                        }
                        setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0: return [4 /*yield*/, this.resetUserData()];
                                    case 1:
                                        _a.sent();
                                        this.menuCtrl.enable(false);
                                        this.router.navigate(['/activity/5d5785b462489003817fee18']);
                                        //this.router.navigate(['/register', { slide : '0', exitType: 'slide' }]);
                                        loading.dismiss();
                                        return [2 /*return*/];
                                }
                            });
                        }); }, 500);
                        return [3 /*break*/, 9];
                    case 6:
                        err_10 = _a.sent();
                        console.log(err_10);
                        loading.dismiss();
                        return [4 /*yield*/, this.alertCtrl.create({
                                header: 'No Internet Connection',
                                message: 'Please resume internet connection to complete the log out process.',
                                buttons: ['Dismiss'],
                                cssClass: 'level-15'
                            })];
                    case 7:
                        networkAlert = _a.sent();
                        return [4 /*yield*/, networkAlert.present()];
                    case 8:
                        _a.sent();
                        return [3 /*break*/, 9];
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    UserData.prototype.resetUserData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var ShareExtension, err_11;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.user = {};
                        this.currentCommunityAdminStatus = false;
                        this.currentCommunityIndex = 0;
                        this.developerModeClick = 0;
                        this.delayPushNotificationReminder = 0;
                        this.delayImportContactListReminder = 0;
                        this.splitPaneState = 'md';
                        this.UIrestStatus = 'active';
                        this.videoChatRoomId = '';
                        this.readyToControlVideoChat = true;
                        this.showDownloadLink = true;
                        this.defaultProgram = null;
                        this.UIAdminMode = false;
                        this.UIready = false;
                        this.authService.logout();
                        // deviceToken is not removed because it needs to be used when another user sign in.
                        // that is because the deviceToken is only fetched when the app is loaded for the first time
                        this.authService.chatSocketMessage({ topic: 'disconnect chat socket' });
                        this.socket.close();
                        if (!this.platform.is('ios')) return [3 /*break*/, 4];
                        ShareExtension = _capacitor_core__WEBPACK_IMPORTED_MODULE_16__["Plugins"].ShareExtension;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, ShareExtension.clearNativeUserDefaults()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        err_11 = _a.sent();
                        console.log(err_11);
                        return [3 /*break*/, 4];
                    case 4:
                        // clear authService cached routing history
                        this.authService.cachedRouteUrl = null;
                        this.authService.cachedRouteParams = null;
                        // clear calendarService cached data
                        this.calendarService.calendarItems = [];
                        return [2 /*return*/];
                }
            });
        });
    };
    UserData.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_17__["Router"] },
        { type: ngx_stripe__WEBPACK_IMPORTED_MODULE_6__["StripeService"] },
        { type: ngx_electron__WEBPACK_IMPORTED_MODULE_2__["ElectronService"] },
        { type: _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_7__["Badge"] },
        { type: ionic_cache__WEBPACK_IMPORTED_MODULE_4__["CacheService"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"] },
        { type: _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_8__["Contacts"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"] },
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_9__["Auth"] },
        { type: _network_service_service__WEBPACK_IMPORTED_MODULE_11__["NetworkService"] },
        { type: _calendar_service__WEBPACK_IMPORTED_MODULE_10__["CalendarService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('Contact', { static: false }),
        __metadata("design:type", _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_8__["Contact"])
    ], UserData.prototype, "contact", void 0);
    UserData = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({ providedIn: 'root' }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_17__["Router"],
            ngx_stripe__WEBPACK_IMPORTED_MODULE_6__["StripeService"],
            ngx_electron__WEBPACK_IMPORTED_MODULE_2__["ElectronService"],
            _ionic_native_badge_ngx__WEBPACK_IMPORTED_MODULE_7__["Badge"],
            ionic_cache__WEBPACK_IMPORTED_MODULE_4__["CacheService"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_5__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_native_contacts_ngx__WEBPACK_IMPORTED_MODULE_8__["Contacts"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["LoadingController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"],
            _auth_service__WEBPACK_IMPORTED_MODULE_9__["Auth"],
            _network_service_service__WEBPACK_IMPORTED_MODULE_11__["NetworkService"],
            _calendar_service__WEBPACK_IMPORTED_MODULE_10__["CalendarService"]])
    ], UserData);
    return UserData;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_4__);
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




 // HAMMER TIME
if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ "./src/utils/IonicGestureConfig.ts":
/*!*****************************************!*\
  !*** ./src/utils/IonicGestureConfig.ts ***!
  \*****************************************/
/*! exports provided: IonicGestureConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IonicGestureConfig", function() { return IonicGestureConfig; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


/**
 * @hidden
 * This class overrides the default Angular gesture config.
 */
var IonicGestureConfig = /** @class */ (function (_super) {
    __extends(IonicGestureConfig, _super);
    function IonicGestureConfig() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IonicGestureConfig.prototype.buildHammer = function (element) {
        var mc = new window.Hammer(element);
        for (var eventName in this.overrides) {
            if (eventName) {
                mc.get(eventName).set(this.overrides[eventName]);
            }
        }
        return mc;
    };
    IonicGestureConfig = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
    ], IonicGestureConfig);
    return IonicGestureConfig;
}(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["HammerGestureConfig"]));



/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/calixhuang/Web_Development/restvo/restvo-app/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map